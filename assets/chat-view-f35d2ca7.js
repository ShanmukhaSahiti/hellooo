import{c as Gs,j as Re,B as Xa,a as kh,A as Ch,T as Xs,S as Ah,P as Js,r as ui,p as Sh,W as Ph}from"./index-c9f92dac.js";import{C as Fh}from"./Card-05bee6c8.js";import{C as Th}from"./Container-00f87d3a.js";import{G as Ha}from"./Grid2-5b4c95c4.js";import"./isMuiElement-68eb29aa.js";function ro(n,e){return t=>t[n]>e}function ao(n){return n<0}function Mh(n,e){return Object.values(n.reduce((t,r)=>{let o=`_${r[e]}`;return t[o]||(t[o]=[]),t[o].push(r),t},{}))}function Eh(n){return n.some(ro(0,12))?!0:n.some(ro(1,12))?!1:null}function Oh(n){let e=Mh(n,2).map(t=>t.slice(1).some((r,o)=>{let[u]=t[o],[f]=r;return ao(f-u)})?!0:t.slice(1).some((r,o)=>{let[,u]=t[o],[,f]=r;return ao(f-u)})?!1:null);return e.some(t=>t===!0)?!0:e.some(t=>t===!1)?!1:null}function Lh(n){let e=n.slice(1).map((o,u)=>o.map((f,m)=>Math.abs(n[u][m]-f))),[t,r]=e.reduce((o,u)=>{let[f,m]=o,[y,D]=u;return[f+y,m+D]},[0,0]);return t>r?!0:t<r?!1:null}function Bh(n){let e=Eh(n);if(e!==null)return e;let t=Oh(n);return t!==null?t:Lh(n)}function Ih(n,e,t){return[n.padStart(4,"2000"),e.padStart(2,"0"),t.padStart(2,"0")]}function no(n){let e=/[-/.] ?/,[t,r,o]=n.split(e),u=Math.max(t.length,r.length,o.length);return o.length===u?[t,r,o]:r.length===u?[t,o,r]:[r,o,t]}var Cn=/[:.]/;function Rh(n,e){let[t,r,o]=n.split(Cn);return t==="12"&&(t="00"),e==="PM"&&(t=String(parseInt(t,10)+12)),`${t}:${r}${o?`:${o}`:""}`}function Yh(n){let[e,t,r]=n.split(Cn);return`${e.padStart(2,"0")}:${t}:${r||"00"}`}function jh(n){return n.replace(/[^apm]/gi,"").toUpperCase()}var Io=/^(?:\u200E|\u200F)*\[?(\d{1,4}[-/.]\s?\d{1,4}[-/.]\s?\d{1,4})[,.]?\s\D*?(\d{1,2}[.:]\d{1,2}(?:[.:]\d{1,2})?)(?:\s([ap]\.?\s?m\.?))?\]?(?:\s-|:)?\s/,zh=/(.+?):\s([^]*)/,Xh=/([^]+)/,Ro=new RegExp(Io.source+zh.source,"i"),Yo=new RegExp(Io.source+Xh.source,"i"),Hh=/<.+:(.+)>|([A-Z\d-]+\.\w+)\s[(<].+[)>]/;function Nh(n){return n.reduce((e,t)=>{if(Ro.test(t))e.push({system:!1,msg:t});else if(Yo.test(t))e.push({system:!0,msg:t});else if(typeof e[e.length-1]<"u"){let r=e.pop();e.push({system:r.system,msg:`${r.msg}
${t}`})}return e},[])}function Wh(n){let e=n.match(Hh);return e?{fileName:(e[1]||e[2]).trim()}:null}function Vh(n,e={}){let{daysFirst:t}=e,{parseAttachments:r}=e,o=n.map(u=>{let{system:f,msg:m}=u;if(f){let[,S,X,O,z]=Yo.exec(m);return{date:S,time:X,ampm:O||null,author:null,message:z}}let[,y,D,T,C,M]=Ro.exec(m);return{date:y,time:D,ampm:T||null,author:C,message:M}});if(typeof t!="boolean"){let u=Array.from(new Set(o.map(({date:f})=>f)),f=>no(f).map(Number));t=Bh(u)}return o.map(({date:u,time:f,ampm:m,author:y,message:D})=>{let T,C,M,S=no(u);t===!1?[C,T,M]=S:[T,C,M]=S,[M,C,T]=Ih(M,C,T);let[X,O,z]=Yh(m?Rh(f,jh(m)):f).split(Cn),G={date:new Date(+M,+C-1,+T,+X,+O,+z),author:y,message:D};if(r){let R=Wh(D);R&&(G.attachment=R)}return G})}var Gh=/(?:\r\n|\r|\n)/;function Uh(n,e={parseAttachments:!1}){let t=n.split(Gh);return Vh(Nh(t),e)}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var jo;function pe(){return jo.apply(null,arguments)}function qh(n){jo=n}function ii(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function ss(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function He(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function An(n){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(n).length===0;var e;for(e in n)if(He(n,e))return!1;return!0}function Lt(n){return n===void 0}function Ei(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function mr(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function zo(n,e){var t=[],r,o=n.length;for(r=0;r<o;++r)t.push(e(n[r],r));return t}function Hi(n,e){for(var t in e)He(e,t)&&(n[t]=e[t]);return He(e,"toString")&&(n.toString=e.toString),He(e,"valueOf")&&(n.valueOf=e.valueOf),n}function mi(n,e,t,r){return hl(n,e,t,r,!0).utc()}function Zh(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Te(n){return n._pf==null&&(n._pf=Zh()),n._pf}var sn;Array.prototype.some?sn=Array.prototype.some:sn=function(n){var e=Object(this),t=e.length>>>0,r;for(r=0;r<t;r++)if(r in e&&n.call(this,e[r],r,e))return!0;return!1};function Sn(n){var e=null,t=!1,r=n._d&&!isNaN(n._d.getTime());if(r&&(e=Te(n),t=sn.call(e.parsedDateParts,function(o){return o!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t),n._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(n))n._isValid=r;else return r;return n._isValid}function ga(n){var e=mi(NaN);return n!=null?Hi(Te(e),n):Te(e).userInvalidated=!0,e}var oo=pe.momentProperties=[],Na=!1;function Pn(n,e){var t,r,o,u=oo.length;if(Lt(e._isAMomentObject)||(n._isAMomentObject=e._isAMomentObject),Lt(e._i)||(n._i=e._i),Lt(e._f)||(n._f=e._f),Lt(e._l)||(n._l=e._l),Lt(e._strict)||(n._strict=e._strict),Lt(e._tzm)||(n._tzm=e._tzm),Lt(e._isUTC)||(n._isUTC=e._isUTC),Lt(e._offset)||(n._offset=e._offset),Lt(e._pf)||(n._pf=Te(e)),Lt(e._locale)||(n._locale=e._locale),u>0)for(t=0;t<u;t++)r=oo[t],o=e[r],Lt(o)||(n[r]=o);return n}function br(n){Pn(this,n),this._d=new Date(n._d!=null?n._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Na===!1&&(Na=!0,pe.updateOffset(this),Na=!1)}function si(n){return n instanceof br||n!=null&&n._isAMomentObject!=null}function Xo(n){pe.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+n)}function Ut(n,e){var t=!0;return Hi(function(){if(pe.deprecationHandler!=null&&pe.deprecationHandler(null,n),t){var r=[],o,u,f,m=arguments.length;for(u=0;u<m;u++){if(o="",typeof arguments[u]=="object"){o+=`
[`+u+"] ";for(f in arguments[0])He(arguments[0],f)&&(o+=f+": "+arguments[0][f]+", ");o=o.slice(0,-2)}else o=arguments[u];r.push(o)}Xo(n+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),t=!1}return e.apply(this,arguments)},e)}var lo={};function Ho(n,e){pe.deprecationHandler!=null&&pe.deprecationHandler(n,e),lo[n]||(Xo(e),lo[n]=!0)}pe.suppressDeprecationWarnings=!1;pe.deprecationHandler=null;function bi(n){return typeof Function<"u"&&n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function $h(n){var e,t;for(t in n)He(n,t)&&(e=n[t],bi(e)?this[t]=e:this["_"+t]=e);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function rn(n,e){var t=Hi({},n),r;for(r in e)He(e,r)&&(ss(n[r])&&ss(e[r])?(t[r]={},Hi(t[r],n[r]),Hi(t[r],e[r])):e[r]!=null?t[r]=e[r]:delete t[r]);for(r in n)He(n,r)&&!He(e,r)&&ss(n[r])&&(t[r]=Hi({},t[r]));return t}function Fn(n){n!=null&&this.set(n)}var an;Object.keys?an=Object.keys:an=function(n){var e,t=[];for(e in n)He(n,e)&&t.push(e);return t};var Kh={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Jh(n,e,t){var r=this._calendar[n]||this._calendar.sameElse;return bi(r)?r.call(e,t):r}function gi(n,e,t){var r=""+Math.abs(n),o=e-r.length,u=n>=0;return(u?t?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var Tn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Mr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wa={},_s={};function _e(n,e,t,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),n&&(_s[n]=o),e&&(_s[e[0]]=function(){return gi(o.apply(this,arguments),e[1],e[2])}),t&&(_s[t]=function(){return this.localeData().ordinal(o.apply(this,arguments),n)})}function Qh(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function eu(n){var e=n.match(Tn),t,r;for(t=0,r=e.length;t<r;t++)_s[e[t]]?e[t]=_s[e[t]]:e[t]=Qh(e[t]);return function(o){var u="",f;for(f=0;f<r;f++)u+=bi(e[f])?e[f].call(o,n):e[f];return u}}function jr(n,e){return n.isValid()?(e=No(e,n.localeData()),Wa[e]=Wa[e]||eu(e),Wa[e](n)):n.localeData().invalidDate()}function No(n,e){var t=5;function r(o){return e.longDateFormat(o)||o}for(Mr.lastIndex=0;t>=0&&Mr.test(n);)n=n.replace(Mr,r),Mr.lastIndex=0,t-=1;return n}var tu={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function iu(n){var e=this._longDateFormat[n],t=this._longDateFormat[n.toUpperCase()];return e||!t?e:(this._longDateFormat[n]=t.match(Tn).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[n])}var su="Invalid date";function ru(){return this._invalidDate}var au="%d",nu=/\d{1,2}/;function ou(n){return this._ordinal.replace("%d",n)}var lu={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function hu(n,e,t,r){var o=this._relativeTime[t];return bi(o)?o(n,e,t,r):o.replace(/%d/i,n)}function uu(n,e){var t=this._relativeTime[n>0?"future":"past"];return bi(t)?t(e):t.replace(/%s/i,e)}var ho={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function qt(n){return typeof n=="string"?ho[n]||ho[n.toLowerCase()]:void 0}function Mn(n){var e={},t,r;for(r in n)He(n,r)&&(t=qt(r),t&&(e[t]=n[r]));return e}var cu={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function du(n){var e=[],t;for(t in n)He(n,t)&&e.push({unit:t,priority:cu[t]});return e.sort(function(r,o){return r.priority-o.priority}),e}var Wo=/\d/,Nt=/\d\d/,Vo=/\d{3}/,En=/\d{4}/,pa=/[+-]?\d{6}/,Qe=/\d\d?/,Go=/\d\d\d\d?/,Uo=/\d\d\d\d\d\d?/,ma=/\d{1,3}/,On=/\d{1,4}/,ba=/[+-]?\d{1,6}/,Ls=/\d+/,xa=/[+-]?\d+/,fu=/Z|[+-]\d\d:?\d\d/gi,va=/Z|[+-]\d\d(?::?\d\d)?/gi,gu=/[+-]?\d+(\.\d{1,3})?/,xr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Bs=/^[1-9]\d?/,Ln=/^([1-9]\d|\d)/,Vr;Vr={};function be(n,e,t){Vr[n]=bi(e)?e:function(r,o){return r&&t?t:e}}function pu(n,e){return He(Vr,n)?Vr[n](e._strict,e._locale):new RegExp(mu(n))}function mu(n){return Pi(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,r,o,u){return t||r||o||u}))}function Pi(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Vt(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function Le(n){var e=+n,t=0;return e!==0&&isFinite(e)&&(t=Vt(e)),t}var nn={};function Ze(n,e){var t,r=e,o;for(typeof n=="string"&&(n=[n]),Ei(e)&&(r=function(u,f){f[e]=Le(u)}),o=n.length,t=0;t<o;t++)nn[n[t]]=r}function vr(n,e){Ze(n,function(t,r,o,u){o._w=o._w||{},e(t,o._w,o,u)})}function bu(n,e,t){e!=null&&He(nn,n)&&nn[n](e,t._a,t,n)}function ya(n){return n%4===0&&n%100!==0||n%400===0}var Ct=0,Ci=1,ci=2,gt=3,Qt=4,Ai=5,ts=6,xu=7,vu=8;_e("Y",0,0,function(){var n=this.year();return n<=9999?gi(n,4):"+"+n});_e(0,["YY",2],0,function(){return this.year()%100});_e(0,["YYYY",4],0,"year");_e(0,["YYYYY",5],0,"year");_e(0,["YYYYYY",6,!0],0,"year");be("Y",xa);be("YY",Qe,Nt);be("YYYY",On,En);be("YYYYY",ba,pa);be("YYYYYY",ba,pa);Ze(["YYYYY","YYYYYY"],Ct);Ze("YYYY",function(n,e){e[Ct]=n.length===2?pe.parseTwoDigitYear(n):Le(n)});Ze("YY",function(n,e){e[Ct]=pe.parseTwoDigitYear(n)});Ze("Y",function(n,e){e[Ct]=parseInt(n,10)});function Zs(n){return ya(n)?366:365}pe.parseTwoDigitYear=function(n){return Le(n)+(Le(n)>68?1900:2e3)};var qo=Is("FullYear",!0);function yu(){return ya(this.year())}function Is(n,e){return function(t){return t!=null?(Zo(this,n,t),pe.updateOffset(this,e),this):Qs(this,n)}}function Qs(n,e){if(!n.isValid())return NaN;var t=n._d,r=n._isUTC;switch(e){case"Milliseconds":return r?t.getUTCMilliseconds():t.getMilliseconds();case"Seconds":return r?t.getUTCSeconds():t.getSeconds();case"Minutes":return r?t.getUTCMinutes():t.getMinutes();case"Hours":return r?t.getUTCHours():t.getHours();case"Date":return r?t.getUTCDate():t.getDate();case"Day":return r?t.getUTCDay():t.getDay();case"Month":return r?t.getUTCMonth():t.getMonth();case"FullYear":return r?t.getUTCFullYear():t.getFullYear();default:return NaN}}function Zo(n,e,t){var r,o,u,f,m;if(!(!n.isValid()||isNaN(t))){switch(r=n._d,o=n._isUTC,e){case"Milliseconds":return void(o?r.setUTCMilliseconds(t):r.setMilliseconds(t));case"Seconds":return void(o?r.setUTCSeconds(t):r.setSeconds(t));case"Minutes":return void(o?r.setUTCMinutes(t):r.setMinutes(t));case"Hours":return void(o?r.setUTCHours(t):r.setHours(t));case"Date":return void(o?r.setUTCDate(t):r.setDate(t));case"FullYear":break;default:return}u=t,f=n.month(),m=n.date(),m=m===29&&f===1&&!ya(u)?28:m,o?r.setUTCFullYear(u,f,m):r.setFullYear(u,f,m)}}function wu(n){return n=qt(n),bi(this[n])?this[n]():this}function _u(n,e){if(typeof n=="object"){n=Mn(n);var t=du(n),r,o=t.length;for(r=0;r<o;r++)this[t[r].unit](n[t[r].unit])}else if(n=qt(n),bi(this[n]))return this[n](e);return this}function Du(n,e){return(n%e+e)%e}var lt;Array.prototype.indexOf?lt=Array.prototype.indexOf:lt=function(n){var e;for(e=0;e<this.length;++e)if(this[e]===n)return e;return-1};function Bn(n,e){if(isNaN(n)||isNaN(e))return NaN;var t=Du(e,12);return n+=(e-t)/12,t===1?ya(n)?29:28:31-t%7%2}_e("M",["MM",2],"Mo",function(){return this.month()+1});_e("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});_e("MMMM",0,0,function(n){return this.localeData().months(this,n)});be("M",Qe,Bs);be("MM",Qe,Nt);be("MMM",function(n,e){return e.monthsShortRegex(n)});be("MMMM",function(n,e){return e.monthsRegex(n)});Ze(["M","MM"],function(n,e){e[Ci]=Le(n)-1});Ze(["MMM","MMMM"],function(n,e,t,r){var o=t._locale.monthsParse(n,r,t._strict);o!=null?e[Ci]=o:Te(t).invalidMonth=n});var ku="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),$o="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ko=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Cu=xr,Au=xr;function Su(n,e){return n?ii(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||Ko).test(e)?"format":"standalone"][n.month()]:ii(this._months)?this._months:this._months.standalone}function Pu(n,e){return n?ii(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[Ko.test(e)?"format":"standalone"][n.month()]:ii(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Fu(n,e,t){var r,o,u,f=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)u=mi([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(u,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(u,"").toLocaleLowerCase();return t?e==="MMM"?(o=lt.call(this._shortMonthsParse,f),o!==-1?o:null):(o=lt.call(this._longMonthsParse,f),o!==-1?o:null):e==="MMM"?(o=lt.call(this._shortMonthsParse,f),o!==-1?o:(o=lt.call(this._longMonthsParse,f),o!==-1?o:null)):(o=lt.call(this._longMonthsParse,f),o!==-1?o:(o=lt.call(this._shortMonthsParse,f),o!==-1?o:null))}function Tu(n,e,t){var r,o,u;if(this._monthsParseExact)return Fu.call(this,n,e,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=mi([2e3,r]),t&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!t&&!this._monthsParse[r]&&(u="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(u.replace(".",""),"i")),t&&e==="MMMM"&&this._longMonthsParse[r].test(n))return r;if(t&&e==="MMM"&&this._shortMonthsParse[r].test(n))return r;if(!t&&this._monthsParse[r].test(n))return r}}function Jo(n,e){if(!n.isValid())return n;if(typeof e=="string"){if(/^\d+$/.test(e))e=Le(e);else if(e=n.localeData().monthsParse(e),!Ei(e))return n}var t=e,r=n.date();return r=r<29?r:Math.min(r,Bn(n.year(),t)),n._isUTC?n._d.setUTCMonth(t,r):n._d.setMonth(t,r),n}function Qo(n){return n!=null?(Jo(this,n),pe.updateOffset(this,!0),this):Qs(this,"Month")}function Mu(){return Bn(this.year(),this.month())}function Eu(n){return this._monthsParseExact?(He(this,"_monthsRegex")||el.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(He(this,"_monthsShortRegex")||(this._monthsShortRegex=Cu),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function Ou(n){return this._monthsParseExact?(He(this,"_monthsRegex")||el.call(this),n?this._monthsStrictRegex:this._monthsRegex):(He(this,"_monthsRegex")||(this._monthsRegex=Au),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function el(){function n(y,D){return D.length-y.length}var e=[],t=[],r=[],o,u,f,m;for(o=0;o<12;o++)u=mi([2e3,o]),f=Pi(this.monthsShort(u,"")),m=Pi(this.months(u,"")),e.push(f),t.push(m),r.push(m),r.push(f);e.sort(n),t.sort(n),r.sort(n),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Lu(n,e,t,r,o,u,f){var m;return n<100&&n>=0?(m=new Date(n+400,e,t,r,o,u,f),isFinite(m.getFullYear())&&m.setFullYear(n)):m=new Date(n,e,t,r,o,u,f),m}function er(n){var e,t;return n<100&&n>=0?(t=Array.prototype.slice.call(arguments),t[0]=n+400,e=new Date(Date.UTC.apply(null,t)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(n)):e=new Date(Date.UTC.apply(null,arguments)),e}function Gr(n,e,t){var r=7+e-t,o=(7+er(n,0,r).getUTCDay()-e)%7;return-o+r-1}function tl(n,e,t,r,o){var u=(7+t-r)%7,f=Gr(n,r,o),m=1+7*(e-1)+u+f,y,D;return m<=0?(y=n-1,D=Zs(y)+m):m>Zs(n)?(y=n+1,D=m-Zs(n)):(y=n,D=m),{year:y,dayOfYear:D}}function tr(n,e,t){var r=Gr(n.year(),e,t),o=Math.floor((n.dayOfYear()-r-1)/7)+1,u,f;return o<1?(f=n.year()-1,u=o+Fi(f,e,t)):o>Fi(n.year(),e,t)?(u=o-Fi(n.year(),e,t),f=n.year()+1):(f=n.year(),u=o),{week:u,year:f}}function Fi(n,e,t){var r=Gr(n,e,t),o=Gr(n+1,e,t);return(Zs(n)-r+o)/7}_e("w",["ww",2],"wo","week");_e("W",["WW",2],"Wo","isoWeek");be("w",Qe,Bs);be("ww",Qe,Nt);be("W",Qe,Bs);be("WW",Qe,Nt);vr(["w","ww","W","WW"],function(n,e,t,r){e[r.substr(0,1)]=Le(n)});function Bu(n){return tr(n,this._week.dow,this._week.doy).week}var Iu={dow:0,doy:6};function Ru(){return this._week.dow}function Yu(){return this._week.doy}function ju(n){var e=this.localeData().week(this);return n==null?e:this.add((n-e)*7,"d")}function zu(n){var e=tr(this,1,4).week;return n==null?e:this.add((n-e)*7,"d")}_e("d",0,"do","day");_e("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});_e("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});_e("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});_e("e",0,0,"weekday");_e("E",0,0,"isoWeekday");be("d",Qe);be("e",Qe);be("E",Qe);be("dd",function(n,e){return e.weekdaysMinRegex(n)});be("ddd",function(n,e){return e.weekdaysShortRegex(n)});be("dddd",function(n,e){return e.weekdaysRegex(n)});vr(["dd","ddd","dddd"],function(n,e,t,r){var o=t._locale.weekdaysParse(n,r,t._strict);o!=null?e.d=o:Te(t).invalidWeekday=n});vr(["d","e","E"],function(n,e,t,r){e[r]=Le(n)});function Xu(n,e){return typeof n!="string"?n:isNaN(n)?(n=e.weekdaysParse(n),typeof n=="number"?n:null):parseInt(n,10)}function Hu(n,e){return typeof n=="string"?e.weekdaysParse(n)%7||7:isNaN(n)?null:n}function In(n,e){return n.slice(e,7).concat(n.slice(0,e))}var Nu="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),il="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Wu="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Vu=xr,Gu=xr,Uu=xr;function qu(n,e){var t=ii(this._weekdays)?this._weekdays:this._weekdays[n&&n!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return n===!0?In(t,this._week.dow):n?t[n.day()]:t}function Zu(n){return n===!0?In(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort}function $u(n){return n===!0?In(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin}function Ku(n,e,t){var r,o,u,f=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)u=mi([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(u,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(u,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(u,"").toLocaleLowerCase();return t?e==="dddd"?(o=lt.call(this._weekdaysParse,f),o!==-1?o:null):e==="ddd"?(o=lt.call(this._shortWeekdaysParse,f),o!==-1?o:null):(o=lt.call(this._minWeekdaysParse,f),o!==-1?o:null):e==="dddd"?(o=lt.call(this._weekdaysParse,f),o!==-1||(o=lt.call(this._shortWeekdaysParse,f),o!==-1)?o:(o=lt.call(this._minWeekdaysParse,f),o!==-1?o:null)):e==="ddd"?(o=lt.call(this._shortWeekdaysParse,f),o!==-1||(o=lt.call(this._weekdaysParse,f),o!==-1)?o:(o=lt.call(this._minWeekdaysParse,f),o!==-1?o:null)):(o=lt.call(this._minWeekdaysParse,f),o!==-1||(o=lt.call(this._weekdaysParse,f),o!==-1)?o:(o=lt.call(this._shortWeekdaysParse,f),o!==-1?o:null))}function Ju(n,e,t){var r,o,u;if(this._weekdaysParseExact)return Ku.call(this,n,e,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=mi([2e3,1]).day(r),t&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(u="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(u.replace(".",""),"i")),t&&e==="dddd"&&this._fullWeekdaysParse[r].test(n))return r;if(t&&e==="ddd"&&this._shortWeekdaysParse[r].test(n))return r;if(t&&e==="dd"&&this._minWeekdaysParse[r].test(n))return r;if(!t&&this._weekdaysParse[r].test(n))return r}}function Qu(n){if(!this.isValid())return n!=null?this:NaN;var e=Qs(this,"Day");return n!=null?(n=Xu(n,this.localeData()),this.add(n-e,"d")):e}function ec(n){if(!this.isValid())return n!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return n==null?e:this.add(n-e,"d")}function tc(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var e=Hu(n,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function ic(n){return this._weekdaysParseExact?(He(this,"_weekdaysRegex")||Rn.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(He(this,"_weekdaysRegex")||(this._weekdaysRegex=Vu),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function sc(n){return this._weekdaysParseExact?(He(this,"_weekdaysRegex")||Rn.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(He(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Gu),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function rc(n){return this._weekdaysParseExact?(He(this,"_weekdaysRegex")||Rn.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(He(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Uu),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Rn(){function n(T,C){return C.length-T.length}var e=[],t=[],r=[],o=[],u,f,m,y,D;for(u=0;u<7;u++)f=mi([2e3,1]).day(u),m=Pi(this.weekdaysMin(f,"")),y=Pi(this.weekdaysShort(f,"")),D=Pi(this.weekdays(f,"")),e.push(m),t.push(y),r.push(D),o.push(m),o.push(y),o.push(D);e.sort(n),t.sort(n),r.sort(n),o.sort(n),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Yn(){return this.hours()%12||12}function ac(){return this.hours()||24}_e("H",["HH",2],0,"hour");_e("h",["hh",2],0,Yn);_e("k",["kk",2],0,ac);_e("hmm",0,0,function(){return""+Yn.apply(this)+gi(this.minutes(),2)});_e("hmmss",0,0,function(){return""+Yn.apply(this)+gi(this.minutes(),2)+gi(this.seconds(),2)});_e("Hmm",0,0,function(){return""+this.hours()+gi(this.minutes(),2)});_e("Hmmss",0,0,function(){return""+this.hours()+gi(this.minutes(),2)+gi(this.seconds(),2)});function sl(n,e){_e(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}sl("a",!0);sl("A",!1);function rl(n,e){return e._meridiemParse}be("a",rl);be("A",rl);be("H",Qe,Ln);be("h",Qe,Bs);be("k",Qe,Bs);be("HH",Qe,Nt);be("hh",Qe,Nt);be("kk",Qe,Nt);be("hmm",Go);be("hmmss",Uo);be("Hmm",Go);be("Hmmss",Uo);Ze(["H","HH"],gt);Ze(["k","kk"],function(n,e,t){var r=Le(n);e[gt]=r===24?0:r});Ze(["a","A"],function(n,e,t){t._isPm=t._locale.isPM(n),t._meridiem=n});Ze(["h","hh"],function(n,e,t){e[gt]=Le(n),Te(t).bigHour=!0});Ze("hmm",function(n,e,t){var r=n.length-2;e[gt]=Le(n.substr(0,r)),e[Qt]=Le(n.substr(r)),Te(t).bigHour=!0});Ze("hmmss",function(n,e,t){var r=n.length-4,o=n.length-2;e[gt]=Le(n.substr(0,r)),e[Qt]=Le(n.substr(r,2)),e[Ai]=Le(n.substr(o)),Te(t).bigHour=!0});Ze("Hmm",function(n,e,t){var r=n.length-2;e[gt]=Le(n.substr(0,r)),e[Qt]=Le(n.substr(r))});Ze("Hmmss",function(n,e,t){var r=n.length-4,o=n.length-2;e[gt]=Le(n.substr(0,r)),e[Qt]=Le(n.substr(r,2)),e[Ai]=Le(n.substr(o))});function nc(n){return(n+"").toLowerCase().charAt(0)==="p"}var oc=/[ap]\.?m?\.?/i,lc=Is("Hours",!0);function hc(n,e,t){return n>11?t?"pm":"PM":t?"am":"AM"}var al={calendar:Kh,longDateFormat:tu,invalidDate:su,ordinal:au,dayOfMonthOrdinalParse:nu,relativeTime:lu,months:ku,monthsShort:$o,week:Iu,weekdays:Nu,weekdaysMin:Wu,weekdaysShort:il,meridiemParse:oc},et={},Hs={},ir;function uc(n,e){var t,r=Math.min(n.length,e.length);for(t=0;t<r;t+=1)if(n[t]!==e[t])return t;return r}function uo(n){return n&&n.toLowerCase().replace("_","-")}function cc(n){for(var e=0,t,r,o,u;e<n.length;){for(u=uo(n[e]).split("-"),t=u.length,r=uo(n[e+1]),r=r?r.split("-"):null;t>0;){if(o=wa(u.slice(0,t).join("-")),o)return o;if(r&&r.length>=t&&uc(u,r)>=t-1)break;t--}e++}return ir}function dc(n){return!!(n&&n.match("^[^/\\\\]*$"))}function wa(n){var e=null,t;if(et[n]===void 0&&typeof module<"u"&&module&&module.exports&&dc(n))try{e=ir._abbr,t=require,t("./locale/"+n),Wi(e)}catch{et[n]=null}return et[n]}function Wi(n,e){var t;return n&&(Lt(e)?t=Li(n):t=jn(n,e),t?ir=t:typeof console<"u"&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),ir._abbr}function jn(n,e){if(e!==null){var t,r=al;if(e.abbr=n,et[n]!=null)Ho("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=et[n]._config;else if(e.parentLocale!=null)if(et[e.parentLocale]!=null)r=et[e.parentLocale]._config;else if(t=wa(e.parentLocale),t!=null)r=t._config;else return Hs[e.parentLocale]||(Hs[e.parentLocale]=[]),Hs[e.parentLocale].push({name:n,config:e}),null;return et[n]=new Fn(rn(r,e)),Hs[n]&&Hs[n].forEach(function(o){jn(o.name,o.config)}),Wi(n),et[n]}else return delete et[n],null}function fc(n,e){if(e!=null){var t,r,o=al;et[n]!=null&&et[n].parentLocale!=null?et[n].set(rn(et[n]._config,e)):(r=wa(n),r!=null&&(o=r._config),e=rn(o,e),r==null&&(e.abbr=n),t=new Fn(e),t.parentLocale=et[n],et[n]=t),Wi(n)}else et[n]!=null&&(et[n].parentLocale!=null?(et[n]=et[n].parentLocale,n===Wi()&&Wi(n)):et[n]!=null&&delete et[n]);return et[n]}function Li(n){var e;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return ir;if(!ii(n)){if(e=wa(n),e)return e;n=[n]}return cc(n)}function gc(){return an(et)}function zn(n){var e,t=n._a;return t&&Te(n).overflow===-2&&(e=t[Ci]<0||t[Ci]>11?Ci:t[ci]<1||t[ci]>Bn(t[Ct],t[Ci])?ci:t[gt]<0||t[gt]>24||t[gt]===24&&(t[Qt]!==0||t[Ai]!==0||t[ts]!==0)?gt:t[Qt]<0||t[Qt]>59?Qt:t[Ai]<0||t[Ai]>59?Ai:t[ts]<0||t[ts]>999?ts:-1,Te(n)._overflowDayOfYear&&(e<Ct||e>ci)&&(e=ci),Te(n)._overflowWeeks&&e===-1&&(e=xu),Te(n)._overflowWeekday&&e===-1&&(e=vu),Te(n).overflow=e),n}var pc=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mc=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bc=/Z|[+-]\d\d(?::?\d\d)?/,Er=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Va=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],xc=/^\/?Date\((-?\d+)/i,vc=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,yc={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function nl(n){var e,t,r=n._i,o=pc.exec(r)||mc.exec(r),u,f,m,y,D=Er.length,T=Va.length;if(o){for(Te(n).iso=!0,e=0,t=D;e<t;e++)if(Er[e][1].exec(o[1])){f=Er[e][0],u=Er[e][2]!==!1;break}if(f==null){n._isValid=!1;return}if(o[3]){for(e=0,t=T;e<t;e++)if(Va[e][1].exec(o[3])){m=(o[2]||" ")+Va[e][0];break}if(m==null){n._isValid=!1;return}}if(!u&&m!=null){n._isValid=!1;return}if(o[4])if(bc.exec(o[4]))y="Z";else{n._isValid=!1;return}n._f=f+(m||"")+(y||""),Hn(n)}else n._isValid=!1}function wc(n,e,t,r,o,u){var f=[_c(n),$o.indexOf(e),parseInt(t,10),parseInt(r,10),parseInt(o,10)];return u&&f.push(parseInt(u,10)),f}function _c(n){var e=parseInt(n,10);return e<=49?2e3+e:e<=999?1900+e:e}function Dc(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function kc(n,e,t){if(n){var r=il.indexOf(n),o=new Date(e[0],e[1],e[2]).getDay();if(r!==o)return Te(t).weekdayMismatch=!0,t._isValid=!1,!1}return!0}function Cc(n,e,t){if(n)return yc[n];if(e)return 0;var r=parseInt(t,10),o=r%100,u=(r-o)/100;return u*60+o}function ol(n){var e=vc.exec(Dc(n._i)),t;if(e){if(t=wc(e[4],e[3],e[2],e[5],e[6],e[7]),!kc(e[1],t,n))return;n._a=t,n._tzm=Cc(e[8],e[9],e[10]),n._d=er.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),Te(n).rfc2822=!0}else n._isValid=!1}function Ac(n){var e=xc.exec(n._i);if(e!==null){n._d=new Date(+e[1]);return}if(nl(n),n._isValid===!1)delete n._isValid;else return;if(ol(n),n._isValid===!1)delete n._isValid;else return;n._strict?n._isValid=!1:pe.createFromInputFallback(n)}pe.createFromInputFallback=Ut("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});function bs(n,e,t){return n??e??t}function Sc(n){var e=new Date(pe.now());return n._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Xn(n){var e,t,r=[],o,u,f;if(!n._d){for(o=Sc(n),n._w&&n._a[ci]==null&&n._a[Ci]==null&&Pc(n),n._dayOfYear!=null&&(f=bs(n._a[Ct],o[Ct]),(n._dayOfYear>Zs(f)||n._dayOfYear===0)&&(Te(n)._overflowDayOfYear=!0),t=er(f,0,n._dayOfYear),n._a[Ci]=t.getUTCMonth(),n._a[ci]=t.getUTCDate()),e=0;e<3&&n._a[e]==null;++e)n._a[e]=r[e]=o[e];for(;e<7;e++)n._a[e]=r[e]=n._a[e]==null?e===2?1:0:n._a[e];n._a[gt]===24&&n._a[Qt]===0&&n._a[Ai]===0&&n._a[ts]===0&&(n._nextDay=!0,n._a[gt]=0),n._d=(n._useUTC?er:Lu).apply(null,r),u=n._useUTC?n._d.getUTCDay():n._d.getDay(),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[gt]=24),n._w&&typeof n._w.d<"u"&&n._w.d!==u&&(Te(n).weekdayMismatch=!0)}}function Pc(n){var e,t,r,o,u,f,m,y,D;e=n._w,e.GG!=null||e.W!=null||e.E!=null?(u=1,f=4,t=bs(e.GG,n._a[Ct],tr(Je(),1,4).year),r=bs(e.W,1),o=bs(e.E,1),(o<1||o>7)&&(y=!0)):(u=n._locale._week.dow,f=n._locale._week.doy,D=tr(Je(),u,f),t=bs(e.gg,n._a[Ct],D.year),r=bs(e.w,D.week),e.d!=null?(o=e.d,(o<0||o>6)&&(y=!0)):e.e!=null?(o=e.e+u,(e.e<0||e.e>6)&&(y=!0)):o=u),r<1||r>Fi(t,u,f)?Te(n)._overflowWeeks=!0:y!=null?Te(n)._overflowWeekday=!0:(m=tl(t,r,o,u,f),n._a[Ct]=m.year,n._dayOfYear=m.dayOfYear)}pe.ISO_8601=function(){};pe.RFC_2822=function(){};function Hn(n){if(n._f===pe.ISO_8601){nl(n);return}if(n._f===pe.RFC_2822){ol(n);return}n._a=[],Te(n).empty=!0;var e=""+n._i,t,r,o,u,f,m=e.length,y=0,D,T;for(o=No(n._f,n._locale).match(Tn)||[],T=o.length,t=0;t<T;t++)u=o[t],r=(e.match(pu(u,n))||[])[0],r&&(f=e.substr(0,e.indexOf(r)),f.length>0&&Te(n).unusedInput.push(f),e=e.slice(e.indexOf(r)+r.length),y+=r.length),_s[u]?(r?Te(n).empty=!1:Te(n).unusedTokens.push(u),bu(u,r,n)):n._strict&&!r&&Te(n).unusedTokens.push(u);Te(n).charsLeftOver=m-y,e.length>0&&Te(n).unusedInput.push(e),n._a[gt]<=12&&Te(n).bigHour===!0&&n._a[gt]>0&&(Te(n).bigHour=void 0),Te(n).parsedDateParts=n._a.slice(0),Te(n).meridiem=n._meridiem,n._a[gt]=Fc(n._locale,n._a[gt],n._meridiem),D=Te(n).era,D!==null&&(n._a[Ct]=n._locale.erasConvertYear(D,n._a[Ct])),Xn(n),zn(n)}function Fc(n,e,t){var r;return t==null?e:n.meridiemHour!=null?n.meridiemHour(e,t):(n.isPM!=null&&(r=n.isPM(t),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function Tc(n){var e,t,r,o,u,f,m=!1,y=n._f.length;if(y===0){Te(n).invalidFormat=!0,n._d=new Date(NaN);return}for(o=0;o<y;o++)u=0,f=!1,e=Pn({},n),n._useUTC!=null&&(e._useUTC=n._useUTC),e._f=n._f[o],Hn(e),Sn(e)&&(f=!0),u+=Te(e).charsLeftOver,u+=Te(e).unusedTokens.length*10,Te(e).score=u,m?u<r&&(r=u,t=e):(r==null||u<r||f)&&(r=u,t=e,f&&(m=!0));Hi(n,t||e)}function Mc(n){if(!n._d){var e=Mn(n._i),t=e.day===void 0?e.date:e.day;n._a=zo([e.year,e.month,t,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),Xn(n)}}function Ec(n){var e=new br(zn(ll(n)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function ll(n){var e=n._i,t=n._f;return n._locale=n._locale||Li(n._l),e===null||t===void 0&&e===""?ga({nullInput:!0}):(typeof e=="string"&&(n._i=e=n._locale.preparse(e)),si(e)?new br(zn(e)):(mr(e)?n._d=e:ii(t)?Tc(n):t?Hn(n):Oc(n),Sn(n)||(n._d=null),n))}function Oc(n){var e=n._i;Lt(e)?n._d=new Date(pe.now()):mr(e)?n._d=new Date(e.valueOf()):typeof e=="string"?Ac(n):ii(e)?(n._a=zo(e.slice(0),function(t){return parseInt(t,10)}),Xn(n)):ss(e)?Mc(n):Ei(e)?n._d=new Date(e):pe.createFromInputFallback(n)}function hl(n,e,t,r,o){var u={};return(e===!0||e===!1)&&(r=e,e=void 0),(t===!0||t===!1)&&(r=t,t=void 0),(ss(n)&&An(n)||ii(n)&&n.length===0)&&(n=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=t,u._i=n,u._f=e,u._strict=r,Ec(u)}function Je(n,e,t,r){return hl(n,e,t,r,!1)}var Lc=Ut("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=Je.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:ga()}),Bc=Ut("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=Je.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:ga()});function ul(n,e){var t,r;if(e.length===1&&ii(e[0])&&(e=e[0]),!e.length)return Je();for(t=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][n](t))&&(t=e[r]);return t}function Ic(){var n=[].slice.call(arguments,0);return ul("isBefore",n)}function Rc(){var n=[].slice.call(arguments,0);return ul("isAfter",n)}var Yc=function(){return Date.now?Date.now():+new Date},Ns=["year","quarter","month","week","day","hour","minute","second","millisecond"];function jc(n){var e,t=!1,r,o=Ns.length;for(e in n)if(He(n,e)&&!(lt.call(Ns,e)!==-1&&(n[e]==null||!isNaN(n[e]))))return!1;for(r=0;r<o;++r)if(n[Ns[r]]){if(t)return!1;parseFloat(n[Ns[r]])!==Le(n[Ns[r]])&&(t=!0)}return!0}function zc(){return this._isValid}function Xc(){return ni(NaN)}function _a(n){var e=Mn(n),t=e.year||0,r=e.quarter||0,o=e.month||0,u=e.week||e.isoWeek||0,f=e.day||0,m=e.hour||0,y=e.minute||0,D=e.second||0,T=e.millisecond||0;this._isValid=jc(e),this._milliseconds=+T+D*1e3+y*6e4+m*1e3*60*60,this._days=+f+u*7,this._months=+o+r*3+t*12,this._data={},this._locale=Li(),this._bubble()}function zr(n){return n instanceof _a}function on(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function Hc(n,e,t){var r=Math.min(n.length,e.length),o=Math.abs(n.length-e.length),u=0,f;for(f=0;f<r;f++)(t&&n[f]!==e[f]||!t&&Le(n[f])!==Le(e[f]))&&u++;return u+o}function cl(n,e){_e(n,0,0,function(){var t=this.utcOffset(),r="+";return t<0&&(t=-t,r="-"),r+gi(~~(t/60),2)+e+gi(~~t%60,2)})}cl("Z",":");cl("ZZ","");be("Z",va);be("ZZ",va);Ze(["Z","ZZ"],function(n,e,t){t._useUTC=!0,t._tzm=Nn(va,n)});var Nc=/([\+\-]|\d\d)/gi;function Nn(n,e){var t=(e||"").match(n),r,o,u;return t===null?null:(r=t[t.length-1]||[],o=(r+"").match(Nc)||["-",0,0],u=+(o[1]*60)+Le(o[2]),u===0?0:o[0]==="+"?u:-u)}function Wn(n,e){var t,r;return e._isUTC?(t=e.clone(),r=(si(n)||mr(n)?n.valueOf():Je(n).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+r),pe.updateOffset(t,!1),t):Je(n).local()}function ln(n){return-Math.round(n._d.getTimezoneOffset())}pe.updateOffset=function(){};function Wc(n,e,t){var r=this._offset||0,o;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=Nn(va,n),n===null)return this}else Math.abs(n)<16&&!t&&(n=n*60);return!this._isUTC&&e&&(o=ln(this)),this._offset=n,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==n&&(!e||this._changeInProgress?gl(this,ni(n-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,pe.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:ln(this)}function Vc(n,e){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,e),this):-this.utcOffset()}function Gc(n){return this.utcOffset(0,n)}function Uc(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(ln(this),"m")),this}function qc(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var n=Nn(fu,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function Zc(n){return this.isValid()?(n=n?Je(n).utcOffset():0,(this.utcOffset()-n)%60===0):!1}function $c(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Kc(){if(!Lt(this._isDSTShifted))return this._isDSTShifted;var n={},e;return Pn(n,this),n=ll(n),n._a?(e=n._isUTC?mi(n._a):Je(n._a),this._isDSTShifted=this.isValid()&&Hc(n._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Jc(){return this.isValid()?!this._isUTC:!1}function Qc(){return this.isValid()?this._isUTC:!1}function dl(){return this.isValid()?this._isUTC&&this._offset===0:!1}var ed=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,td=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ni(n,e){var t=n,r=null,o,u,f;return zr(n)?t={ms:n._milliseconds,d:n._days,M:n._months}:Ei(n)||!isNaN(+n)?(t={},e?t[e]=+n:t.milliseconds=+n):(r=ed.exec(n))?(o=r[1]==="-"?-1:1,t={y:0,d:Le(r[ci])*o,h:Le(r[gt])*o,m:Le(r[Qt])*o,s:Le(r[Ai])*o,ms:Le(on(r[ts]*1e3))*o}):(r=td.exec(n))?(o=r[1]==="-"?-1:1,t={y:Ki(r[2],o),M:Ki(r[3],o),w:Ki(r[4],o),d:Ki(r[5],o),h:Ki(r[6],o),m:Ki(r[7],o),s:Ki(r[8],o)}):t==null?t={}:typeof t=="object"&&("from"in t||"to"in t)&&(f=id(Je(t.from),Je(t.to)),t={},t.ms=f.milliseconds,t.M=f.months),u=new _a(t),zr(n)&&He(n,"_locale")&&(u._locale=n._locale),zr(n)&&He(n,"_isValid")&&(u._isValid=n._isValid),u}ni.fn=_a.prototype;ni.invalid=Xc;function Ki(n,e){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*e}function co(n,e){var t={};return t.months=e.month()-n.month()+(e.year()-n.year())*12,n.clone().add(t.months,"M").isAfter(e)&&--t.months,t.milliseconds=+e-+n.clone().add(t.months,"M"),t}function id(n,e){var t;return n.isValid()&&e.isValid()?(e=Wn(e,n),n.isBefore(e)?t=co(n,e):(t=co(e,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t):{milliseconds:0,months:0}}function fl(n,e){return function(t,r){var o,u;return r!==null&&!isNaN(+r)&&(Ho(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),u=t,t=r,r=u),o=ni(t,r),gl(this,o,n),this}}function gl(n,e,t,r){var o=e._milliseconds,u=on(e._days),f=on(e._months);n.isValid()&&(r=r??!0,f&&Jo(n,Qs(n,"Month")+f*t),u&&Zo(n,"Date",Qs(n,"Date")+u*t),o&&n._d.setTime(n._d.valueOf()+o*t),r&&pe.updateOffset(n,u||f))}var sd=fl(1,"add"),rd=fl(-1,"subtract");function pl(n){return typeof n=="string"||n instanceof String}function ad(n){return si(n)||mr(n)||pl(n)||Ei(n)||od(n)||nd(n)||n===null||n===void 0}function nd(n){var e=ss(n)&&!An(n),t=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,u,f=r.length;for(o=0;o<f;o+=1)u=r[o],t=t||He(n,u);return e&&t}function od(n){var e=ii(n),t=!1;return e&&(t=n.filter(function(r){return!Ei(r)&&pl(n)}).length===0),e&&t}function ld(n){var e=ss(n)&&!An(n),t=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,u;for(o=0;o<r.length;o+=1)u=r[o],t=t||He(n,u);return e&&t}function hd(n,e){var t=n.diff(e,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"}function ud(n,e){arguments.length===1&&(arguments[0]?ad(arguments[0])?(n=arguments[0],e=void 0):ld(arguments[0])&&(e=arguments[0],n=void 0):(n=void 0,e=void 0));var t=n||Je(),r=Wn(t,this).startOf("day"),o=pe.calendarFormat(this,r)||"sameElse",u=e&&(bi(e[o])?e[o].call(this,t):e[o]);return this.format(u||this.localeData().calendar(o,this,Je(t)))}function cd(){return new br(this)}function dd(n,e){var t=si(n)?n:Je(n);return this.isValid()&&t.isValid()?(e=qt(e)||"millisecond",e==="millisecond"?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf()):!1}function fd(n,e){var t=si(n)?n:Je(n);return this.isValid()&&t.isValid()?(e=qt(e)||"millisecond",e==="millisecond"?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf()):!1}function gd(n,e,t,r){var o=si(n)?n:Je(n),u=si(e)?e:Je(e);return this.isValid()&&o.isValid()&&u.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,t):!this.isBefore(o,t))&&(r[1]===")"?this.isBefore(u,t):!this.isAfter(u,t))):!1}function pd(n,e){var t=si(n)?n:Je(n),r;return this.isValid()&&t.isValid()?(e=qt(e)||"millisecond",e==="millisecond"?this.valueOf()===t.valueOf():(r=t.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function md(n,e){return this.isSame(n,e)||this.isAfter(n,e)}function bd(n,e){return this.isSame(n,e)||this.isBefore(n,e)}function xd(n,e,t){var r,o,u;if(!this.isValid())return NaN;if(r=Wn(n,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,e=qt(e),e){case"year":u=Xr(this,r)/12;break;case"month":u=Xr(this,r);break;case"quarter":u=Xr(this,r)/3;break;case"second":u=(this-r)/1e3;break;case"minute":u=(this-r)/6e4;break;case"hour":u=(this-r)/36e5;break;case"day":u=(this-r-o)/864e5;break;case"week":u=(this-r-o)/6048e5;break;default:u=this-r}return t?u:Vt(u)}function Xr(n,e){if(n.date()<e.date())return-Xr(e,n);var t=(e.year()-n.year())*12+(e.month()-n.month()),r=n.clone().add(t,"months"),o,u;return e-r<0?(o=n.clone().add(t-1,"months"),u=(e-r)/(r-o)):(o=n.clone().add(t+1,"months"),u=(e-r)/(o-r)),-(t+u)||0}pe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";pe.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function vd(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function yd(n){if(!this.isValid())return null;var e=n!==!0,t=e?this.clone().utc():this;return t.year()<0||t.year()>9999?jr(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):bi(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",jr(t,"Z")):jr(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function wd(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var n="moment",e="",t,r,o,u;return this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),t="["+n+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",u=e+'[")]',this.format(t+r+o+u)}function _d(n){n||(n=this.isUtc()?pe.defaultFormatUtc:pe.defaultFormat);var e=jr(this,n);return this.localeData().postformat(e)}function Dd(n,e){return this.isValid()&&(si(n)&&n.isValid()||Je(n).isValid())?ni({to:this,from:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function kd(n){return this.from(Je(),n)}function Cd(n,e){return this.isValid()&&(si(n)&&n.isValid()||Je(n).isValid())?ni({from:this,to:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Ad(n){return this.to(Je(),n)}function ml(n){var e;return n===void 0?this._locale._abbr:(e=Li(n),e!=null&&(this._locale=e),this)}var bl=Ut("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===void 0?this.localeData():this.locale(n)});function xl(){return this._locale}var Ur=1e3,Ds=60*Ur,qr=60*Ds,vl=(365*400+97)*24*qr;function ks(n,e){return(n%e+e)%e}function yl(n,e,t){return n<100&&n>=0?new Date(n+400,e,t)-vl:new Date(n,e,t).valueOf()}function wl(n,e,t){return n<100&&n>=0?Date.UTC(n+400,e,t)-vl:Date.UTC(n,e,t)}function Sd(n){var e,t;if(n=qt(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?wl:yl,n){case"year":e=t(this.year(),0,1);break;case"quarter":e=t(this.year(),this.month()-this.month()%3,1);break;case"month":e=t(this.year(),this.month(),1);break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=t(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=ks(e+(this._isUTC?0:this.utcOffset()*Ds),qr);break;case"minute":e=this._d.valueOf(),e-=ks(e,Ds);break;case"second":e=this._d.valueOf(),e-=ks(e,Ur);break}return this._d.setTime(e),pe.updateOffset(this,!0),this}function Pd(n){var e,t;if(n=qt(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?wl:yl,n){case"year":e=t(this.year()+1,0,1)-1;break;case"quarter":e=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=t(this.year(),this.month()+1,1)-1;break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=qr-ks(e+(this._isUTC?0:this.utcOffset()*Ds),qr)-1;break;case"minute":e=this._d.valueOf(),e+=Ds-ks(e,Ds)-1;break;case"second":e=this._d.valueOf(),e+=Ur-ks(e,Ur)-1;break}return this._d.setTime(e),pe.updateOffset(this,!0),this}function Fd(){return this._d.valueOf()-(this._offset||0)*6e4}function Td(){return Math.floor(this.valueOf()/1e3)}function Md(){return new Date(this.valueOf())}function Ed(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function Od(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function Ld(){return this.isValid()?this.toISOString():null}function Bd(){return Sn(this)}function Id(){return Hi({},Te(this))}function Rd(){return Te(this).overflow}function Yd(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}_e("N",0,0,"eraAbbr");_e("NN",0,0,"eraAbbr");_e("NNN",0,0,"eraAbbr");_e("NNNN",0,0,"eraName");_e("NNNNN",0,0,"eraNarrow");_e("y",["y",1],"yo","eraYear");_e("y",["yy",2],0,"eraYear");_e("y",["yyy",3],0,"eraYear");_e("y",["yyyy",4],0,"eraYear");be("N",Vn);be("NN",Vn);be("NNN",Vn);be("NNNN",Zd);be("NNNNN",$d);Ze(["N","NN","NNN","NNNN","NNNNN"],function(n,e,t,r){var o=t._locale.erasParse(n,r,t._strict);o?Te(t).era=o:Te(t).invalidEra=n});be("y",Ls);be("yy",Ls);be("yyy",Ls);be("yyyy",Ls);be("yo",Kd);Ze(["y","yy","yyy","yyyy"],Ct);Ze(["yo"],function(n,e,t,r){var o;t._locale._eraYearOrdinalRegex&&(o=n.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?e[Ct]=t._locale.eraYearOrdinalParse(n,o):e[Ct]=parseInt(n,10)});function jd(n,e){var t,r,o,u=this._eras||Li("en")._eras;for(t=0,r=u.length;t<r;++t){switch(typeof u[t].since){case"string":o=pe(u[t].since).startOf("day"),u[t].since=o.valueOf();break}switch(typeof u[t].until){case"undefined":u[t].until=1/0;break;case"string":o=pe(u[t].until).startOf("day").valueOf(),u[t].until=o.valueOf();break}}return u}function zd(n,e,t){var r,o,u=this.eras(),f,m,y;for(n=n.toUpperCase(),r=0,o=u.length;r<o;++r)if(f=u[r].name.toUpperCase(),m=u[r].abbr.toUpperCase(),y=u[r].narrow.toUpperCase(),t)switch(e){case"N":case"NN":case"NNN":if(m===n)return u[r];break;case"NNNN":if(f===n)return u[r];break;case"NNNNN":if(y===n)return u[r];break}else if([f,m,y].indexOf(n)>=0)return u[r]}function Xd(n,e){var t=n.since<=n.until?1:-1;return e===void 0?pe(n.since).year():pe(n.since).year()+(e-n.offset)*t}function Hd(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].name;return""}function Nd(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].narrow;return""}function Wd(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].abbr;return""}function Vd(){var n,e,t,r,o=this.localeData().eras();for(n=0,e=o.length;n<e;++n)if(t=o[n].since<=o[n].until?1:-1,r=this.clone().startOf("day").valueOf(),o[n].since<=r&&r<=o[n].until||o[n].until<=r&&r<=o[n].since)return(this.year()-pe(o[n].since).year())*t+o[n].offset;return this.year()}function Gd(n){return He(this,"_erasNameRegex")||Gn.call(this),n?this._erasNameRegex:this._erasRegex}function Ud(n){return He(this,"_erasAbbrRegex")||Gn.call(this),n?this._erasAbbrRegex:this._erasRegex}function qd(n){return He(this,"_erasNarrowRegex")||Gn.call(this),n?this._erasNarrowRegex:this._erasRegex}function Vn(n,e){return e.erasAbbrRegex(n)}function Zd(n,e){return e.erasNameRegex(n)}function $d(n,e){return e.erasNarrowRegex(n)}function Kd(n,e){return e._eraYearOrdinalRegex||Ls}function Gn(){var n=[],e=[],t=[],r=[],o,u,f,m,y,D=this.eras();for(o=0,u=D.length;o<u;++o)f=Pi(D[o].name),m=Pi(D[o].abbr),y=Pi(D[o].narrow),e.push(f),n.push(m),t.push(y),r.push(f),r.push(m),r.push(y);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+t.join("|")+")","i")}_e(0,["gg",2],0,function(){return this.weekYear()%100});_e(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Da(n,e){_e(0,[n,n.length],0,e)}Da("gggg","weekYear");Da("ggggg","weekYear");Da("GGGG","isoWeekYear");Da("GGGGG","isoWeekYear");be("G",xa);be("g",xa);be("GG",Qe,Nt);be("gg",Qe,Nt);be("GGGG",On,En);be("gggg",On,En);be("GGGGG",ba,pa);be("ggggg",ba,pa);vr(["gggg","ggggg","GGGG","GGGGG"],function(n,e,t,r){e[r.substr(0,2)]=Le(n)});vr(["gg","GG"],function(n,e,t,r){e[r]=pe.parseTwoDigitYear(n)});function Jd(n){return _l.call(this,n,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Qd(n){return _l.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function ef(){return Fi(this.year(),1,4)}function tf(){return Fi(this.isoWeekYear(),1,4)}function sf(){var n=this.localeData()._week;return Fi(this.year(),n.dow,n.doy)}function rf(){var n=this.localeData()._week;return Fi(this.weekYear(),n.dow,n.doy)}function _l(n,e,t,r,o){var u;return n==null?tr(this,r,o).year:(u=Fi(n,r,o),e>u&&(e=u),af.call(this,n,e,t,r,o))}function af(n,e,t,r,o){var u=tl(n,e,t,r,o),f=er(u.year,0,u.dayOfYear);return this.year(f.getUTCFullYear()),this.month(f.getUTCMonth()),this.date(f.getUTCDate()),this}_e("Q",0,"Qo","quarter");be("Q",Wo);Ze("Q",function(n,e){e[Ci]=(Le(n)-1)*3});function nf(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}_e("D",["DD",2],"Do","date");be("D",Qe,Bs);be("DD",Qe,Nt);be("Do",function(n,e){return n?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Ze(["D","DD"],ci);Ze("Do",function(n,e){e[ci]=Le(n.match(Qe)[0])});var Dl=Is("Date",!0);_e("DDD",["DDDD",3],"DDDo","dayOfYear");be("DDD",ma);be("DDDD",Vo);Ze(["DDD","DDDD"],function(n,e,t){t._dayOfYear=Le(n)});function of(n){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?e:this.add(n-e,"d")}_e("m",["mm",2],0,"minute");be("m",Qe,Ln);be("mm",Qe,Nt);Ze(["m","mm"],Qt);var lf=Is("Minutes",!1);_e("s",["ss",2],0,"second");be("s",Qe,Ln);be("ss",Qe,Nt);Ze(["s","ss"],Ai);var hf=Is("Seconds",!1);_e("S",0,0,function(){return~~(this.millisecond()/100)});_e(0,["SS",2],0,function(){return~~(this.millisecond()/10)});_e(0,["SSS",3],0,"millisecond");_e(0,["SSSS",4],0,function(){return this.millisecond()*10});_e(0,["SSSSS",5],0,function(){return this.millisecond()*100});_e(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});_e(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});_e(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});_e(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});be("S",ma,Wo);be("SS",ma,Nt);be("SSS",ma,Vo);var Ni,kl;for(Ni="SSSS";Ni.length<=9;Ni+="S")be(Ni,Ls);function uf(n,e){e[ts]=Le(("0."+n)*1e3)}for(Ni="S";Ni.length<=9;Ni+="S")Ze(Ni,uf);kl=Is("Milliseconds",!1);_e("z",0,0,"zoneAbbr");_e("zz",0,0,"zoneName");function cf(){return this._isUTC?"UTC":""}function df(){return this._isUTC?"Coordinated Universal Time":""}var he=br.prototype;he.add=sd;he.calendar=ud;he.clone=cd;he.diff=xd;he.endOf=Pd;he.format=_d;he.from=Dd;he.fromNow=kd;he.to=Cd;he.toNow=Ad;he.get=wu;he.invalidAt=Rd;he.isAfter=dd;he.isBefore=fd;he.isBetween=gd;he.isSame=pd;he.isSameOrAfter=md;he.isSameOrBefore=bd;he.isValid=Bd;he.lang=bl;he.locale=ml;he.localeData=xl;he.max=Bc;he.min=Lc;he.parsingFlags=Id;he.set=_u;he.startOf=Sd;he.subtract=rd;he.toArray=Ed;he.toObject=Od;he.toDate=Md;he.toISOString=yd;he.inspect=wd;typeof Symbol<"u"&&Symbol.for!=null&&(he[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});he.toJSON=Ld;he.toString=vd;he.unix=Td;he.valueOf=Fd;he.creationData=Yd;he.eraName=Hd;he.eraNarrow=Nd;he.eraAbbr=Wd;he.eraYear=Vd;he.year=qo;he.isLeapYear=yu;he.weekYear=Jd;he.isoWeekYear=Qd;he.quarter=he.quarters=nf;he.month=Qo;he.daysInMonth=Mu;he.week=he.weeks=ju;he.isoWeek=he.isoWeeks=zu;he.weeksInYear=sf;he.weeksInWeekYear=rf;he.isoWeeksInYear=ef;he.isoWeeksInISOWeekYear=tf;he.date=Dl;he.day=he.days=Qu;he.weekday=ec;he.isoWeekday=tc;he.dayOfYear=of;he.hour=he.hours=lc;he.minute=he.minutes=lf;he.second=he.seconds=hf;he.millisecond=he.milliseconds=kl;he.utcOffset=Wc;he.utc=Gc;he.local=Uc;he.parseZone=qc;he.hasAlignedHourOffset=Zc;he.isDST=$c;he.isLocal=Jc;he.isUtcOffset=Qc;he.isUtc=dl;he.isUTC=dl;he.zoneAbbr=cf;he.zoneName=df;he.dates=Ut("dates accessor is deprecated. Use date instead.",Dl);he.months=Ut("months accessor is deprecated. Use month instead",Qo);he.years=Ut("years accessor is deprecated. Use year instead",qo);he.zone=Ut("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Vc);he.isDSTShifted=Ut("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Kc);function ff(n){return Je(n*1e3)}function gf(){return Je.apply(null,arguments).parseZone()}function Cl(n){return n}var Ne=Fn.prototype;Ne.calendar=Jh;Ne.longDateFormat=iu;Ne.invalidDate=ru;Ne.ordinal=ou;Ne.preparse=Cl;Ne.postformat=Cl;Ne.relativeTime=hu;Ne.pastFuture=uu;Ne.set=$h;Ne.eras=jd;Ne.erasParse=zd;Ne.erasConvertYear=Xd;Ne.erasAbbrRegex=Ud;Ne.erasNameRegex=Gd;Ne.erasNarrowRegex=qd;Ne.months=Su;Ne.monthsShort=Pu;Ne.monthsParse=Tu;Ne.monthsRegex=Ou;Ne.monthsShortRegex=Eu;Ne.week=Bu;Ne.firstDayOfYear=Yu;Ne.firstDayOfWeek=Ru;Ne.weekdays=qu;Ne.weekdaysMin=$u;Ne.weekdaysShort=Zu;Ne.weekdaysParse=Ju;Ne.weekdaysRegex=ic;Ne.weekdaysShortRegex=sc;Ne.weekdaysMinRegex=rc;Ne.isPM=nc;Ne.meridiem=hc;function Zr(n,e,t,r){var o=Li(),u=mi().set(r,e);return o[t](u,n)}function Al(n,e,t){if(Ei(n)&&(e=n,n=void 0),n=n||"",e!=null)return Zr(n,e,t,"month");var r,o=[];for(r=0;r<12;r++)o[r]=Zr(n,r,t,"month");return o}function Un(n,e,t,r){typeof n=="boolean"?(Ei(e)&&(t=e,e=void 0),e=e||""):(e=n,t=e,n=!1,Ei(e)&&(t=e,e=void 0),e=e||"");var o=Li(),u=n?o._week.dow:0,f,m=[];if(t!=null)return Zr(e,(t+u)%7,r,"day");for(f=0;f<7;f++)m[f]=Zr(e,(f+u)%7,r,"day");return m}function pf(n,e){return Al(n,e,"months")}function mf(n,e){return Al(n,e,"monthsShort")}function bf(n,e,t){return Un(n,e,t,"weekdays")}function xf(n,e,t){return Un(n,e,t,"weekdaysShort")}function vf(n,e,t){return Un(n,e,t,"weekdaysMin")}Wi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var e=n%10,t=Le(n%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return n+t}});pe.lang=Ut("moment.lang is deprecated. Use moment.locale instead.",Wi);pe.langData=Ut("moment.langData is deprecated. Use moment.localeData instead.",Li);var _i=Math.abs;function yf(){var n=this._data;return this._milliseconds=_i(this._milliseconds),this._days=_i(this._days),this._months=_i(this._months),n.milliseconds=_i(n.milliseconds),n.seconds=_i(n.seconds),n.minutes=_i(n.minutes),n.hours=_i(n.hours),n.months=_i(n.months),n.years=_i(n.years),this}function Sl(n,e,t,r){var o=ni(e,t);return n._milliseconds+=r*o._milliseconds,n._days+=r*o._days,n._months+=r*o._months,n._bubble()}function wf(n,e){return Sl(this,n,e,1)}function _f(n,e){return Sl(this,n,e,-1)}function fo(n){return n<0?Math.floor(n):Math.ceil(n)}function Df(){var n=this._milliseconds,e=this._days,t=this._months,r=this._data,o,u,f,m,y;return n>=0&&e>=0&&t>=0||n<=0&&e<=0&&t<=0||(n+=fo(hn(t)+e)*864e5,e=0,t=0),r.milliseconds=n%1e3,o=Vt(n/1e3),r.seconds=o%60,u=Vt(o/60),r.minutes=u%60,f=Vt(u/60),r.hours=f%24,e+=Vt(f/24),y=Vt(Pl(e)),t+=y,e-=fo(hn(y)),m=Vt(t/12),t%=12,r.days=e,r.months=t,r.years=m,this}function Pl(n){return n*4800/146097}function hn(n){return n*146097/4800}function kf(n){if(!this.isValid())return NaN;var e,t,r=this._milliseconds;if(n=qt(n),n==="month"||n==="quarter"||n==="year")switch(e=this._days+r/864e5,t=this._months+Pl(e),n){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(e=this._days+Math.round(hn(this._months)),n){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+n)}}function Bi(n){return function(){return this.as(n)}}var Fl=Bi("ms"),Cf=Bi("s"),Af=Bi("m"),Sf=Bi("h"),Pf=Bi("d"),Ff=Bi("w"),Tf=Bi("M"),Mf=Bi("Q"),Ef=Bi("y"),Of=Fl;function Lf(){return ni(this)}function Bf(n){return n=qt(n),this.isValid()?this[n+"s"]():NaN}function cs(n){return function(){return this.isValid()?this._data[n]:NaN}}var If=cs("milliseconds"),Rf=cs("seconds"),Yf=cs("minutes"),jf=cs("hours"),zf=cs("days"),Xf=cs("months"),Hf=cs("years");function Nf(){return Vt(this.days()/7)}var ki=Math.round,ys={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Wf(n,e,t,r,o){return o.relativeTime(e||1,!!t,n,r)}function Vf(n,e,t,r){var o=ni(n).abs(),u=ki(o.as("s")),f=ki(o.as("m")),m=ki(o.as("h")),y=ki(o.as("d")),D=ki(o.as("M")),T=ki(o.as("w")),C=ki(o.as("y")),M=u<=t.ss&&["s",u]||u<t.s&&["ss",u]||f<=1&&["m"]||f<t.m&&["mm",f]||m<=1&&["h"]||m<t.h&&["hh",m]||y<=1&&["d"]||y<t.d&&["dd",y];return t.w!=null&&(M=M||T<=1&&["w"]||T<t.w&&["ww",T]),M=M||D<=1&&["M"]||D<t.M&&["MM",D]||C<=1&&["y"]||["yy",C],M[2]=e,M[3]=+n>0,M[4]=r,Wf.apply(null,M)}function Gf(n){return n===void 0?ki:typeof n=="function"?(ki=n,!0):!1}function Uf(n,e){return ys[n]===void 0?!1:e===void 0?ys[n]:(ys[n]=e,n==="s"&&(ys.ss=e-1),!0)}function qf(n,e){if(!this.isValid())return this.localeData().invalidDate();var t=!1,r=ys,o,u;return typeof n=="object"&&(e=n,n=!1),typeof n=="boolean"&&(t=n),typeof e=="object"&&(r=Object.assign({},ys,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),o=this.localeData(),u=Vf(this,!t,r,o),t&&(u=o.pastFuture(+this,u)),o.postformat(u)}var Ga=Math.abs;function ps(n){return(n>0)-(n<0)||+n}function ka(){if(!this.isValid())return this.localeData().invalidDate();var n=Ga(this._milliseconds)/1e3,e=Ga(this._days),t=Ga(this._months),r,o,u,f,m=this.asSeconds(),y,D,T,C;return m?(r=Vt(n/60),o=Vt(r/60),n%=60,r%=60,u=Vt(t/12),t%=12,f=n?n.toFixed(3).replace(/\.?0+$/,""):"",y=m<0?"-":"",D=ps(this._months)!==ps(m)?"-":"",T=ps(this._days)!==ps(m)?"-":"",C=ps(this._milliseconds)!==ps(m)?"-":"",y+"P"+(u?D+u+"Y":"")+(t?D+t+"M":"")+(e?T+e+"D":"")+(o||r||n?"T":"")+(o?C+o+"H":"")+(r?C+r+"M":"")+(n?C+f+"S":"")):"P0D"}var Ye=_a.prototype;Ye.isValid=zc;Ye.abs=yf;Ye.add=wf;Ye.subtract=_f;Ye.as=kf;Ye.asMilliseconds=Fl;Ye.asSeconds=Cf;Ye.asMinutes=Af;Ye.asHours=Sf;Ye.asDays=Pf;Ye.asWeeks=Ff;Ye.asMonths=Tf;Ye.asQuarters=Mf;Ye.asYears=Ef;Ye.valueOf=Of;Ye._bubble=Df;Ye.clone=Lf;Ye.get=Bf;Ye.milliseconds=If;Ye.seconds=Rf;Ye.minutes=Yf;Ye.hours=jf;Ye.days=zf;Ye.weeks=Nf;Ye.months=Xf;Ye.years=Hf;Ye.humanize=qf;Ye.toISOString=ka;Ye.toString=ka;Ye.toJSON=ka;Ye.locale=ml;Ye.localeData=xl;Ye.toIsoString=Ut("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ka);Ye.lang=bl;_e("X",0,0,"unix");_e("x",0,0,"valueOf");be("x",xa);be("X",gu);Ze("X",function(n,e,t){t._d=new Date(parseFloat(n)*1e3)});Ze("x",function(n,e,t){t._d=new Date(Le(n))});//! moment.js
pe.version="2.30.1";qh(Je);pe.fn=he;pe.min=Ic;pe.max=Rc;pe.now=Yc;pe.utc=mi;pe.unix=ff;pe.months=pf;pe.isDate=mr;pe.locale=Wi;pe.invalid=ga;pe.duration=ni;pe.isMoment=si;pe.weekdays=bf;pe.parseZone=gf;pe.localeData=Li;pe.isDuration=zr;pe.monthsShort=mf;pe.weekdaysMin=vf;pe.defineLocale=jn;pe.updateLocale=fc;pe.locales=gc;pe.weekdaysShort=xf;pe.normalizeUnits=qt;pe.relativeTimeRounding=Gf;pe.relativeTimeThreshold=Uf;pe.calendarFormat=hd;pe.prototype=he;pe.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Ua=["'ll","'tis","'twas","'ve","10","39","a","a's","able","ableabout","about","above","abroad","abst","accordance","according","accordingly","across","act","actually","ad","added","adj","adopted","ae","af","affected","affecting","affects","after","afterwards","ag","again","against","ago","ah","ahead","ai","ain't","aint","al","all","allow","allows","almost","alone","along","alongside","already","also","although","always","am","amid","amidst","among","amongst","amoungst","amount","an","and","announce","another","any","anybody","anyhow","anymore","anyone","anything","anyway","anyways","anywhere","ao","apart","apparently","appear","appreciate","appropriate","approximately","aq","ar","are","area","areas","aren","aren't","arent","arise","around","arpa","as","aside","ask","asked","asking","asks","associated","at","au","auth","available","aw","away","awfully","az","b","ba","back","backed","backing","backs","backward","backwards","bb","bd","be","became","because","become","becomes","becoming","been","before","beforehand","began","begin","beginning","beginnings","begins","behind","being","beings","believe","below","beside","besides","best","better","between","beyond","bf","bg","bh","bi","big","bill","billion","biol","bj","bm","bn","bo","both","bottom","br","brief","briefly","bs","bt","but","buy","bv","bw","by","bz","c","c'mon","c's","ca","call","came","can","can't","cannot","cant","caption","case","cases","cause","causes","cc","cd","certain","certainly","cf","cg","ch","changes","ci","ck","cl","clear","clearly","click","cm","cmon","cn","co","co.","com","come","comes","computer","con","concerning","consequently","consider","considering","contain","containing","contains","copy","corresponding","could","could've","couldn","couldn't","couldnt","course","cr","cry","cs","cu","currently","cv","cx","cy","cz","d","dare","daren't","darent","date","de","dear","definitely","describe","described","despite","detail","did","didn","didn't","didnt","differ","different","differently","directly","dj","dk","dm","do","does","doesn","doesn't","doesnt","doing","don","don't","done","dont","doubtful","down","downed","downing","downs","downwards","due","during","dz","e","each","early","ec","ed","edu","ee","effect","eg","eh","eight","eighty","either","eleven","else","elsewhere","empty","end","ended","ending","ends","enough","entirely","er","es","especially","et","et-al","etc","even","evenly","ever","evermore","every","everybody","everyone","everything","everywhere","ex","exactly","example","except","f","face","faces","fact","facts","fairly","far","farther","felt","few","fewer","ff","fi","fifteen","fifth","fifty","fify","fill","find","finds","fire","first","five","fix","fj","fk","fm","fo","followed","following","follows","for","forever","former","formerly","forth","forty","forward","found","four","fr","free","from","front","full","fully","further","furthered","furthering","furthermore","furthers","fx","g","ga","gave","gb","gd","ge","general","generally","get","gets","getting","gf","gg","gh","gi","give","given","gives","giving","gl","gm","gmt","gn","go","goes","going","gone","good","goods","got","gotten","gov","gp","gq","gr","great","greater","greatest","greetings","group","grouped","grouping","groups","gs","gt","gu","gw","gy","h","had","hadn't","hadnt","half","happens","hardly","has","hasn","hasn't","hasnt","have","haven","haven't","havent","having","he","he'd","he'll","he's","hed","hell","hello","help","hence","her","here","here's","hereafter","hereby","herein","heres","hereupon","hers","herself","herse","hes","hi","hid","high","higher","highest","him","himself","himse","his","hither","hk","hm","hn","home","homepage","hopefully","how","how'd","how'll","how's","howbeit","however","hr","ht","htm","html","http","hu","hundred","i","i'd","i'll","i'm","i've","i.e.","id","ie","if","ignored","ii","il","ill","im","immediate","immediately","importance","important","in","inasmuch","inc","inc.","indeed","index","indicate","indicated","indicates","information","inner","inside","insofar","instead","int","interest","interested","interesting","interests","into","invention","inward","io","iq","ir","is","isn","isn't","isnt","it","it'd","it'll","it's","itd","itll","its","itself","itse","ive","j","je","jm","jo","join","jp","just","k","ke","keep","keeps","kept","keys","kg","kh","ki","kind","km","kn","knew","know","known","knows","kp","kr","kw","ky","kz","l","la","large","largely","last","lately","later","latest","latter","latterly","lb","lc","least","length","less","lest","let","let's","lets","li","like","liked","likely","likewise","line","little","lk","ll","long","longer","longest","look","looking","looks","low","lower","lr","ls","lt","ltd","lu","lv","ly","m","ma","made","mainly","make","makes","making","man","many","may","maybe","mayn't","maynt","mc","md","me","mean","means","meantime","meanwhile","member","members","men","merely","mg","mh","microsoft","might","might've","mightn't","mightnt","mil","mill","million","mine","minus","miss","mk","ml","mm","mn","mo","more","moreover","most","mostly","move","mp","mq","mr","mrs","ms","msie","mt","mu","much","mug","must","must've","mustn't","mustnt","mv","mw","mx","my","myself","myse","mz","n","na","name","namely","nay","nc","nd","ne","near","nearly","necessarily","necessary","need","needed","needing","needn't","neednt","needs","neither","net","netscape","never","neverf","neverless","nevertheless","new","newer","newest","next","nf","ng","ni","nine","ninety","nl","no","no-one","nobody","non","none","nonetheless","noone","nor","normally","nos","not","noted","nothing","notwithstanding","novel","now","nowhere","np","nr","nu","null","number","numbers","nz","o","obtain","obtained","obviously","of","off","often","oh","ok","okay","old","older","oldest","om","omitted","on","once","one","one's","ones","only","onto","open","opened","opening","opens","opposite","or","ord","order","ordered","ordering","orders","org","other","others","otherwise","ought","oughtn't","oughtnt","our","ours","ourselves","out","outside","over","overall","owing","own","p","pa","page","pages","part","parted","particular","particularly","parting","parts","past","pe","per","perhaps","pf","pg","ph","pk","pl","place","placed","places","please","plus","pm","pmid","pn","point","pointed","pointing","points","poorly","possible","possibly","potentially","pp","pr","predominantly","present","presented","presenting","presents","presumably","previously","primarily","probably","problem","problems","promptly","proud","provided","provides","pt","put","puts","pw","py","q","qa","que","quickly","quite","qv","r","ran","rather","rd","re","readily","really","reasonably","recent","recently","ref","refs","regarding","regardless","regards","related","relatively","research","reserved","respectively","resulted","resulting","results","right","ring","ro","room","rooms","round","ru","run","rw","s","sa","said","same","saw","say","saying","says","sb","sc","sd","se","sec","second","secondly","seconds","section","see","seeing","seem","seemed","seeming","seems","seen","sees","self","selves","sensible","sent","serious","seriously","seven","seventy","several","sg","sh","shall","shan't","shant","she","she'd","she'll","she's","shed","shell","shes","should","should've","shouldn","shouldn't","shouldnt","show","showed","showing","shown","showns","shows","si","side","sides","significant","significantly","similar","similarly","since","sincere","site","six","sixty","sj","sk","sl","slightly","sm","small","smaller","smallest","sn","so","some","somebody","someday","somehow","someone","somethan","something","sometime","sometimes","somewhat","somewhere","soon","sorry","specifically","specified","specify","specifying","sr","st","state","states","still","stop","strongly","su","sub","substantially","successfully","such","sufficiently","suggest","sup","sure","sv","sy","system","sz","t","t's","take","taken","taking","tc","td","tell","ten","tends","test","text","tf","tg","th","than","thank","thanks","thanx","that","that'll","that's","that've","thatll","thats","thatve","the","their","theirs","them","themselves","then","thence","there","there'd","there'll","there're","there's","there've","thereafter","thereby","thered","therefore","therein","therell","thereof","therere","theres","thereto","thereupon","thereve","these","they","they'd","they'll","they're","they've","theyd","theyll","theyre","theyve","thick","thin","thing","things","think","thinks","third","thirty","this","thorough","thoroughly","those","thou","though","thoughh","thought","thoughts","thousand","three","throug","through","throughout","thru","thus","til","till","tip","tis","tj","tk","tm","tn","to","today","together","too","took","top","toward","towards","tp","tr","tried","tries","trillion","truly","try","trying","ts","tt","turn","turned","turning","turns","tv","tw","twas","twelve","twenty","twice","two","tz","u","ua","ug","uk","um","un","under","underneath","undoing","unfortunately","unless","unlike","unlikely","until","unto","up","upon","ups","upwards","us","use","used","useful","usefully","usefulness","uses","using","usually","uucp","uy","uz","v","va","value","various","vc","ve","versus","very","vg","vi","via","viz","vn","vol","vols","vs","vu","w","want","wanted","wanting","wants","was","wasn","wasn't","wasnt","way","ways","we","we'd","we'll","we're","we've","web","webpage","website","wed","welcome","well","wells","went","were","weren","weren't","werent","weve","wf","what","what'd","what'll","what's","what've","whatever","whatll","whats","whatve","when","when'd","when'll","when's","whence","whenever","where","where'd","where'll","where's","whereafter","whereas","whereby","wherein","wheres","whereupon","wherever","whether","which","whichever","while","whilst","whim","whither","who","who'd","who'll","who's","whod","whoever","whole","wholl","whom","whomever","whos","whose","why","why'd","why'll","why's","widely","width","will","willing","wish","with","within","without","won","won't","wonder","wont","words","work","worked","working","works","world","would","would've","wouldn","wouldn't","wouldnt","ws","www","x","y","ye","year","years","yes","yet","you","you'd","you'll","you're","you've","youd","youll","young","younger","youngest","your","youre","yours","yourself","yourselves","youve","yt","yu","z","za","zero","zm","zr"],qa=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;var ds={},Tl={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(typeof self<"u"?self:Gs,function(){return function(t){var r={};function o(u){if(r[u])return r[u].exports;var f=r[u]={i:u,l:!1,exports:{}};return t[u].call(f.exports,f,f.exports,o),f.l=!0,f.exports}return o.m=t,o.c=r,o.d=function(u,f,m){o.o(u,f)||Object.defineProperty(u,f,{configurable:!1,enumerable:!0,get:m})},o.r=function(u){Object.defineProperty(u,"__esModule",{value:!0})},o.n=function(u){var f=u&&u.__esModule?function(){return u.default}:function(){return u};return o.d(f,"a",f),f},o.o=function(u,f){return Object.prototype.hasOwnProperty.call(u,f)},o.p="",o(o.s=0)}([function(t,r,o){function u(W){if(!(this instanceof u))return new u(W);this._=W}var f=u.prototype;function m(W,$){for(var Q=0;Q<W;Q++)$(Q)}function y(W,$,Q){return function(ae,le){m(le.length,function(ue){ae(le[ue],ue,le)})}(function(ae,le,ue){$=W($,ae,le,ue)},Q),$}function D(W,$){return y(function(Q,ae,le,ue){return Q.concat([W(ae,le,ue)])},[],$)}function T(W,$){var Q={v:0,buf:$};return m(W,function(){var ae;Q={v:Q.v<<1|(ae=Q.buf,ae[0]>>7),buf:function(le){var ue=y(function(ce,Se,Ve,wt){return ce.concat(Ve===wt.length-1?Buffer.from([Se,0]).readUInt16BE(0):wt.readUInt16BE(Ve))},[],le);return Buffer.from(D(function(ce){return(ce<<1&65535)>>8},ue))}(Q.buf)}}),Q}function C(){return typeof Buffer<"u"}function M(){if(!C())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function S(W){M();var $=y(function(ue,ce){return ue+ce},0,W);if($%8!=0)throw new Error("The bits ["+W.join(", ")+"] add up to "+$+" which is not an even number of bytes; the total should be divisible by 8");var Q,ae=$/8,le=(Q=function(ue){return ue>48},y(function(ue,ce){return ue||(Q(ce)?ce:ue)},null,W));if(le)throw new Error(le+" bit range requested exceeds 48 bit (6 byte) Number max.");return new u(function(ue,ce){var Se=ae+ce;return Se>ue.length?ee(ce,ae.toString()+" bytes"):re(Se,y(function(Ve,wt){var ct=T(wt,Ve.buf);return{coll:Ve.coll.concat(ct.v),buf:ct.buf}},{coll:[],buf:ue.slice(ce,Se)},W).coll)})}function X(W,$){return new u(function(Q,ae){return M(),ae+$>Q.length?ee(ae,$+" bytes for "+W):re(ae+$,Q.slice(ae,ae+$))})}function O(W,$){if(typeof(Q=$)!="number"||Math.floor(Q)!==Q||$<0||$>6)throw new Error(W+" requires integer length in range [0, 6].");var Q}function z(W){return O("uintBE",W),X("uintBE("+W+")",W).map(function($){return $.readUIntBE(0,W)})}function G(W){return O("uintLE",W),X("uintLE("+W+")",W).map(function($){return $.readUIntLE(0,W)})}function R(W){return O("intBE",W),X("intBE("+W+")",W).map(function($){return $.readIntBE(0,W)})}function U(W){return O("intLE",W),X("intLE("+W+")",W).map(function($){return $.readIntLE(0,W)})}function N(W){return W instanceof u}function V(W){return{}.toString.call(W)==="[object Array]"}function se(W){return C()&&Buffer.isBuffer(W)}function re(W,$){return{status:!0,index:W,value:$,furthest:-1,expected:[]}}function ee(W,$){return V($)||($=[$]),{status:!1,index:-1,value:null,furthest:W,expected:$}}function oe(W,$){if(!$||W.furthest>$.furthest)return W;var Q=W.furthest===$.furthest?function(ae,le){if(function(){if(u._supportsSet!==void 0)return u._supportsSet;var Kt=typeof Set<"u";return u._supportsSet=Kt,Kt}()&&Array.from){for(var ue=new Set(ae),ce=0;ce<le.length;ce++)ue.add(le[ce]);var Se=Array.from(ue);return Se.sort(),Se}for(var Ve={},wt=0;wt<ae.length;wt++)Ve[ae[wt]]=!0;for(var ct=0;ct<le.length;ct++)Ve[le[ct]]=!0;var $t=[];for(var Pt in Ve)({}).hasOwnProperty.call(Ve,Pt)&&$t.push(Pt);return $t.sort(),$t}(W.expected,$.expected):$.expected;return{status:W.status,index:W.index,value:W.value,furthest:$.furthest,expected:Q}}var xe={};function me(W,$){if(se(W))return{offset:$,line:-1,column:-1};W in xe||(xe[W]={});for(var Q=xe[W],ae=0,le=0,ue=0,ce=$;ce>=0;){if(ce in Q){ae=Q[ce].line,ue===0&&(ue=Q[ce].lineStart);break}(W.charAt(ce)===`
`||W.charAt(ce)==="\r"&&W.charAt(ce+1)!==`
`)&&(le++,ue===0&&(ue=ce+1)),ce--}var Se=ae+le,Ve=$-ue;return Q[$]={line:Se,lineStart:ue},{offset:$,line:Se+1,column:Ve+1}}function Pe(W){if(!N(W))throw new Error("not a parser: "+W)}function ye(W,$){return typeof W=="string"?W.charAt($):W[$]}function Ce(W){if(typeof W!="number")throw new Error("not a number: "+W)}function Ae(W){if(typeof W!="function")throw new Error("not a function: "+W)}function qe(W){if(typeof W!="string")throw new Error("not a string: "+W)}var Me=2,$e=3,De=8,at=5*De,Tt=4*De,je="  ";function We(W,$){return new Array($+1).join(W)}function yt(W,$,Q){var ae=$-W.length;return ae<=0?W:We(Q,ae)+W}function At(W,$,Q,ae){return{from:W-$>0?W-$:0,to:W+Q>ae?ae:W+Q}}function Ee(W,$){var Q,ae,le,ue,ce,Se=$.index,Ve=Se.offset,wt=1;if(Ve===W.length)return"Got the end of the input";if(se(W)){var ct=Ve-Ve%De,$t=Ve-ct,Pt=At(ct,at,Tt+De,W.length),Kt=D(function(it){return D(function(li){return yt(li.toString(16),2,"0")},it)},function(it,li){var Mt=it.length,Wt=[],Yi=0;if(Mt<=li)return[it.slice()];for(var ji=0;ji<Mt;ji++)Wt[Yi]||Wt.push([]),Wt[Yi].push(it[ji]),(ji+1)%li==0&&Yi++;return Wt}(W.slice(Pt.from,Pt.to).toJSON().data,De));ue=function(it){return it.from===0&&it.to===1?{from:it.from,to:it.to}:{from:it.from/De,to:Math.floor(it.to/De)}}(Pt),ae=ct/De,Q=3*$t,$t>=4&&(Q+=1),wt=2,le=D(function(it){return it.length<=4?it.join(" "):it.slice(0,4).join(" ")+"  "+it.slice(4).join(" ")},Kt),(ce=(8*(ue.to>0?ue.to-1:ue.to)).toString(16).length)<2&&(ce=2)}else{var oi=W.split(/\r\n|[\n\r\u2028\u2029]/);Q=Se.column-1,ae=Se.line-1,ue=At(ae,Me,$e,oi.length),le=oi.slice(ue.from,ue.to),ce=ue.to.toString().length}var Tr=ae-ue.from;return se(W)&&(ce=(8*(ue.to>0?ue.to-1:ue.to)).toString(16).length)<2&&(ce=2),y(function(it,li,Mt){var Wt,Yi=Mt===Tr,ji=Yi?"> ":je;return Wt=se(W)?yt((8*(ue.from+Mt)).toString(16),ce,"0"):yt((ue.from+Mt+1).toString(),ce," "),[].concat(it,[ji+Wt+" | "+li],Yi?[je+We(" ",ce)+" | "+yt("",Q," ")+We("^",wt)]:[])},[],le).join(`
`)}function Gi(W,$){return[`
`,"-- PARSING FAILED "+We("-",50),`

`,Ee(W,$),`

`,(Q=$.expected,Q.length===1?`Expected:

`+Q[0]:`Expected one of the following: 

`+Q.join(", ")),`
`].join("");var Q}function St(W){return W.flags!==void 0?W.flags:[W.global?"g":"",W.ignoreCase?"i":"",W.multiline?"m":"",W.unicode?"u":"",W.sticky?"y":""].join("")}function xi(){for(var W=[].slice.call(arguments),$=W.length,Q=0;Q<$;Q+=1)Pe(W[Q]);return u(function(ae,le){for(var ue,ce=new Array($),Se=0;Se<$;Se+=1){if(!(ue=oe(W[Se]._(ae,le),ue)).status)return ue;ce[Se]=ue.value,le=ue.index}return oe(re(le,ce),ue)})}function zt(){var W=[].slice.call(arguments);if(W.length===0)throw new Error("seqMap needs at least one argument");var $=W.pop();return Ae($),xi.apply(null,W).map(function(Q){return $.apply(null,Q)})}function Ui(){var W=[].slice.call(arguments),$=W.length;if($===0)return fs("zero alternates");for(var Q=0;Q<$;Q+=1)Pe(W[Q]);return u(function(ae,le){for(var ue,ce=0;ce<W.length;ce+=1)if((ue=oe(W[ce]._(ae,le),ue)).status)return ue;return ue})}function vi(W,$){return qi(W,$).or(wi([]))}function qi(W,$){return Pe(W),Pe($),zt(W,$.then(W).many(),function(Q,ae){return[Q].concat(ae)})}function yi(W){qe(W);var $="'"+W+"'";return u(function(Q,ae){var le=ae+W.length,ue=Q.slice(ae,le);return ue===W?re(le,ue):ee(ae,$)})}function Zt(W,$){(function(le){if(!(le instanceof RegExp))throw new Error("not a regexp: "+le);for(var ue=St(le),ce=0;ce<ue.length;ce++){var Se=ue.charAt(ce);if(Se!=="i"&&Se!=="m"&&Se!=="u"&&Se!=="s")throw new Error('unsupported regexp flag "'+Se+'": '+le)}})(W),arguments.length>=2?Ce($):$=0;var Q=function(le){return RegExp("^(?:"+le.source+")",St(le))}(W),ae=""+W;return u(function(le,ue){var ce=Q.exec(le.slice(ue));if(ce){if(0<=$&&$<=ce.length){var Se=ce[0],Ve=ce[$];return re(ue+Se.length,Ve)}return ee(ue,"valid match group (0 to "+ce.length+") in "+ae)}return ee(ue,ae)})}function wi(W){return u(function($,Q){return re(Q,W)})}function fs(W){return u(function($,Q){return ee(Q,W)})}function Ii(W){if(N(W))return u(function($,Q){var ae=W._($,Q);return ae.index=Q,ae.value="",ae});if(typeof W=="string")return Ii(yi(W));if(W instanceof RegExp)return Ii(Zt(W));throw new Error("not a string, regexp, or parser: "+W)}function wr(W){return Pe(W),u(function($,Q){var ae=W._($,Q),le=$.slice(Q,ae.index);return ae.status?ee(Q,'not "'+le+'"'):re(Q,null)})}function gs(W){return Ae(W),u(function($,Q){var ae=ye($,Q);return Q<$.length&&W(ae)?re(Q+1,ae):ee(Q,"a character/byte matching "+W)})}function _r(W,$){arguments.length<2&&($=W,W=void 0);var Q=u(function(ae,le){return Q._=$()._,Q._(ae,le)});return W?Q.desc(W):Q}function js(){return fs("fantasy-land/empty")}f.parse=function(W){if(typeof W!="string"&&!se(W))throw new Error(".parse must be called with a string or Buffer as its argument");var $,Q=this.skip(Ri)._(W,0);return $=Q.status?{status:!0,value:Q.value}:{status:!1,index:me(W,Q.furthest),expected:Q.expected},delete xe[W],$},f.tryParse=function(W){var $=this.parse(W);if($.status)return $.value;var Q=Gi(W,$),ae=new Error(Q);throw ae.type="ParsimmonError",ae.result=$,ae},f.assert=function(W,$){return this.chain(function(Q){return W(Q)?wi(Q):fs($)})},f.or=function(W){return Ui(this,W)},f.trim=function(W){return this.wrap(W,W)},f.wrap=function(W,$){return zt(W,this,$,function(Q,ae){return ae})},f.thru=function(W){return W(this)},f.then=function(W){return Pe(W),xi(this,W).map(function($){return $[1]})},f.many=function(){var W=this;return u(function($,Q){for(var ae=[],le=void 0;;){if(!(le=oe(W._($,Q),le)).status)return oe(re(Q,ae),le);if(Q===le.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");Q=le.index,ae.push(le.value)}})},f.tieWith=function(W){return qe(W),this.map(function($){if(function(le){if(!V(le))throw new Error("not an array: "+le)}($),$.length){qe($[0]);for(var Q=$[0],ae=1;ae<$.length;ae++)qe($[ae]),Q+=W+$[ae];return Q}return""})},f.tie=function(){return this.tieWith("")},f.times=function(W,$){var Q=this;return arguments.length<2&&($=W),Ce(W),Ce($),u(function(ae,le){for(var ue=[],ce=void 0,Se=void 0,Ve=0;Ve<W;Ve+=1){if(Se=oe(ce=Q._(ae,le),Se),!ce.status)return Se;le=ce.index,ue.push(ce.value)}for(;Ve<$&&(Se=oe(ce=Q._(ae,le),Se),ce.status);Ve+=1)le=ce.index,ue.push(ce.value);return oe(re(le,ue),Se)})},f.result=function(W){return this.map(function(){return W})},f.atMost=function(W){return this.times(0,W)},f.atLeast=function(W){return zt(this.times(W),this.many(),function($,Q){return $.concat(Q)})},f.map=function(W){Ae(W);var $=this;return u(function(Q,ae){var le=$._(Q,ae);return le.status?oe(re(le.index,W(le.value)),le):le})},f.contramap=function(W){Ae(W);var $=this;return u(function(Q,ae){var le=$.parse(W(Q.slice(ae)));return le.status?re(ae+Q.length,le.value):le})},f.promap=function(W,$){return Ae(W),Ae($),this.contramap(W).map($)},f.skip=function(W){return xi(this,W).map(function($){return $[0]})},f.mark=function(){return zt(Zi,this,Zi,function(W,$,Q){return{start:W,value:$,end:Q}})},f.node=function(W){return zt(Zi,this,Zi,function($,Q,ae){return{name:W,value:Q,start:$,end:ae}})},f.sepBy=function(W){return vi(this,W)},f.sepBy1=function(W){return qi(this,W)},f.lookahead=function(W){return this.skip(Ii(W))},f.notFollowedBy=function(W){return this.skip(wr(W))},f.desc=function(W){V(W)||(W=[W]);var $=this;return u(function(Q,ae){var le=$._(Q,ae);return le.status||(le.expected=W),le})},f.fallback=function(W){return this.or(wi(W))},f.ap=function(W){return zt(W,this,function($,Q){return $(Q)})},f.chain=function(W){var $=this;return u(function(Q,ae){var le=$._(Q,ae);return le.status?oe(W(le.value)._(Q,le.index),le):le})},f.concat=f.or,f.empty=js,f.of=wi,f["fantasy-land/ap"]=f.ap,f["fantasy-land/chain"]=f.chain,f["fantasy-land/concat"]=f.concat,f["fantasy-land/empty"]=f.empty,f["fantasy-land/of"]=f.of,f["fantasy-land/map"]=f.map;var Zi=u(function(W,$){return re($,me(W,$))}),Oa=u(function(W,$){return $>=W.length?ee($,"any character/byte"):re($+1,ye(W,$))}),La=u(function(W,$){return re(W.length,W.slice($))}),Ri=u(function(W,$){return $<W.length?ee($,"EOF"):re($,null)}),Ba=Zt(/[0-9]/).desc("a digit"),Dr=Zt(/[0-9]*/).desc("optional digits"),kr=Zt(/[a-z]/i).desc("a letter"),Ia=Zt(/[a-z]*/i).desc("optional letters"),Cr=Zt(/\s*/).desc("optional whitespace"),Ra=Zt(/\s+/).desc("whitespace"),zs=yi("\r"),Ar=yi(`
`),Sr=yi(`\r
`),Pr=Ui(Sr,Ar,zs).desc("newline"),Fr=Ui(Pr,Ri);u.all=La,u.alt=Ui,u.any=Oa,u.cr=zs,u.createLanguage=function(W){var $={};for(var Q in W)({}).hasOwnProperty.call(W,Q)&&function(ae){$[ae]=_r(function(){return W[ae]($)})}(Q);return $},u.crlf=Sr,u.custom=function(W){return u(W(re,ee))},u.digit=Ba,u.digits=Dr,u.empty=js,u.end=Fr,u.eof=Ri,u.fail=fs,u.formatError=Gi,u.index=Zi,u.isParser=N,u.lazy=_r,u.letter=kr,u.letters=Ia,u.lf=Ar,u.lookahead=Ii,u.makeFailure=ee,u.makeSuccess=re,u.newline=Pr,u.noneOf=function(W){return gs(function($){return W.indexOf($)<0}).desc("none of '"+W+"'")},u.notFollowedBy=wr,u.of=wi,u.oneOf=function(W){for(var $=W.split(""),Q=0;Q<$.length;Q++)$[Q]="'"+$[Q]+"'";return gs(function(ae){return W.indexOf(ae)>=0}).desc($)},u.optWhitespace=Cr,u.Parser=u,u.range=function(W,$){return gs(function(Q){return W<=Q&&Q<=$}).desc(W+"-"+$)},u.regex=Zt,u.regexp=Zt,u.sepBy=vi,u.sepBy1=qi,u.seq=xi,u.seqMap=zt,u.seqObj=function(){for(var W,$={},Q=0,ae=(W=arguments,Array.prototype.slice.call(W)),le=ae.length,ue=0;ue<le;ue+=1){var ce=ae[ue];if(!N(ce)){if(V(ce)&&ce.length===2&&typeof ce[0]=="string"&&N(ce[1])){var Se=ce[0];if(Object.prototype.hasOwnProperty.call($,Se))throw new Error("seqObj: duplicate key "+Se);$[Se]=!0,Q++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(Q===0)throw new Error("seqObj expects at least one named parser, found zero");return u(function(Ve,wt){for(var ct,$t={},Pt=0;Pt<le;Pt+=1){var Kt,oi;if(V(ae[Pt])?(Kt=ae[Pt][0],oi=ae[Pt][1]):(Kt=null,oi=ae[Pt]),!(ct=oe(oi._(Ve,wt),ct)).status)return ct;Kt&&($t[Kt]=ct.value),wt=ct.index}return oe(re(wt,$t),ct)})},u.string=yi,u.succeed=wi,u.takeWhile=function(W){return Ae(W),u(function($,Q){for(var ae=Q;ae<$.length&&W(ye($,ae));)ae++;return re(ae,$.slice(Q,ae))})},u.test=gs,u.whitespace=Ra,u["fantasy-land/empty"]=js,u["fantasy-land/of"]=wi,u.Binary={bitSeq:S,bitSeqObj:function(W){M();var $={},Q=0,ae=D(function(ue){if(V(ue)){var ce=ue;if(ce.length!==2)throw new Error("["+ce.join(", ")+"] should be length 2, got length "+ce.length);if(qe(ce[0]),Ce(ce[1]),Object.prototype.hasOwnProperty.call($,ce[0]))throw new Error("duplicate key in bitSeqObj: "+ce[0]);return $[ce[0]]=!0,Q++,ce}return Ce(ue),[null,ue]},W);if(Q<1)throw new Error("bitSeqObj expects at least one named pair, got ["+W.join(", ")+"]");var le=D(function(ue){return ue[0]},ae);return S(D(function(ue){return ue[1]},ae)).map(function(ue){return y(function(ce,Se){return Se[0]!==null&&(ce[Se[0]]=Se[1]),ce},{},D(function(ce,Se){return[ce,ue[Se]]},le))})},byte:function(W){if(M(),Ce(W),W>255)throw new Error("Value specified to byte constructor ("+W+"=0x"+W.toString(16)+") is larger in value than a single byte.");var $=(W>15?"0x":"0x0")+W.toString(16);return u(function(Q,ae){var le=ye(Q,ae);return le===W?re(ae+1,le):ee(ae,$)})},buffer:function(W){return X("buffer",W).map(function($){return Buffer.from($)})},encodedString:function(W,$){return X("string",$).map(function(Q){return Q.toString(W)})},uintBE:z,uint8BE:z(1),uint16BE:z(2),uint32BE:z(4),uintLE:G,uint8LE:G(1),uint16LE:G(2),uint32LE:G(4),intBE:R,int8BE:R(1),int16BE:R(2),int32BE:R(4),intLE:U,int8LE:U(1),int16LE:U(2),int32LE:U(4),floatBE:X("floatBE",4).map(function(W){return W.readFloatBE(0)}),floatLE:X("floatLE",4).map(function(W){return W.readFloatLE(0)}),doubleBE:X("doubleBE",8).map(function(W){return W.readDoubleBE(0)}),doubleLE:X("doubleLE",8).map(function(W){return W.readDoubleLE(0)})},t.exports=u}])})})(Tl);var Ml=Tl.exports,Zf=1/0,$f=9007199254740991,Kf="[object Arguments]",Jf="[object Function]",Qf="[object GeneratorFunction]",eg=typeof Gs=="object"&&Gs&&Gs.Object===Object&&Gs,tg=typeof self=="object"&&self&&self.Object===Object&&self,ig=eg||tg||Function("return this")();function sg(n,e){for(var t=-1,r=e.length,o=n.length;++t<r;)n[o+t]=e[t];return n}var qn=Object.prototype,rg=qn.hasOwnProperty,El=qn.toString,go=ig.Symbol,ag=qn.propertyIsEnumerable,po=go?go.isConcatSpreadable:void 0;function Ol(n,e,t,r,o){var u=-1,f=n.length;for(t||(t=ng),o||(o=[]);++u<f;){var m=n[u];e>0&&t(m)?e>1?Ol(m,e-1,t,r,o):sg(o,m):r||(o[o.length]=m)}return o}function ng(n){return hg(n)||lg(n)||!!(po&&n&&n[po])}function og(n){var e=n?n.length:0;return e?Ol(n,Zf):[]}function lg(n){return cg(n)&&rg.call(n,"callee")&&(!ag.call(n,"callee")||El.call(n)==Kf)}var hg=Array.isArray;function ug(n){return n!=null&&fg(n.length)&&!dg(n)}function cg(n){return pg(n)&&ug(n)}function dg(n){var e=gg(n)?El.call(n):"";return e==Jf||e==Qf}function fg(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=$f}function gg(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function pg(n){return!!n&&typeof n=="object"}var Ll=og,ze=Ml,mg=Ll,$r=ds.OptionalVariationSelector=ze.regex(/[\ufe0e\ufe0f]{0,1}/).desc("an optional variation selector (\\ufe0e or \\ufe0f)"),bg=ds.RequiredVariationSelector=ze.regex(/[\ufe0e\ufe0f]/).desc("an required variation selector (\\ufe0e or \\ufe0f)"),xg=ze.seq(ze.regex(/[0-9#*]/),$r,ze.string("")).desc("a keycap emoji"),vg=ze.regex(/\ud83c[\udde6-\uddff]/).times(2).desc("a flag emoji"),yg=ze.seq(ze.string(""),ze.alt(ze.string(""),ze.string(""),ze.string("")),ze.string("")),wg=ze.string("").desc("zero-width joiner (\\u200d)"),mo=ze.regex(/(\ud83c[\udffb-\udfff]){0,1}/).desc("an optional Fitzpatrick modifier"),un=ze.alt(ze.regex(/[\u203c-\u2bff]/),ze.regex(/[\u2702-\u27b0]/),ze.regex(/[\u3200-\u32ff]/),vg,yg,ze.regex(/\ud83c[\udc04-\udfff]/),ze.regex(/\ud83d[\udc00-\udfff]/),ze.regex(/\ud83e[\udc00-\udfff]/)),_g=ze.seq(ze.alt(ze.string(""),ze.string(""),ze.string(""),ze.string("")),bg),Dg=ze.seq(un,$r,ze.seq(wg,un,$r).times(1,3)),Bl=ds.Emoji=ze.seq(ze.alt(_g,Dg,ze.seq(un,mo,$r),xg),mo).map(function(n){return mg(n).join("")});ds.parseOne=function(n){var e=Bl.parse(n);return e.status?e.value:!1};ds.parse=function(n){var e=Bl.many().parse(n);return e.status?e.value:!1};var kg=ds.Emoji,Cg=function(n){return kg.parse(n).status},Ca={},Ag=ds.Emoji,Hr=Ml,Il=Ll,Sg=Hr.regex(/[\uD800-\uDBFF][\uDC00-\uDFFF]/),Rl=Ca.Unicode=Hr.alt(Ag,Hr.regex(/[\u0000-\uD799]/),Hr.regex(/[\uE000-\uFFFF]/),Sg);Ca.parseOne=function(n){var e=Rl.parse(n);return e.status?Il(e.value).join(""):!1};Ca.parse=function(n){var e=Rl.many().parse(n);return e.status?e.value.map(function(t){return Il(t).join("")}):!1};var Pg=Cg,Fg=Ca.parse,Tg=function(n){var e=Fg(n);return e&&e.filter(function(t){return Pg(t)})};const bo=["#00535f","#51b0bc","#21a68d","#ffd45c","#35cd96","#ed8c2b","#b3f94f","#ba33dc","#ffa35c","#227373","#ff855c"];function ms(n,e=.1){let t;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(n))return t=n.substring(1).split(""),t.length===3&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t=`0x${t.join("")}`,`rgba(${[t>>16&255,t>>8&255,t&255].join(",")}, ${e} )`;throw new Error("Bad Hex")}class kt{static removeSystemMessages(e){return e.filter(t=>t.author.toLowerCase()!=="system").slice(1)}static groupBy(e,t){return e.reduce((r,o)=>((r[o[t]]=r[o[t]]||[]).push(o),r),{})}static getTotalNumberOfWords(e){return e.reduce((t,{message:r})=>t+r.split(" ").length,0)}static uniqueWords(e){function t(r){return r[1]===1}return e.filter(t)}static match_emojys(e,t=3){let r=new Set;const o=qa();for(let u of e){if(r.size===t)return r;let f=Tg(u[0]);f.length!==0&&f[0].match(o)&&r.add(f[0])}return r}static get_longest_message(e){let t=0;return e.forEach(r=>{const o=r.message.split(" ").length;t<o&&(t=o)}),t}static createSortedFreqDict(e){let t=e.reduce((f,{message:m})=>`${f} ${m}`," ");t=t.replace(/\u200E/gi,"");let r=t.replace(/\n/g," ").split(" "),o={};return r.map(f=>{o[f]=(o[f]||0)+1}),Object.entries(o).sort((f,m)=>m[1]-f[1])}static createSortedFreqDictEmojiStripped(e){let t=e.reduce((m,{message:y})=>`${m} ${y}`," ");t=t.replace(/\u200E/gi,"");const r=qa();t=t.replace(r,"");let o=t.replace(/\n/g," ").split(" "),u={};return o.map(m=>{u[m]=(u[m]||0)+1}),Object.entries(u).sort((m,y)=>y[1]-m[1])}static createSortedFreqDictOnlyEmojis(e){let t=e.reduce((m,{message:y})=>`${m} ${y}`," ");t=t.replace(/\u200E/gi,"");const r=qa();t=t.replace(`(?!${r}$).*`,"");let o=t.replace(/\n/g," ").split(" "),u={};return o.map(m=>{u[m]=(u[m]||0)+1}),Object.entries(u).sort((m,y)=>y[1]-m[1])}static toDayDates(e){return e.map(t=>t.date.setHours(0,0,0,0))}static getMessagesPerPerson(e){return this.groupBy(e,"author")}static hourlyDataFromChat(e){let t=new Array(24).fill(0);return e.map(r=>{t[r.date.getHours()]+=1}),t}static dailyDataFromChat(e){let t=new Array(7).fill(0);return e.map(r=>{t[r.date.getDay()]+=1}),t}static weeklyDataFromChat(e){let t=new Array(12).fill(0);return e.map(r=>{t[r.date.getMonth()]+=1}),t}constructor(e=[],t=9,r=150){this.chatObject=e,this._groupAfter=t,this._maxWordsWordCloud=r,this.filterdChatObject=kt.removeSystemMessages(this.chatObject);const o=Object.entries(kt.getMessagesPerPerson(this.filterdChatObject));this.numPersonsInChat=o.length,this.personColorMap={},o.forEach((u,f)=>{this.personColorMap[u[0]]=bo[f%bo.length]}),this._sortedFreqList=null,this._sortedFreqListEmojiStripped=null,this._messagesPerPerson=null,this._dates=null,this.__reload()}__reload(){this._lineGraphData=Promise.resolve(this._getLineGraphData()),this._emojiStrippedMsgs=Promise.resolve(this._getEmojiStrippedMsgs()),this._funfacts=Promise.resolve(this._getFunFacts()),this._allWords=Promise.resolve(this._getAllWords()),this._allWordsEmojiStripped=Promise.resolve(this._getAllEmojiStrippedWords()),this._allEmojis=Promise.resolve(this._getAllEmojis()),this._hourlyData=Promise.resolve(this._getHourlyData()),this._dailyData=Promise.resolve(this._getDailyData()),this._weeklyData=Promise.resolve(this._getWeeklyData()),this._shareOfSpeech=Promise.resolve(this._getShareOfSpeech())}get sortedFreqDict(){return this._sortedFreqList?this._sortedFreqList:(this._sortedFreqList=kt.createSortedFreqDict(this.chatObject),this._sortedFreqList)}get sortedFreqDictEmojiStripped(){return this._sortedFreqListEmojiStripped?this._sortedFreqListEmojiStripped:(this._sortedFreqListEmojiStripped=kt.createSortedFreqDictEmojiStripped(this.chatObject),this._sortedFreqListEmojiStripped)}get sortedFreqDictOnlyEmojis(){return this._sortedFreqListOnlyEmojis?this._sortedFreqListOnlyEmojis:(this._sortedFreqListOnlyEmojis=kt.createSortedFreqDictOnlyEmojis(this.chatObject),this._sortedFreqListOnlyEmojis)}get groupAfter(){return this._groupAfter}set groupAfter(e){this._groupAfter=e,this._messagesPerPerson=null,this._lineGraphData=Promise.resolve(this._getLineGraphData()),this._funfacts=Promise.resolve(this._getFunFacts()),this._emojiStrippedMsgs=Promise.resolve(this._getEmojiStrippedMsgs()),this._hourlyData=Promise.resolve(this._getHourlyData()),this._dailyData=Promise.resolve(this._getDailyData()),this._weeklyData=Promise.resolve(this._getWeeklyData()),this._shareOfSpeech=Promise.resolve(this._getShareOfSpeech())}get messagesPerPerson(){return this._messagesPerPerson?this._messagesPerPerson:(this._messagesPerPerson=this._getMessagesPerPerson(),this._messagesPerPerson)}_getMessagesPerPerson(){let e=Object.entries(kt.getMessagesPerPerson(this.filterdChatObject));e=e.sort((o,u)=>u[1].length-o[1].length);let t=[],r=!1;return e.forEach((o,u)=>{u>this._groupAfter?(t[this._groupAfter].messages=t[this._groupAfter].messages.concat(o[1]),r=!0):t.push({name:o[0],color:this.personColorMap[o[0]],messages:o[1].sort((f,m)=>f.date-m.date)})}),r&&(t[this._groupAfter].name="Others",t[this._groupAfter].color="#D3D3D3",t[this._groupAfter].messages.sort((o,u)=>o.absolute_id-u.absolute_id)),t}get dates(){return this._dates?this._dates:(this._dates=this.filterdChatObject.map(e=>e.date),this._dates)}_getShareOfSpeech(e=1){return{labels:this.messagesPerPerson.map(t=>t.name),datasets:[{label:"Share of Speech",backgroundColor:this.messagesPerPerson.map(t=>ms(t.color,e)),borderColor:this.messagesPerPerson.map(t=>t.color),data:this.messagesPerPerson.map(t=>t.messages.length)}]}}getShareOfSpeech(){return this._shareOfSpeech}_getFunFacts(){return this.messagesPerPerson.map(t=>{let{name:r}=t,o=kt.getTotalNumberOfWords(t.messages),u=kt.get_longest_message(t.messages),f=kt.createSortedFreqDict(t.messages),m=kt.uniqueWords(f).length,y=kt.match_emojys(f,3),D=o/t.messages.length;return{color:t.color,name:r,numberOfWords:o,longestMessage:u,uniqueWords:m,sortedEmojis:y,averageMessageLength:Math.round(D)}})}getFunFacts(){return this._funfacts}_getEmojiStrippedMsgs(){return this._funfacts}getEmojiStrippedMsgs(){return this._emojiStrippedMsgs}_getHourlyData(e=1){return{labels:["0AM","1AM","2AM","3AM","4AM","5AM","6AM","7AM","8AM","9AM","10AM","11AM","12PM","1PM","2PM","3PM","4PM","5PM","6PM","7PM","8PM","9PM","10PM","11PM"],datasets:this.messagesPerPerson.map(t=>({label:t.name,backgroundColor:ms(t.color,e),borderColor:t.color,data:kt.hourlyDataFromChat(t.messages)}))}}getHourlyData(){return this._hourlyData}_getDailyData(e=1){return{labels:pe.weekdays(),datasets:this.messagesPerPerson.map(t=>({label:t.name,backgroundColor:ms(t.color,e),borderColor:t.color,data:kt.dailyDataFromChat(t.messages)}))}}getDailyData(){return this._dailyData}_getWeeklyData(e=1){return{labels:pe.months(),datasets:this.messagesPerPerson.map(t=>({label:t.name,backgroundColor:ms(t.color,e),borderColor:t.color,data:kt.weeklyDataFromChat(t.messages)}))}}getWeeklyData(){return this._weeklyData}_getLineGraphData(){let e=(m,y)=>{let D={};for(let T=pe(m);T.isBefore(y);T.add(1,"days"))D[T.format("YYYY-MM-DD")]=0;return D};function t(m){let y=m.length,D=1/0;for(;y--;)m[y]<D&&(D=m[y]);return D}function r(m){let y=m.length,D=-1/0;for(;y--;)m[y]>D&&(D=m[y]);return D}const o=new Date(t(this.dates)),u=new Date(r(this.dates));let f=e(o,u);return this.filterdChatObject.map(m=>{f[pe(m.date).format("YYYY-MM-DD")]+=1}),{labels:Object.keys(f),datasets:[{data:Object.values(f),borderWidth:1,lineTension:0,pointRadius:0,pointHitRadius:2,backgroundColor:ms("#EF5350"),borderColor:ms("#B71C1C",[1])}]}}getLineGraphData(){return this._lineGraphData}getLineGraphXAxis(e,t){let r=new Date(e-t),o="";return r.getFullYear()>1971?o="year":r.getFullYear()>1970&&r.getMonth()>0?o="month":o="day",o}_getAllWords(){return this.sortedFreqDict.filter(e=>!(Ua.includes(e[0].toLowerCase())||["","<media","<attached:","audio","omitted>","bild","image","omitted","_","_ommited>","_omitted","_attached"].includes(e[0].toLowerCase()))&&e[1]>1).map(e=>({word:e[0],freq:e[1]}))}getAllWords(){return this._allWords.then(e=>e.slice(0,this._maxWordsWordCloud))}_getAllEmojiStrippedWords(){return this.sortedFreqDictEmojiStripped.filter(e=>!(Ua.includes(e[0].toLowerCase())||["","<media","<attached:","audio","omitted>","bild","image","omitted","_","_ommited>","_omitted","_attached"].includes(e[0].toLowerCase()))&&e[1]>1).map(e=>({word:e[0],freq:e[1]}))}getAllWordsEmojiStripped(){return this._allWordsEmojiStripped.then(e=>e.slice(0,this._maxWordsWordCloud))}_getAllEmojis(){return this.sortedFreqDictOnlyEmojis.filter(e=>!(Ua.includes(e[0].toLowerCase())||["","<media","<attached:","audio","omitted>","bild","image","omitted","_","_ommited>","_omitted","_attached"].includes(e[0].toLowerCase()))&&e[1]>1).map(e=>({word:e[0],freq:e[1]}))}getAllEmojis(){return this._allEmojis.then(e=>e.slice(0,this._maxWordsWordCloud))}}function Yl({facts:n,index:e}){const{averageMessageLength:t,longestMessage:r,name:o,numberOfWords:u,sortedEmojis:f}=n,m=e===0,y=e===1||e===2,D=Re.jsx(Ch,{alt:o,src:`../../assets/images/avatars/${o}.jpeg`,sx:{zIndex:9,width:32,height:32,position:"absolute",left:S=>S.spacing(3),bottom:S=>S.spacing(-2),...(m||y)&&{zIndex:9,top:24,left:24,width:40,height:40}}}),T=Re.jsxs(Xs,{color:"inherit",variant:"subtitle2",sx:{display:"-webkit-box",WebkitBoxOrient:"vertical",...m&&{typography:"h5",height:60},...(m||y)&&{color:"common.white"}},children:[Re.jsxs(Xs,{children:["No. of Words: ",u]}),Re.jsxs(Xs,{children:["Average Message Length : ",t]}),Re.jsxs(Xs,{children:["Longest Message: ",r]}),Re.jsxs(Xs,{children:["Top used emojis: ",f]})]}),C=Re.jsx(Xa,{component:"img",alt:o,src:`../../assets/images/${o}_funfact.jpeg`,sx:{top:0,width:1,height:1,objectFit:"cover",position:"absolute"}}),M=Re.jsx(Ah,{color:"paper",src:"/assets/icons/shape-avatar.svg",sx:{width:80,height:36,zIndex:9,bottom:-15,position:"absolute",color:"background.paper",...(m||y)&&{display:"none"}}});return Re.jsxs(Fh,{children:[Re.jsxs(Xa,{sx:{position:"relative",pt:"calc(100% * 3 / 4)",...(m||y)&&{pt:"calc(100% * 4 / 3)","&:after":{top:0,content:"''",width:"100%",height:"100%",position:"absolute",bgcolor:S=>kh(S.palette.grey[900],.72)}},...m&&{pt:{xs:"calc(100% * 4 / 3)",sm:"calc(100% * 3 / 4.66)"}}},children:[M,D,C]}),Re.jsx(Xa,{sx:{p:S=>S.spacing(4,3,3,3),...(m||y)&&{width:1,bottom:0,position:"absolute"}},children:T})]})}Yl.propTypes={facts:Js.object.isRequired,index:Js.number};var jl={},cn={exports:{}};/*!
 * ApexCharts v3.43.0
 * (c) 2018-2023 ApexCharts
 * Released under the MIT License.
 */(function(n,e){function t(L,i){var s=Object.keys(L);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(L);i&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(L,l).enumerable})),s.push.apply(s,a)}return s}function r(L){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?t(Object(s),!0).forEach(function(a){y(L,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(s)):t(Object(s)).forEach(function(a){Object.defineProperty(L,a,Object.getOwnPropertyDescriptor(s,a))})}return L}function o(L){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},o(L)}function u(L,i){if(!(L instanceof i))throw new TypeError("Cannot call a class as a function")}function f(L,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(L,a.key,a)}}function m(L,i,s){return i&&f(L.prototype,i),s&&f(L,s),L}function y(L,i,s){return i in L?Object.defineProperty(L,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):L[i]=s,L}function D(L,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(i&&i.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),i&&C(L,i)}function T(L){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},T(L)}function C(L,i){return C=Object.setPrototypeOf||function(s,a){return s.__proto__=a,s},C(L,i)}function M(L,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(L)}function S(L){var i=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,a=T(L);if(i){var l=T(this).constructor;s=Reflect.construct(a,arguments,l)}else s=a.apply(this,arguments);return M(this,s)}}function X(L,i){return function(s){if(Array.isArray(s))return s}(L)||function(s,a){var l=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(l!=null){var h,c,d=[],g=!0,b=!1;try{for(l=l.call(s);!(g=(h=l.next()).done)&&(d.push(h.value),!a||d.length!==a);g=!0);}catch(x){b=!0,c=x}finally{try{g||l.return==null||l.return()}finally{if(b)throw c}}return d}}(L,i)||z(L,i)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function O(L){return function(i){if(Array.isArray(i))return G(i)}(L)||function(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}(L)||z(L)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function z(L,i){if(L){if(typeof L=="string")return G(L,i);var s=Object.prototype.toString.call(L).slice(8,-1);return s==="Object"&&L.constructor&&(s=L.constructor.name),s==="Map"||s==="Set"?Array.from(L):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?G(L,i):void 0}}function G(L,i){(i==null||i>L.length)&&(i=L.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=L[s];return a}var R=function(){function L(){u(this,L)}return m(L,[{key:"shadeRGBColor",value:function(i,s){var a=s.split(","),l=i<0?0:255,h=i<0?-1*i:i,c=parseInt(a[0].slice(4),10),d=parseInt(a[1],10),g=parseInt(a[2],10);return"rgb("+(Math.round((l-c)*h)+c)+","+(Math.round((l-d)*h)+d)+","+(Math.round((l-g)*h)+g)+")"}},{key:"shadeHexColor",value:function(i,s){var a=parseInt(s.slice(1),16),l=i<0?0:255,h=i<0?-1*i:i,c=a>>16,d=a>>8&255,g=255&a;return"#"+(16777216+65536*(Math.round((l-c)*h)+c)+256*(Math.round((l-d)*h)+d)+(Math.round((l-g)*h)+g)).toString(16).slice(1)}},{key:"shadeColor",value:function(i,s){return L.isColorHex(s)?this.shadeHexColor(i,s):this.shadeRGBColor(i,s)}}],[{key:"bind",value:function(i,s){return function(){return i.apply(s,arguments)}}},{key:"isObject",value:function(i){return i&&o(i)==="object"&&!Array.isArray(i)&&i!=null}},{key:"is",value:function(i,s){return Object.prototype.toString.call(s)==="[object "+i+"]"}},{key:"listToArray",value:function(i){var s,a=[];for(s=0;s<i.length;s++)a[s]=i[s];return a}},{key:"extend",value:function(i,s){var a=this;typeof Object.assign!="function"&&(Object.assign=function(h){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(h),d=1;d<arguments.length;d++){var g=arguments[d];if(g!=null)for(var b in g)g.hasOwnProperty(b)&&(c[b]=g[b])}return c});var l=Object.assign({},i);return this.isObject(i)&&this.isObject(s)&&Object.keys(s).forEach(function(h){a.isObject(s[h])&&h in i?l[h]=a.extend(i[h],s[h]):Object.assign(l,y({},h,s[h]))}),l}},{key:"extendArray",value:function(i,s){var a=[];return i.map(function(l){a.push(L.extend(s,l))}),i=a}},{key:"monthMod",value:function(i){return i%12}},{key:"clone",value:function(i){if(L.is("Array",i)){for(var s=[],a=0;a<i.length;a++)s[a]=this.clone(i[a]);return s}if(L.is("Null",i))return null;if(L.is("Date",i))return i;if(o(i)==="object"){var l={};for(var h in i)i.hasOwnProperty(h)&&(l[h]=this.clone(i[h]));return l}return i}},{key:"log10",value:function(i){return Math.log(i)/Math.LN10}},{key:"roundToBase10",value:function(i){return Math.pow(10,Math.floor(Math.log10(i)))}},{key:"roundToBase",value:function(i,s){return Math.pow(s,Math.floor(Math.log(i)/Math.log(s)))}},{key:"parseNumber",value:function(i){return i===null?i:parseFloat(i)}},{key:"stripNumber",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(i)?i:parseFloat(i.toPrecision(s))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(i){var s=String(i).split(/[eE]/);if(s.length===1)return s[0];var a="",l=i<0?"-":"",h=s[0].replace(".",""),c=Number(s[1])+1;if(c<0){for(a=l+"0.";c++;)a+="0";return a+h.replace(/^-/,"")}for(c-=h.length;c--;)a+="0";return h+a}},{key:"getDimensions",value:function(i){var s=getComputedStyle(i,null),a=i.clientHeight,l=i.clientWidth;return a-=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),[l-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),a]}},{key:"getBoundingClientRect",value:function(i){var s=i.getBoundingClientRect();return{top:s.top,right:s.right,bottom:s.bottom,left:s.left,width:i.clientWidth,height:i.clientHeight,x:s.left,y:s.top}}},{key:"getLargestStringFromArr",value:function(i){return i.reduce(function(s,a){return Array.isArray(a)&&(a=a.reduce(function(l,h){return l.length>h.length?l:h})),s.length>a.length?s:a},0)}},{key:"hexToRgba",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;i.substring(0,1)!=="#"&&(i="#999999");var a=i.replace("#","");a=a.match(new RegExp("(.{"+a.length/3+"})","g"));for(var l=0;l<a.length;l++)a[l]=parseInt(a[l].length===1?a[l]+a[l]:a[l],16);return s!==void 0&&a.push(s),"rgba("+a.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(i){return parseFloat(i.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(i){return(i=i.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&i.length===4?"#"+("0"+parseInt(i[1],10).toString(16)).slice(-2)+("0"+parseInt(i[2],10).toString(16)).slice(-2)+("0"+parseInt(i[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(i){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(i)}},{key:"getPolygonPos",value:function(i,s){for(var a=[],l=2*Math.PI/s,h=0;h<s;h++){var c={};c.x=i*Math.sin(h*l),c.y=-i*Math.cos(h*l),a.push(c)}return a}},{key:"polarToCartesian",value:function(i,s,a,l){var h=(l-90)*Math.PI/180;return{x:i+a*Math.cos(h),y:s+a*Math.sin(h)}}},{key:"escapeString",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",a=i.toString().slice();return a=a.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,s)}},{key:"negToZero",value:function(i){return i<0?0:i}},{key:"moveIndexInArray",value:function(i,s,a){if(a>=i.length)for(var l=a-i.length+1;l--;)i.push(void 0);return i.splice(a,0,i.splice(s,1)[0]),i}},{key:"extractNumber",value:function(i){return parseFloat(i.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(i,s){for(;(i=i.parentElement)&&!i.classList.contains(s););return i}},{key:"setELstyles",value:function(i,s){for(var a in s)s.hasOwnProperty(a)&&(i.style.key=s[a])}},{key:"isNumber",value:function(i){return!isNaN(i)&&parseFloat(Number(i))===i&&!isNaN(parseInt(i,10))}},{key:"isFloat",value:function(i){return Number(i)===i&&i%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var i=window.navigator.userAgent,s=i.indexOf("MSIE ");if(s>0)return parseInt(i.substring(s+5,i.indexOf(".",s)),10);if(i.indexOf("Trident/")>0){var a=i.indexOf("rv:");return parseInt(i.substring(a+3,i.indexOf(".",a)),10)}var l=i.indexOf("Edge/");return l>0&&parseInt(i.substring(l+5,i.indexOf(".",l)),10)}}]),L}(),U=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w,this.setEasingFunctions()}return m(L,[{key:"setEasingFunctions",value:function(){var i;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":i="-";break;case"easein":i="<";break;case"easeout":i=">";break;case"easeinout":default:i="<>";break;case"swing":i=function(s){var a=1.70158;return(s-=1)*s*((a+1)*s+a)+1};break;case"bounce":i=function(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375};break;case"elastic":i=function(s){return s===!!s?s:Math.pow(2,-10*s)*Math.sin((s-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=i}}},{key:"animateLine",value:function(i,s,a,l){i.attr(s).animate(l).attr(a)}},{key:"animateMarker",value:function(i,s,a,l,h,c){s||(s=0),i.attr({r:s,width:s,height:s}).animate(l,h).attr({r:a,width:a.width,height:a.height}).afterAll(function(){c()})}},{key:"animateCircle",value:function(i,s,a,l,h){i.attr({r:s.r,cx:s.cx,cy:s.cy}).animate(l,h).attr({r:a.r,cx:a.cx,cy:a.cy})}},{key:"animateRect",value:function(i,s,a,l,h){i.attr(s).animate(l).attr(a).afterAll(function(){return h()})}},{key:"animatePathsGradually",value:function(i){var s=i.el,a=i.realIndex,l=i.j,h=i.fill,c=i.pathFrom,d=i.pathTo,g=i.speed,b=i.delay,x=this.w,v=0;x.config.chart.animations.animateGradually.enabled&&(v=x.config.chart.animations.animateGradually.delay),x.config.chart.animations.dynamicAnimation.enabled&&x.globals.dataChanged&&x.config.chart.type!=="bar"&&(v=0),this.morphSVG(s,a,l,x.config.chart.type!=="line"||x.globals.comboCharts?h:"stroke",c,d,g,b*v)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(i){var s=i.el;s.classList.remove("apexcharts-element-hidden"),s.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(i){var s=this.w;s.globals.animationEnded||(s.globals.animationEnded=!0,this.showDelayedElements(),typeof s.config.chart.events.animationEnd=="function"&&s.config.chart.events.animationEnd(this.ctx,{el:i,w:s}))}},{key:"morphSVG",value:function(i,s,a,l,h,c,d,g){var b=this,x=this.w;h||(h=i.attr("pathFrom")),c||(c=i.attr("pathTo"));var v=function(_){return x.config.chart.type==="radar"&&(d=1),"M 0 ".concat(x.globals.gridHeight)};(!h||h.indexOf("undefined")>-1||h.indexOf("NaN")>-1)&&(h=v()),(!c||c.indexOf("undefined")>-1||c.indexOf("NaN")>-1)&&(c=v()),x.globals.shouldAnimate||(d=1),i.plot(h).animate(1,x.globals.easing,g).plot(h).animate(d,x.globals.easing,g).plot(c).afterAll(function(){R.isNumber(a)?a===x.globals.series[x.globals.maxValsInArrayIndex].length-2&&x.globals.shouldAnimate&&b.animationCompleted(i):l!=="none"&&x.globals.shouldAnimate&&(!x.globals.comboCharts&&s===x.globals.series.length-1||x.globals.comboCharts)&&b.animationCompleted(i),b.showDelayedElements()})}}]),L}(),N=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w}return m(L,[{key:"getDefaultFilter",value:function(i,s){var a=this.w;i.unfilter(!0),new window.SVG.Filter().size("120%","180%","-5%","-40%"),a.config.states.normal.filter!=="none"?this.applyFilter(i,s,a.config.states.normal.filter.type,a.config.states.normal.filter.value):a.config.chart.dropShadow.enabled&&this.dropShadow(i,a.config.chart.dropShadow,s)}},{key:"addNormalFilter",value:function(i,s){var a=this.w;a.config.chart.dropShadow.enabled&&!i.node.classList.contains("apexcharts-marker")&&this.dropShadow(i,a.config.chart.dropShadow,s)}},{key:"addLightenFilter",value:function(i,s,a){var l=this,h=this.w,c=a.intensity;i.unfilter(!0),new window.SVG.Filter,i.filter(function(d){var g=h.config.chart.dropShadow;(g.enabled?l.addShadow(d,s,g):d).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:c}})}),i.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(i.filterer.node)}},{key:"addDarkenFilter",value:function(i,s,a){var l=this,h=this.w,c=a.intensity;i.unfilter(!0),new window.SVG.Filter,i.filter(function(d){var g=h.config.chart.dropShadow;(g.enabled?l.addShadow(d,s,g):d).componentTransfer({rgb:{type:"linear",slope:c}})}),i.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(i.filterer.node)}},{key:"applyFilter",value:function(i,s,a){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;switch(a){case"none":this.addNormalFilter(i,s);break;case"lighten":this.addLightenFilter(i,s,{intensity:l});break;case"darken":this.addDarkenFilter(i,s,{intensity:l})}}},{key:"addShadow",value:function(i,s,a){var l=a.blur,h=a.top,c=a.left,d=a.color,g=a.opacity,b=i.flood(Array.isArray(d)?d[s]:d,g).composite(i.sourceAlpha,"in").offset(c,h).gaussianBlur(l).merge(i.source);return i.blend(i.source,b)}},{key:"dropShadow",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=s.top,h=s.left,c=s.blur,d=s.color,g=s.opacity,b=s.noUserSpaceOnUse,x=this.w;return i.unfilter(!0),R.isIE()&&x.config.chart.type==="radialBar"||(d=Array.isArray(d)?d[a]:d,i.filter(function(v){var _=null;_=R.isSafari()||R.isFirefox()||R.isIE()?v.flood(d,g).composite(v.sourceAlpha,"in").offset(h,l).gaussianBlur(c):v.flood(d,g).composite(v.sourceAlpha,"in").offset(h,l).gaussianBlur(c).merge(v.source),v.blend(v.source,_)}),b||i.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(i.filterer.node)),i}},{key:"setSelectionFilter",value:function(i,s,a){var l=this.w;if(l.globals.selectedDataPoints[s]!==void 0&&l.globals.selectedDataPoints[s].indexOf(a)>-1){i.node.setAttribute("selected",!0);var h=l.config.states.active.filter;h!=="none"&&this.applyFilter(i,s,h.type,h.value)}}},{key:"_scaleFilterSize",value:function(i){(function(s){for(var a in s)s.hasOwnProperty(a)&&i.setAttribute(a,s[a])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),L}(),V=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w}return m(L,[{key:"roundPathCorners",value:function(i,s){function a(H,q,Z){var te=q.x-H.x,ne=q.y-H.y,ie=Math.sqrt(te*te+ne*ne);return l(H,q,Math.min(1,Z/ie))}function l(H,q,Z){return{x:H.x+(q.x-H.x)*Z,y:H.y+(q.y-H.y)*Z}}function h(H,q){H.length>2&&(H[H.length-2]=q.x,H[H.length-1]=q.y)}function c(H){return{x:parseFloat(H[H.length-2]),y:parseFloat(H[H.length-1])}}i.indexOf("NaN")>-1&&(i="");var d=i.split(/[,\s]/).reduce(function(H,q){var Z=q.match("([a-zA-Z])(.+)");return Z?(H.push(Z[1]),H.push(Z[2])):H.push(q),H},[]).reduce(function(H,q){return parseFloat(q)==q&&H.length?H[H.length-1].push(q):H.push([q]),H},[]),g=[];if(d.length>1){var b=c(d[0]),x=null;d[d.length-1][0]=="Z"&&d[0].length>2&&(x=["L",b.x,b.y],d[d.length-1]=x),g.push(d[0]);for(var v=1;v<d.length;v++){var _=g[g.length-1],k=d[v],A=k==x?d[1]:d[v+1];if(A&&_&&_.length>2&&k[0]=="L"&&A.length>2&&A[0]=="L"){var F,E,I=c(_),Y=c(k),p=c(A);F=a(Y,I,s),E=a(Y,p,s),h(k,F),k.origPoint=Y,g.push(k);var w=l(F,Y,.5),P=l(Y,E,.5),B=["C",w.x,w.y,P.x,P.y,E.x,E.y];B.origPoint=Y,g.push(B)}else g.push(k)}if(x){var j=c(g[g.length-1]);g.push(["Z"]),h(g[0],j)}}else g=d;return g.reduce(function(H,q){return H+q.join(" ")+" "},"")}},{key:"drawLine",value:function(i,s,a,l){var h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:i,y1:s,x2:a,y2:l,stroke:h,"stroke-dasharray":c,"stroke-width":d,"stroke-linecap":g})}},{key:"drawRect",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,b=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,x=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,v=this.w.globals.dom.Paper.rect();return v.attr({x:i,y:s,width:a>0?a:0,height:l>0?l:0,rx:h,ry:h,opacity:d,"stroke-width":g!==null?g:0,stroke:b!==null?b:"none","stroke-dasharray":x}),v.node.setAttribute("fill",c),v}},{key:"drawPolygon",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(i).attr({fill:l,stroke:s,"stroke-width":a})}},{key:"drawCircle",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;i<0&&(i=0);var a=this.w.globals.dom.Paper.circle(2*i);return s!==null&&a.attr(s),a}},{key:"drawPath",value:function(i){var s=i.d,a=s===void 0?"":s,l=i.stroke,h=l===void 0?"#a8a8a8":l,c=i.strokeWidth,d=c===void 0?1:c,g=i.fill,b=i.fillOpacity,x=b===void 0?1:b,v=i.strokeOpacity,_=v===void 0?1:v,k=i.classes,A=i.strokeLinecap,F=A===void 0?null:A,E=i.strokeDashArray,I=E===void 0?0:E,Y=this.w;return F===null&&(F=Y.config.stroke.lineCap),(a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a="M 0 ".concat(Y.globals.gridHeight)),Y.globals.dom.Paper.path(a).attr({fill:g,"fill-opacity":x,stroke:h,"stroke-opacity":_,"stroke-linecap":F,"stroke-width":d,"stroke-dasharray":I,class:k})}},{key:"group",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=this.w.globals.dom.Paper.group();return i!==null&&s.attr(i),s}},{key:"move",value:function(i,s){var a=["M",i,s].join(" ");return a}},{key:"line",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,l=null;return a===null?l=[" L",i,s].join(" "):a==="H"?l=[" H",i].join(" "):a==="V"&&(l=[" V",s].join(" ")),l}},{key:"curve",value:function(i,s,a,l,h,c){var d=["C",i,s,a,l,h,c].join(" ");return d}},{key:"quadraticCurve",value:function(i,s,a,l){return["Q",i,s,a,l].join(" ")}},{key:"arc",value:function(i,s,a,l,h,c,d){var g="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(g="a");var b=[g,i,s,a,l,h,c,d].join(" ");return b}},{key:"renderPaths",value:function(i){var s,a=i.j,l=i.realIndex,h=i.pathFrom,c=i.pathTo,d=i.stroke,g=i.strokeWidth,b=i.strokeLinecap,x=i.fill,v=i.animationDelay,_=i.initialSpeed,k=i.dataChangeSpeed,A=i.className,F=i.shouldClipToGrid,E=F===void 0||F,I=i.bindEventsOnPaths,Y=I===void 0||I,p=i.drawShadow,w=p===void 0||p,P=this.w,B=new N(this.ctx),j=new U(this.ctx),H=this.w.config.chart.animations.enabled,q=H&&this.w.config.chart.animations.dynamicAnimation.enabled,Z=!!(H&&!P.globals.resized||q&&P.globals.dataChanged&&P.globals.shouldAnimate);Z?s=h:(s=c,P.globals.animationEnded=!0);var te=P.config.stroke.dashArray,ne=0;ne=Array.isArray(te)?te[l]:P.config.stroke.dashArray;var ie=this.drawPath({d:s,stroke:d,strokeWidth:g,fill:x,fillOpacity:1,classes:A,strokeLinecap:b,strokeDashArray:ne});if(ie.attr("index",l),E&&ie.attr({"clip-path":"url(#gridRectMask".concat(P.globals.cuid,")")}),P.config.states.normal.filter.type!=="none")B.getDefaultFilter(ie,l);else if(P.config.chart.dropShadow.enabled&&w&&(!P.config.chart.dropShadow.enabledOnSeries||P.config.chart.dropShadow.enabledOnSeries&&P.config.chart.dropShadow.enabledOnSeries.indexOf(l)!==-1)){var de=P.config.chart.dropShadow;B.dropShadow(ie,de,l)}Y&&(ie.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,ie)),ie.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,ie)),ie.node.addEventListener("mousedown",this.pathMouseDown.bind(this,ie))),ie.attr({pathTo:c,pathFrom:h});var ge={el:ie,j:a,realIndex:l,pathFrom:h,pathTo:c,fill:x,strokeWidth:g,delay:v};return!H||P.globals.resized||P.globals.dataChanged?!P.globals.resized&&P.globals.dataChanged||j.showDelayedElements():j.animatePathsGradually(r(r({},ge),{},{speed:_})),P.globals.dataChanged&&q&&Z&&j.animatePathsGradually(r(r({},ge),{},{speed:k})),ie}},{key:"drawPattern",value:function(i,s,a){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(s,a,function(c){i==="horizontalLines"?c.line(0,0,a,0).stroke({color:l,width:h+1}):i==="verticalLines"?c.line(0,0,0,s).stroke({color:l,width:h+1}):i==="slantedLines"?c.line(0,0,s,a).stroke({color:l,width:h}):i==="squares"?c.rect(s,a).fill("none").stroke({color:l,width:h}):i==="circles"&&c.circle(s).fill("none").stroke({color:l,width:h})})}},{key:"drawGradient",value:function(i,s,a,l,h){var c,d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,g=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,b=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,x=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,v=this.w;s.length<9&&s.indexOf("#")===0&&(s=R.hexToRgba(s,l)),a.length<9&&a.indexOf("#")===0&&(a=R.hexToRgba(a,h));var _=0,k=1,A=1,F=null;g!==null&&(_=g[0]!==void 0?g[0]/100:0,k=g[1]!==void 0?g[1]/100:1,A=g[2]!==void 0?g[2]/100:1,F=g[3]!==void 0?g[3]/100:null);var E=!(v.config.chart.type!=="donut"&&v.config.chart.type!=="pie"&&v.config.chart.type!=="polarArea"&&v.config.chart.type!=="bubble");if(c=b===null||b.length===0?v.globals.dom.Paper.gradient(E?"radial":"linear",function(p){p.at(_,s,l),p.at(k,a,h),p.at(A,a,h),F!==null&&p.at(F,s,l)}):v.globals.dom.Paper.gradient(E?"radial":"linear",function(p){(Array.isArray(b[x])?b[x]:b).forEach(function(w){p.at(w.offset/100,w.color,w.opacity)})}),E){var I=v.globals.gridWidth/2,Y=v.globals.gridHeight/2;v.config.chart.type!=="bubble"?c.attr({gradientUnits:"userSpaceOnUse",cx:I,cy:Y,r:d}):c.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else i==="vertical"?c.from(0,0).to(0,1):i==="diagonal"?c.from(0,0).to(1,1):i==="horizontal"?c.from(0,1).to(1,1):i==="diagonal2"&&c.from(1,0).to(0,1);return c}},{key:"getTextBasedOnMaxWidth",value:function(i){var s=i.text,a=i.maxWidth,l=i.fontSize,h=i.fontFamily,c=this.getTextRects(s,l,h),d=c.width/s.length,g=Math.floor(a/d);return a<c.width?s.slice(0,g-3)+"...":s}},{key:"drawText",value:function(i){var s=this,a=i.x,l=i.y,h=i.text,c=i.textAnchor,d=i.fontSize,g=i.fontFamily,b=i.fontWeight,x=i.foreColor,v=i.opacity,_=i.maxWidth,k=i.cssClass,A=k===void 0?"":k,F=i.isPlainText,E=F===void 0||F,I=this.w;h===void 0&&(h="");var Y=h;c||(c="start"),x&&x.length||(x=I.config.chart.foreColor),g=g||I.config.chart.fontFamily,b=b||"regular";var p,w={maxWidth:_,fontSize:d=d||"11px",fontFamily:g};return Array.isArray(h)?p=I.globals.dom.Paper.text(function(P){for(var B=0;B<h.length;B++)Y=h[B],_&&(Y=s.getTextBasedOnMaxWidth(r({text:h[B]},w))),B===0?P.tspan(Y):P.tspan(Y).newLine()}):(_&&(Y=this.getTextBasedOnMaxWidth(r({text:h},w))),p=E?I.globals.dom.Paper.plain(h):I.globals.dom.Paper.text(function(P){return P.tspan(Y)})),p.attr({x:a,y:l,"text-anchor":c,"dominant-baseline":"auto","font-size":d,"font-family":g,"font-weight":b,fill:x,class:"apexcharts-text "+A}),p.node.style.fontFamily=g,p.node.style.opacity=v,p}},{key:"drawMarker",value:function(i,s,a){i=i||0;var l=a.pSize||0,h=null;if(a.shape==="square"||a.shape==="rect"){var c=a.pRadius===void 0?l/2:a.pRadius;s!==null&&l||(l=0,c=0);var d=1.2*l+c,g=this.drawRect(d,d,d,d,c);g.attr({x:i-d/2,y:s-d/2,cx:i,cy:s,class:a.class?a.class:"",fill:a.pointFillColor,"fill-opacity":a.pointFillOpacity?a.pointFillOpacity:1,stroke:a.pointStrokeColor,"stroke-width":a.pointStrokeWidth?a.pointStrokeWidth:0,"stroke-opacity":a.pointStrokeOpacity?a.pointStrokeOpacity:1}),h=g}else a.shape!=="circle"&&a.shape||(R.isNumber(s)||(l=0,s=0),h=this.drawCircle(l,{cx:i,cy:s,class:a.class?a.class:"",stroke:a.pointStrokeColor,fill:a.pointFillColor,"fill-opacity":a.pointFillOpacity?a.pointFillOpacity:1,"stroke-width":a.pointStrokeWidth?a.pointStrokeWidth:0,"stroke-opacity":a.pointStrokeOpacity?a.pointStrokeOpacity:1}));return h}},{key:"pathMouseEnter",value:function(i,s){var a=this.w,l=new N(this.ctx),h=parseInt(i.node.getAttribute("index"),10),c=parseInt(i.node.getAttribute("j"),10);if(typeof a.config.chart.events.dataPointMouseEnter=="function"&&a.config.chart.events.dataPointMouseEnter(s,this.ctx,{seriesIndex:h,dataPointIndex:c,w:a}),this.ctx.events.fireEvent("dataPointMouseEnter",[s,this.ctx,{seriesIndex:h,dataPointIndex:c,w:a}]),(a.config.states.active.filter.type==="none"||i.node.getAttribute("selected")!=="true")&&a.config.states.hover.filter.type!=="none"&&!a.globals.isTouchDevice){var d=a.config.states.hover.filter;l.applyFilter(i,h,d.type,d.value)}}},{key:"pathMouseLeave",value:function(i,s){var a=this.w,l=new N(this.ctx),h=parseInt(i.node.getAttribute("index"),10),c=parseInt(i.node.getAttribute("j"),10);typeof a.config.chart.events.dataPointMouseLeave=="function"&&a.config.chart.events.dataPointMouseLeave(s,this.ctx,{seriesIndex:h,dataPointIndex:c,w:a}),this.ctx.events.fireEvent("dataPointMouseLeave",[s,this.ctx,{seriesIndex:h,dataPointIndex:c,w:a}]),a.config.states.active.filter.type!=="none"&&i.node.getAttribute("selected")==="true"||a.config.states.hover.filter.type!=="none"&&l.getDefaultFilter(i,h)}},{key:"pathMouseDown",value:function(i,s){var a=this.w,l=new N(this.ctx),h=parseInt(i.node.getAttribute("index"),10),c=parseInt(i.node.getAttribute("j"),10),d="false";if(i.node.getAttribute("selected")==="true"){if(i.node.setAttribute("selected","false"),a.globals.selectedDataPoints[h].indexOf(c)>-1){var g=a.globals.selectedDataPoints[h].indexOf(c);a.globals.selectedDataPoints[h].splice(g,1)}}else{if(!a.config.states.active.allowMultipleDataPointsSelection&&a.globals.selectedDataPoints.length>0){a.globals.selectedDataPoints=[];var b=a.globals.dom.Paper.select(".apexcharts-series path").members,x=a.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,v=function(A){Array.prototype.forEach.call(A,function(F){F.node.setAttribute("selected","false"),l.getDefaultFilter(F,h)})};v(b),v(x)}i.node.setAttribute("selected","true"),d="true",a.globals.selectedDataPoints[h]===void 0&&(a.globals.selectedDataPoints[h]=[]),a.globals.selectedDataPoints[h].push(c)}if(d==="true"){var _=a.config.states.active.filter;if(_!=="none")l.applyFilter(i,h,_.type,_.value);else if(a.config.states.hover.filter!=="none"&&!a.globals.isTouchDevice){var k=a.config.states.hover.filter;l.applyFilter(i,h,k.type,k.value)}}else a.config.states.active.filter.type!=="none"&&(a.config.states.hover.filter.type==="none"||a.globals.isTouchDevice?l.getDefaultFilter(i,h):(k=a.config.states.hover.filter,l.applyFilter(i,h,k.type,k.value)));typeof a.config.chart.events.dataPointSelection=="function"&&a.config.chart.events.dataPointSelection(s,this.ctx,{selectedDataPoints:a.globals.selectedDataPoints,seriesIndex:h,dataPointIndex:c,w:a}),s&&this.ctx.events.fireEvent("dataPointSelection",[s,this.ctx,{selectedDataPoints:a.globals.selectedDataPoints,seriesIndex:h,dataPointIndex:c,w:a}])}},{key:"rotateAroundCenter",value:function(i){var s={};return i&&typeof i.getBBox=="function"&&(s=i.getBBox()),{x:s.x+s.width/2,y:s.y+s.height/2}}},{key:"getTextRects",value:function(i,s,a,l){var h=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],c=this.w,d=this.drawText({x:-200,y:-200,text:i,textAnchor:"start",fontSize:s,fontFamily:a,foreColor:"#fff",opacity:0});l&&d.attr("transform",l),c.globals.dom.Paper.add(d);var g=d.bbox();return h||(g=d.node.getBoundingClientRect()),d.remove(),{width:g.width,height:g.height}}},{key:"placeTextWithEllipsis",value:function(i,s,a){if(typeof i.getComputedTextLength=="function"&&(i.textContent=s,s.length>0&&i.getComputedTextLength()>=a/1.1)){for(var l=s.length-3;l>0;l-=3)if(i.getSubStringLength(0,l)<=a/1.1)return void(i.textContent=s.substring(0,l)+"...");i.textContent="."}}}],[{key:"setAttrs",value:function(i,s){for(var a in s)s.hasOwnProperty(a)&&i.setAttribute(a,s[a])}}]),L}(),se=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w}return m(L,[{key:"getStackedSeriesTotals",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=this.w,a=[];if(s.globals.series.length===0)return a;for(var l=0;l<s.globals.series[s.globals.maxValsInArrayIndex].length;l++){for(var h=0,c=0;c<s.globals.series.length;c++)s.globals.series[c][l]!==void 0&&i.indexOf(c)===-1&&(h+=s.globals.series[c][l]);a.push(h)}return a}},{key:"getSeriesTotalByIndex",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return i===null?this.w.config.series.reduce(function(s,a){return s+a},0):this.w.globals.series[i].reduce(function(s,a){return s+a},0)}},{key:"isSeriesNull",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(i===null?this.w.config.series.filter(function(s){return s!==null}):this.w.config.series[i].data.filter(function(s){return s!==null})).length===0}},{key:"seriesHaveSameValues",value:function(i){return this.w.globals.series[i].every(function(s,a,l){return s===l[0]})}},{key:"getCategoryLabels",value:function(i){var s=this.w,a=i.slice();return s.config.xaxis.convertedCatToNumeric&&(a=i.map(function(l,h){return s.config.xaxis.labels.formatter(l-s.globals.minX+1)})),a}},{key:"getLargestSeries",value:function(){var i=this.w;i.globals.maxValsInArrayIndex=i.globals.series.map(function(s){return s.length}).indexOf(Math.max.apply(Math,i.globals.series.map(function(s){return s.length})))}},{key:"getLargestMarkerSize",value:function(){var i=this.w,s=0;return i.globals.markers.size.forEach(function(a){s=Math.max(s,a)}),i.config.markers.discrete&&i.config.markers.discrete.length&&i.config.markers.discrete.forEach(function(a){s=Math.max(s,a.size)}),s>0&&(s+=i.config.markers.hover.sizeOffset+1),i.globals.markers.largestSize=s,s}},{key:"getSeriesTotals",value:function(){var i=this.w;i.globals.seriesTotals=i.globals.series.map(function(s,a){var l=0;if(Array.isArray(s))for(var h=0;h<s.length;h++)l+=s[h];else l+=s;return l})}},{key:"getSeriesTotalsXRange",value:function(i,s){var a=this.w;return a.globals.series.map(function(l,h){for(var c=0,d=0;d<l.length;d++)a.globals.seriesX[h][d]>i&&a.globals.seriesX[h][d]<s&&(c+=l[d]);return c})}},{key:"getPercentSeries",value:function(){var i=this.w;i.globals.seriesPercent=i.globals.series.map(function(s,a){var l=[];if(Array.isArray(s))for(var h=0;h<s.length;h++){var c=i.globals.stackedSeriesTotals[h],d=0;c&&(d=100*s[h]/c),l.push(d)}else{var g=100*s/i.globals.seriesTotals.reduce(function(b,x){return b+x},0);l.push(g)}return l})}},{key:"getCalculatedRatios",value:function(){var i,s,a,l,h=this.w.globals,c=[],d=0,g=[],b=.1,x=0;if(h.yRange=[],h.isMultipleYAxis)for(var v=0;v<h.minYArr.length;v++)h.yRange.push(Math.abs(h.minYArr[v]-h.maxYArr[v])),g.push(0);else h.yRange.push(Math.abs(h.minY-h.maxY));h.xRange=Math.abs(h.maxX-h.minX),h.zRange=Math.abs(h.maxZ-h.minZ);for(var _=0;_<h.yRange.length;_++)c.push(h.yRange[_]/h.gridHeight);if(s=h.xRange/h.gridWidth,a=Math.abs(h.initialMaxX-h.initialMinX)/h.gridWidth,i=h.yRange/h.gridWidth,l=h.xRange/h.gridHeight,(d=h.zRange/h.gridHeight*16)||(d=1),h.minY!==Number.MIN_VALUE&&Math.abs(h.minY)!==0&&(h.hasNegs=!0),h.isMultipleYAxis){g=[];for(var k=0;k<c.length;k++)g.push(-h.minYArr[k]/c[k])}else g.push(-h.minY/c[0]),h.minY!==Number.MIN_VALUE&&Math.abs(h.minY)!==0&&(b=-h.minY/i,x=h.minX/s);return{yRatio:c,invertedYRatio:i,zRatio:d,xRatio:s,initialXRatio:a,invertedXRatio:l,baseLineInvertedY:b,baseLineY:g,baseLineX:x}}},{key:"getLogSeries",value:function(i){var s=this,a=this.w;return a.globals.seriesLog=i.map(function(l,h){return a.config.yaxis[h]&&a.config.yaxis[h].logarithmic?l.map(function(c){return c===null?null:s.getLogVal(a.config.yaxis[h].logBase,c,h)}):l}),a.globals.invalidLogScale?i:a.globals.seriesLog}},{key:"getBaseLog",value:function(i,s){return Math.log(s)/Math.log(i)}},{key:"getLogVal",value:function(i,s,a){if(s===0)return 0;var l=this.w,h=l.globals.minYArr[a]===0?-1:this.getBaseLog(i,l.globals.minYArr[a]),c=(l.globals.maxYArr[a]===0?0:this.getBaseLog(i,l.globals.maxYArr[a]))-h;return s<1?s/c:(this.getBaseLog(i,s)-h)/c}},{key:"getLogYRatios",value:function(i){var s=this,a=this.w,l=this.w.globals;return l.yLogRatio=i.slice(),l.logYRange=l.yRange.map(function(h,c){if(a.config.yaxis[c]&&s.w.config.yaxis[c].logarithmic){var d,g=-Number.MAX_VALUE,b=Number.MIN_VALUE;return l.seriesLog.forEach(function(x,v){x.forEach(function(_){a.config.yaxis[v]&&a.config.yaxis[v].logarithmic&&(g=Math.max(_,g),b=Math.min(_,b))})}),d=Math.pow(l.yRange[c],Math.abs(b-g)/l.yRange[c]),l.yLogRatio[c]=d/l.gridHeight,d}}),l.invalidLogScale?i.slice():l.yLogRatio}}],[{key:"checkComboSeries",value:function(i){var s=!1,a=0,l=0;return i.length&&i[0].type!==void 0&&i.forEach(function(h){h.type!=="bar"&&h.type!=="column"&&h.type!=="candlestick"&&h.type!=="boxPlot"||a++,h.type!==void 0&&l++}),l>0&&(s=!0),{comboBarCount:a,comboCharts:s}}},{key:"extendArrayProps",value:function(i,s,a){return s.yaxis&&(s=i.extendYAxis(s,a)),s.annotations&&(s.annotations.yaxis&&(s=i.extendYAxisAnnotations(s)),s.annotations.xaxis&&(s=i.extendXAxisAnnotations(s)),s.annotations.points&&(s=i.extendPointAnnotations(s))),s}}]),L}(),re=function(){function L(i){u(this,L),this.w=i.w,this.annoCtx=i}return m(L,[{key:"setOrientations",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=this.w;if(i.label.orientation==="vertical"){var l=s!==null?s:0,h=a.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(l,"']"));if(h!==null){var c=h.getBoundingClientRect();h.setAttribute("x",parseFloat(h.getAttribute("x"))-c.height+4),i.label.position==="top"?h.setAttribute("y",parseFloat(h.getAttribute("y"))+c.width):h.setAttribute("y",parseFloat(h.getAttribute("y"))-c.width);var d=this.annoCtx.graphics.rotateAroundCenter(h),g=d.x,b=d.y;h.setAttribute("transform","rotate(-90 ".concat(g," ").concat(b,")"))}}}},{key:"addBackgroundToAnno",value:function(i,s){var a=this.w;if(!i||s.label.text===void 0||s.label.text!==void 0&&!String(s.label.text).trim())return null;var l=a.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),h=i.getBoundingClientRect(),c=s.label.style.padding.left,d=s.label.style.padding.right,g=s.label.style.padding.top,b=s.label.style.padding.bottom;s.label.orientation==="vertical"&&(g=s.label.style.padding.left,b=s.label.style.padding.right,c=s.label.style.padding.top,d=s.label.style.padding.bottom);var x=h.left-l.left-c,v=h.top-l.top-g,_=this.annoCtx.graphics.drawRect(x-a.globals.barPadForNumericAxis,v,h.width+c+d,h.height+g+b,s.label.borderRadius,s.label.style.background,1,s.label.borderWidth,s.label.borderColor,0);return s.id&&_.node.classList.add(s.id),_}},{key:"annotationsBackground",value:function(){var i=this,s=this.w,a=function(l,h,c){var d=s.globals.dom.baseEl.querySelector(".apexcharts-".concat(c,"-annotations .apexcharts-").concat(c,"-annotation-label[rel='").concat(h,"']"));if(d){var g=d.parentNode,b=i.addBackgroundToAnno(d,l);b&&(g.insertBefore(b.node,d),l.label.mouseEnter&&b.node.addEventListener("mouseenter",l.label.mouseEnter.bind(i,l)),l.label.mouseLeave&&b.node.addEventListener("mouseleave",l.label.mouseLeave.bind(i,l)),l.label.click&&b.node.addEventListener("click",l.label.click.bind(i,l)))}};s.config.annotations.xaxis.map(function(l,h){a(l,h,"xaxis")}),s.config.annotations.yaxis.map(function(l,h){a(l,h,"yaxis")}),s.config.annotations.points.map(function(l,h){a(l,h,"point")})}},{key:"getY1Y2",value:function(i,s){var a,l=i==="y1"?s.y:s.y2,h=this.w;if(this.annoCtx.invertAxis){var c=h.globals.labels.indexOf(l);h.config.xaxis.convertedCatToNumeric&&(c=h.globals.categoryLabels.indexOf(l));var d=h.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(c+1)+")");d&&(a=parseFloat(d.getAttribute("y")))}else{var g;h.config.yaxis[s.yAxisIndex].logarithmic?g=(l=new se(this.annoCtx.ctx).getLogVal(l,s.yAxisIndex))/h.globals.yLogRatio[s.yAxisIndex]:g=(l-h.globals.minYArr[s.yAxisIndex])/(h.globals.yRange[s.yAxisIndex]/h.globals.gridHeight),a=h.globals.gridHeight-g,!s.marker||s.y!==void 0&&s.y!==null||(a=0),h.config.yaxis[s.yAxisIndex]&&h.config.yaxis[s.yAxisIndex].reversed&&(a=g)}return typeof l=="string"&&l.indexOf("px")>-1&&(a=parseFloat(l)),a}},{key:"getX1X2",value:function(i,s){var a=this.w,l=this.annoCtx.invertAxis?a.globals.minY:a.globals.minX,h=this.annoCtx.invertAxis?a.globals.maxY:a.globals.maxX,c=this.annoCtx.invertAxis?a.globals.yRange[0]:a.globals.xRange,d=(s.x-l)/(c/a.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(d=(h-s.x)/(c/a.globals.gridWidth)),a.config.xaxis.type!=="category"&&!a.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||a.globals.dataFormatXNumeric||(d=this.getStringX(s.x));var g=(s.x2-l)/(c/a.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(g=(h-s.x2)/(c/a.globals.gridWidth)),a.config.xaxis.type!=="category"&&!a.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||a.globals.dataFormatXNumeric||(g=this.getStringX(s.x2)),s.x!==void 0&&s.x!==null||!s.marker||(d=a.globals.gridWidth),i==="x1"&&typeof s.x=="string"&&s.x.indexOf("px")>-1&&(d=parseFloat(s.x)),i==="x2"&&typeof s.x2=="string"&&s.x2.indexOf("px")>-1&&(g=parseFloat(s.x2)),i==="x1"?d:g}},{key:"getStringX",value:function(i){var s=this.w,a=i;s.config.xaxis.convertedCatToNumeric&&s.globals.categoryLabels.length&&(i=s.globals.categoryLabels.indexOf(i)+1);var l=s.globals.labels.indexOf(i),h=s.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(l+1)+")");return h&&(a=parseFloat(h.getAttribute("x"))),a}}]),L}(),ee=function(){function L(i){u(this,L),this.w=i.w,this.annoCtx=i,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new re(this.annoCtx)}return m(L,[{key:"addXaxisAnnotation",value:function(i,s,a){var l,h=this.w,c=this.helpers.getX1X2("x1",i),d=i.label.text,g=i.strokeDashArray;if(R.isNumber(c)){if(i.x2===null||i.x2===void 0){var b=this.annoCtx.graphics.drawLine(c+i.offsetX,0+i.offsetY,c+i.offsetX,h.globals.gridHeight+i.offsetY,i.borderColor,g,i.borderWidth);s.appendChild(b.node),i.id&&b.node.classList.add(i.id)}else{if((l=this.helpers.getX1X2("x2",i))<c){var x=c;c=l,l=x}var v=this.annoCtx.graphics.drawRect(c+i.offsetX,0+i.offsetY,l-c,h.globals.gridHeight+i.offsetY,0,i.fillColor,i.opacity,1,i.borderColor,g);v.node.classList.add("apexcharts-annotation-rect"),v.attr("clip-path","url(#gridRectMask".concat(h.globals.cuid,")")),s.appendChild(v.node),i.id&&v.node.classList.add(i.id)}var _=this.annoCtx.graphics.getTextRects(d,parseFloat(i.label.style.fontSize)),k=i.label.position==="top"?4:i.label.position==="center"?h.globals.gridHeight/2+(i.label.orientation==="vertical"?_.width/2:0):h.globals.gridHeight,A=this.annoCtx.graphics.drawText({x:c+i.label.offsetX,y:k+i.label.offsetY-(i.label.orientation==="vertical"?i.label.position==="top"?_.width/2-12:-_.width/2:0),text:d,textAnchor:i.label.textAnchor,fontSize:i.label.style.fontSize,fontFamily:i.label.style.fontFamily,fontWeight:i.label.style.fontWeight,foreColor:i.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(i.label.style.cssClass," ").concat(i.id?i.id:"")});A.attr({rel:a}),s.appendChild(A.node),this.annoCtx.helpers.setOrientations(i,a)}}},{key:"drawXAxisAnnotations",value:function(){var i=this,s=this.w,a=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return s.config.annotations.xaxis.map(function(l,h){i.addXaxisAnnotation(l,a.node,h)}),a}}]),L}(),oe=function(){function L(i){u(this,L),this.w=i.w,this.annoCtx=i,this.helpers=new re(this.annoCtx)}return m(L,[{key:"addYaxisAnnotation",value:function(i,s,a){var l,h=this.w,c=i.strokeDashArray,d=this.helpers.getY1Y2("y1",i),g=i.label.text;if(i.y2===null||i.y2===void 0){var b=this.annoCtx.graphics.drawLine(0+i.offsetX,d+i.offsetY,this._getYAxisAnnotationWidth(i),d+i.offsetY,i.borderColor,c,i.borderWidth);s.appendChild(b.node),i.id&&b.node.classList.add(i.id)}else{if((l=this.helpers.getY1Y2("y2",i))>d){var x=d;d=l,l=x}var v=this.annoCtx.graphics.drawRect(0+i.offsetX,l+i.offsetY,this._getYAxisAnnotationWidth(i),d-l,0,i.fillColor,i.opacity,1,i.borderColor,c);v.node.classList.add("apexcharts-annotation-rect"),v.attr("clip-path","url(#gridRectMask".concat(h.globals.cuid,")")),s.appendChild(v.node),i.id&&v.node.classList.add(i.id)}var _=i.label.position==="right"?h.globals.gridWidth:i.label.position==="center"?h.globals.gridWidth/2:0,k=this.annoCtx.graphics.drawText({x:_+i.label.offsetX,y:(l??d)+i.label.offsetY-3,text:g,textAnchor:i.label.textAnchor,fontSize:i.label.style.fontSize,fontFamily:i.label.style.fontFamily,fontWeight:i.label.style.fontWeight,foreColor:i.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(i.label.style.cssClass," ").concat(i.id?i.id:"")});k.attr({rel:a}),s.appendChild(k.node)}},{key:"_getYAxisAnnotationWidth",value:function(i){var s=this.w;return s.globals.gridWidth,(i.width.indexOf("%")>-1?s.globals.gridWidth*parseInt(i.width,10)/100:parseInt(i.width,10))+i.offsetX}},{key:"drawYAxisAnnotations",value:function(){var i=this,s=this.w,a=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return s.config.annotations.yaxis.map(function(l,h){i.addYaxisAnnotation(l,a.node,h)}),a}}]),L}(),xe=function(){function L(i){u(this,L),this.w=i.w,this.annoCtx=i,this.helpers=new re(this.annoCtx)}return m(L,[{key:"addPointAnnotation",value:function(i,s,a){this.w;var l=this.helpers.getX1X2("x1",i),h=this.helpers.getY1Y2("y1",i);if(R.isNumber(l)){var c={pSize:i.marker.size,pointStrokeWidth:i.marker.strokeWidth,pointFillColor:i.marker.fillColor,pointStrokeColor:i.marker.strokeColor,shape:i.marker.shape,pRadius:i.marker.radius,class:"apexcharts-point-annotation-marker ".concat(i.marker.cssClass," ").concat(i.id?i.id:"")},d=this.annoCtx.graphics.drawMarker(l+i.marker.offsetX,h+i.marker.offsetY,c);s.appendChild(d.node);var g=i.label.text?i.label.text:"",b=this.annoCtx.graphics.drawText({x:l+i.label.offsetX,y:h+i.label.offsetY-i.marker.size-parseFloat(i.label.style.fontSize)/1.6,text:g,textAnchor:i.label.textAnchor,fontSize:i.label.style.fontSize,fontFamily:i.label.style.fontFamily,fontWeight:i.label.style.fontWeight,foreColor:i.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(i.label.style.cssClass," ").concat(i.id?i.id:"")});if(b.attr({rel:a}),s.appendChild(b.node),i.customSVG.SVG){var x=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+i.customSVG.cssClass});x.attr({transform:"translate(".concat(l+i.customSVG.offsetX,", ").concat(h+i.customSVG.offsetY,")")}),x.node.innerHTML=i.customSVG.SVG,s.appendChild(x.node)}if(i.image.path){var v=i.image.width?i.image.width:20,_=i.image.height?i.image.height:20;d=this.annoCtx.addImage({x:l+i.image.offsetX-v/2,y:h+i.image.offsetY-_/2,width:v,height:_,path:i.image.path,appendTo:".apexcharts-point-annotations"})}i.mouseEnter&&d.node.addEventListener("mouseenter",i.mouseEnter.bind(this,i)),i.mouseLeave&&d.node.addEventListener("mouseleave",i.mouseLeave.bind(this,i)),i.click&&d.node.addEventListener("click",i.click.bind(this,i))}}},{key:"drawPointAnnotations",value:function(){var i=this,s=this.w,a=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return s.config.annotations.points.map(function(l,h){i.addPointAnnotation(l,a.node,h)}),a}}]),L}(),me={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Pe=function(){function L(){u(this,L),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return m(L,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[me],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(i){return new Date(i).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(i){return i}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(i){return i+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(i){return i.globals.seriesTotals.reduce(function(s,a){return s+a},0)/i.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(i){return i}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(i){return i}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(i){return i.globals.seriesTotals.reduce(function(s,a){return s+a},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(i){return i!==null?i:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(i){return i?i+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),L}(),ye=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w,this.graphics=new V(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new re(this),this.xAxisAnnotations=new ee(this),this.yAxisAnnotations=new oe(this),this.pointsAnnotations=new xe(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return m(L,[{key:"drawAxesAnnotations",value:function(){var i=this.w;if(i.globals.axisCharts){for(var s=this.yAxisAnnotations.drawYAxisAnnotations(),a=this.xAxisAnnotations.drawXAxisAnnotations(),l=this.pointsAnnotations.drawPointAnnotations(),h=i.config.chart.animations.enabled,c=[s,a,l],d=[a.node,s.node,l.node],g=0;g<3;g++)i.globals.dom.elGraphical.add(c[g]),!h||i.globals.resized||i.globals.dataChanged||i.config.chart.type!=="scatter"&&i.config.chart.type!=="bubble"&&i.globals.dataPoints>1&&d[g].classList.add("apexcharts-element-hidden"),i.globals.delayedElements.push({el:d[g],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var i=this;this.w.config.annotations.images.map(function(s,a){i.addImage(s,a)})}},{key:"drawTextAnnos",value:function(){var i=this;this.w.config.annotations.texts.map(function(s,a){i.addText(s,a)})}},{key:"addXaxisAnnotation",value:function(i,s,a){this.xAxisAnnotations.addXaxisAnnotation(i,s,a)}},{key:"addYaxisAnnotation",value:function(i,s,a){this.yAxisAnnotations.addYaxisAnnotation(i,s,a)}},{key:"addPointAnnotation",value:function(i,s,a){this.pointsAnnotations.addPointAnnotation(i,s,a)}},{key:"addText",value:function(i,s){var a=i.x,l=i.y,h=i.text,c=i.textAnchor,d=i.foreColor,g=i.fontSize,b=i.fontFamily,x=i.fontWeight,v=i.cssClass,_=i.backgroundColor,k=i.borderWidth,A=i.strokeDashArray,F=i.borderRadius,E=i.borderColor,I=i.appendTo,Y=I===void 0?".apexcharts-annotations":I,p=i.paddingLeft,w=p===void 0?4:p,P=i.paddingRight,B=P===void 0?4:P,j=i.paddingBottom,H=j===void 0?2:j,q=i.paddingTop,Z=q===void 0?2:q,te=this.w,ne=this.graphics.drawText({x:a,y:l,text:h,textAnchor:c||"start",fontSize:g||"12px",fontWeight:x||"regular",fontFamily:b||te.config.chart.fontFamily,foreColor:d||te.config.chart.foreColor,cssClass:v}),ie=te.globals.dom.baseEl.querySelector(Y);ie&&ie.appendChild(ne.node);var de=ne.bbox();if(h){var ge=this.graphics.drawRect(de.x-w,de.y-Z,de.width+w+B,de.height+H+Z,F,_||"transparent",1,k,E,A);ie.insertBefore(ge.node,ne.node)}}},{key:"addImage",value:function(i,s){var a=this.w,l=i.path,h=i.x,c=h===void 0?0:h,d=i.y,g=d===void 0?0:d,b=i.width,x=b===void 0?20:b,v=i.height,_=v===void 0?20:v,k=i.appendTo,A=k===void 0?".apexcharts-annotations":k,F=a.globals.dom.Paper.image(l);F.size(x,_).move(c,g);var E=a.globals.dom.baseEl.querySelector(A);return E&&E.appendChild(F.node),F}},{key:"addXaxisAnnotationExternal",value:function(i,s,a){return this.addAnnotationExternal({params:i,pushToMemory:s,context:a,type:"xaxis",contextMethod:a.addXaxisAnnotation}),a}},{key:"addYaxisAnnotationExternal",value:function(i,s,a){return this.addAnnotationExternal({params:i,pushToMemory:s,context:a,type:"yaxis",contextMethod:a.addYaxisAnnotation}),a}},{key:"addPointAnnotationExternal",value:function(i,s,a){return this.invertAxis===void 0&&(this.invertAxis=a.w.globals.isBarHorizontal),this.addAnnotationExternal({params:i,pushToMemory:s,context:a,type:"point",contextMethod:a.addPointAnnotation}),a}},{key:"addAnnotationExternal",value:function(i){var s=i.params,a=i.pushToMemory,l=i.context,h=i.type,c=i.contextMethod,d=l,g=d.w,b=g.globals.dom.baseEl.querySelector(".apexcharts-".concat(h,"-annotations")),x=b.childNodes.length+1,v=new Pe,_=Object.assign({},h==="xaxis"?v.xAxisAnnotation:h==="yaxis"?v.yAxisAnnotation:v.pointAnnotation),k=R.extend(_,s);switch(h){case"xaxis":this.addXaxisAnnotation(k,b,x);break;case"yaxis":this.addYaxisAnnotation(k,b,x);break;case"point":this.addPointAnnotation(k,b,x)}var A=g.globals.dom.baseEl.querySelector(".apexcharts-".concat(h,"-annotations .apexcharts-").concat(h,"-annotation-label[rel='").concat(x,"']")),F=this.helpers.addBackgroundToAnno(A,k);return F&&b.insertBefore(F.node,A),a&&g.globals.memory.methodsToExec.push({context:d,id:k.id?k.id:R.randomId(),method:c,label:"addAnnotation",params:s}),l}},{key:"clearAnnotations",value:function(i){var s=i.w,a=s.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");s.globals.memory.methodsToExec.map(function(l,h){l.label!=="addText"&&l.label!=="addAnnotation"||s.globals.memory.methodsToExec.splice(h,1)}),a=R.listToArray(a),Array.prototype.forEach.call(a,function(l){for(;l.firstChild;)l.removeChild(l.firstChild)})}},{key:"removeAnnotation",value:function(i,s){var a=i.w,l=a.globals.dom.baseEl.querySelectorAll(".".concat(s));l&&(a.globals.memory.methodsToExec.map(function(h,c){h.id===s&&a.globals.memory.methodsToExec.splice(c,1)}),Array.prototype.forEach.call(l,function(h){h.parentElement.removeChild(h)}))}}]),L}(),Ce=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return m(L,[{key:"isValidDate",value:function(i){return!isNaN(this.parseDate(i))}},{key:"getTimeStamp",value:function(i){return Date.parse(i)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(i).toISOString().substr(0,25)).getTime():new Date(i).getTime():i}},{key:"getDate",value:function(i){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(i).toUTCString()):new Date(i)}},{key:"parseDate",value:function(i){var s=Date.parse(i);if(!isNaN(s))return this.getTimeStamp(i);var a=Date.parse(i.replace(/-/g,"/").replace(/[a-z]+/gi," "));return a=this.getTimeStamp(a)}},{key:"parseDateWithTimezone",value:function(i){return Date.parse(i.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(i,s){var a=this.w.globals.locale,l=this.w.config.xaxis.labels.datetimeUTC,h=["\0"].concat(O(a.months)),c=[""].concat(O(a.shortMonths)),d=[""].concat(O(a.days)),g=[""].concat(O(a.shortDays));function b(H,q){var Z=H+"";for(q=q||2;Z.length<q;)Z="0"+Z;return Z}var x=l?i.getUTCFullYear():i.getFullYear();s=(s=(s=s.replace(/(^|[^\\])yyyy+/g,"$1"+x)).replace(/(^|[^\\])yy/g,"$1"+x.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+x);var v=(l?i.getUTCMonth():i.getMonth())+1;s=(s=(s=(s=s.replace(/(^|[^\\])MMMM+/g,"$1"+h[0])).replace(/(^|[^\\])MMM/g,"$1"+c[0])).replace(/(^|[^\\])MM/g,"$1"+b(v))).replace(/(^|[^\\])M/g,"$1"+v);var _=l?i.getUTCDate():i.getDate();s=(s=(s=(s=s.replace(/(^|[^\\])dddd+/g,"$1"+d[0])).replace(/(^|[^\\])ddd/g,"$1"+g[0])).replace(/(^|[^\\])dd/g,"$1"+b(_))).replace(/(^|[^\\])d/g,"$1"+_);var k=l?i.getUTCHours():i.getHours(),A=k>12?k-12:k===0?12:k;s=(s=(s=(s=s.replace(/(^|[^\\])HH+/g,"$1"+b(k))).replace(/(^|[^\\])H/g,"$1"+k)).replace(/(^|[^\\])hh+/g,"$1"+b(A))).replace(/(^|[^\\])h/g,"$1"+A);var F=l?i.getUTCMinutes():i.getMinutes();s=(s=s.replace(/(^|[^\\])mm+/g,"$1"+b(F))).replace(/(^|[^\\])m/g,"$1"+F);var E=l?i.getUTCSeconds():i.getSeconds();s=(s=s.replace(/(^|[^\\])ss+/g,"$1"+b(E))).replace(/(^|[^\\])s/g,"$1"+E);var I=l?i.getUTCMilliseconds():i.getMilliseconds();s=s.replace(/(^|[^\\])fff+/g,"$1"+b(I,3)),I=Math.round(I/10),s=s.replace(/(^|[^\\])ff/g,"$1"+b(I)),I=Math.round(I/10);var Y=k<12?"AM":"PM";s=(s=(s=s.replace(/(^|[^\\])f/g,"$1"+I)).replace(/(^|[^\\])TT+/g,"$1"+Y)).replace(/(^|[^\\])T/g,"$1"+Y.charAt(0));var p=Y.toLowerCase();s=(s=s.replace(/(^|[^\\])tt+/g,"$1"+p)).replace(/(^|[^\\])t/g,"$1"+p.charAt(0));var w=-i.getTimezoneOffset(),P=l||!w?"Z":w>0?"+":"-";if(!l){var B=(w=Math.abs(w))%60;P+=b(Math.floor(w/60))+":"+b(B)}s=s.replace(/(^|[^\\])K/g,"$1"+P);var j=(l?i.getUTCDay():i.getDay())+1;return s=(s=(s=(s=(s=s.replace(new RegExp(d[0],"g"),d[j])).replace(new RegExp(g[0],"g"),g[j])).replace(new RegExp(h[0],"g"),h[v])).replace(new RegExp(c[0],"g"),c[v])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(i,s,a){var l=this.w;l.config.xaxis.min!==void 0&&(i=l.config.xaxis.min),l.config.xaxis.max!==void 0&&(s=l.config.xaxis.max);var h=this.getDate(i),c=this.getDate(s),d=this.formatDate(h,"yyyy MM dd HH mm ss fff").split(" "),g=this.formatDate(c,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(d[6],10),maxMillisecond:parseInt(g[6],10),minSecond:parseInt(d[5],10),maxSecond:parseInt(g[5],10),minMinute:parseInt(d[4],10),maxMinute:parseInt(g[4],10),minHour:parseInt(d[3],10),maxHour:parseInt(g[3],10),minDate:parseInt(d[2],10),maxDate:parseInt(g[2],10),minMonth:parseInt(d[1],10)-1,maxMonth:parseInt(g[1],10)-1,minYear:parseInt(d[0],10),maxYear:parseInt(g[0],10)}}},{key:"isLeapYear",value:function(i){return i%4==0&&i%100!=0||i%400==0}},{key:"calculcateLastDaysOfMonth",value:function(i,s,a){return this.determineDaysOfMonths(i,s)-a}},{key:"determineDaysOfYear",value:function(i){var s=365;return this.isLeapYear(i)&&(s=366),s}},{key:"determineRemainingDaysOfYear",value:function(i,s,a){var l=this.daysCntOfYear[s]+a;return s>1&&this.isLeapYear()&&l++,l}},{key:"determineDaysOfMonths",value:function(i,s){var a=30;switch(i=R.monthMod(i),!0){case this.months30.indexOf(i)>-1:i===2&&(a=this.isLeapYear(s)?29:28);break;case this.months31.indexOf(i)>-1:default:a=31}return a}}]),L}(),Ae=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w,this.tooltipKeyFormat="dd MMM"}return m(L,[{key:"xLabelFormat",value:function(i,s,a,l){var h=this.w;if(h.config.xaxis.type==="datetime"&&h.config.xaxis.labels.formatter===void 0&&h.config.tooltip.x.formatter===void 0){var c=new Ce(this.ctx);return c.formatDate(c.getDate(s),h.config.tooltip.x.format)}return i(s,a,l)}},{key:"defaultGeneralFormatter",value:function(i){return Array.isArray(i)?i.map(function(s){return s}):i}},{key:"defaultYFormatter",value:function(i,s,a){var l=this.w;return R.isNumber(i)&&(i=l.globals.yValueDecimal!==0?i.toFixed(s.decimalsInFloat!==void 0?s.decimalsInFloat:l.globals.yValueDecimal):l.globals.maxYArr[a]-l.globals.minYArr[a]<5?i.toFixed(1):i.toFixed(0)),i}},{key:"setLabelFormatters",value:function(){var i=this,s=this.w;return s.globals.xaxisTooltipFormatter=function(a){return i.defaultGeneralFormatter(a)},s.globals.ttKeyFormatter=function(a){return i.defaultGeneralFormatter(a)},s.globals.ttZFormatter=function(a){return a},s.globals.legendFormatter=function(a){return i.defaultGeneralFormatter(a)},s.config.xaxis.labels.formatter!==void 0?s.globals.xLabelFormatter=s.config.xaxis.labels.formatter:s.globals.xLabelFormatter=function(a){if(R.isNumber(a)){if(!s.config.xaxis.convertedCatToNumeric&&s.config.xaxis.type==="numeric"){if(R.isNumber(s.config.xaxis.decimalsInFloat))return a.toFixed(s.config.xaxis.decimalsInFloat);var l=s.globals.maxX-s.globals.minX;return l>0&&l<100?a.toFixed(1):a.toFixed(0)}return s.globals.isBarHorizontal&&s.globals.maxY-s.globals.minYArr<4?a.toFixed(1):a.toFixed(0)}return a},typeof s.config.tooltip.x.formatter=="function"?s.globals.ttKeyFormatter=s.config.tooltip.x.formatter:s.globals.ttKeyFormatter=s.globals.xLabelFormatter,typeof s.config.xaxis.tooltip.formatter=="function"&&(s.globals.xaxisTooltipFormatter=s.config.xaxis.tooltip.formatter),(Array.isArray(s.config.tooltip.y)||s.config.tooltip.y.formatter!==void 0)&&(s.globals.ttVal=s.config.tooltip.y),s.config.tooltip.z.formatter!==void 0&&(s.globals.ttZFormatter=s.config.tooltip.z.formatter),s.config.legend.formatter!==void 0&&(s.globals.legendFormatter=s.config.legend.formatter),s.config.yaxis.forEach(function(a,l){a.labels.formatter!==void 0?s.globals.yLabelFormatters[l]=a.labels.formatter:s.globals.yLabelFormatters[l]=function(h){return s.globals.xyCharts?Array.isArray(h)?h.map(function(c){return i.defaultYFormatter(c,a,l)}):i.defaultYFormatter(h,a,l):h}}),s.globals}},{key:"heatmapLabelFormatters",value:function(){var i=this.w;if(i.config.chart.type==="heatmap"){i.globals.yAxisScale[0].result=i.globals.seriesNames.slice();var s=i.globals.seriesNames.reduce(function(a,l){return a.length>l.length?a:l},0);i.globals.yAxisScale[0].niceMax=s,i.globals.yAxisScale[0].niceMin=s}}}]),L}(),qe=function(L){var i,s=L.isTimeline,a=L.ctx,l=L.seriesIndex,h=L.dataPointIndex,c=L.y1,d=L.y2,g=L.w,b=g.globals.seriesRangeStart[l][h],x=g.globals.seriesRangeEnd[l][h],v=g.globals.labels[h],_=g.config.series[l].name?g.config.series[l].name:"",k=g.globals.ttKeyFormatter,A=g.config.tooltip.y.title.formatter,F={w:g,seriesIndex:l,dataPointIndex:h,start:b,end:x};typeof A=="function"&&(_=A(_,F)),(i=g.config.series[l].data[h])!==null&&i!==void 0&&i.x&&(v=g.config.series[l].data[h].x),s||g.config.xaxis.type==="datetime"&&(v=new Ae(a).xLabelFormat(g.globals.ttKeyFormatter,v,v,{i:void 0,dateFormatter:new Ce(a).formatDate,w:g})),typeof k=="function"&&(v=k(v,F)),Number.isFinite(c)&&Number.isFinite(d)&&(b=c,x=d);var E="",I="",Y=g.globals.colors[l];if(g.config.tooltip.x.formatter===void 0)if(g.config.xaxis.type==="datetime"){var p=new Ce(a);E=p.formatDate(p.getDate(b),g.config.tooltip.x.format),I=p.formatDate(p.getDate(x),g.config.tooltip.x.format)}else E=b,I=x;else E=g.config.tooltip.x.formatter(b),I=g.config.tooltip.x.formatter(x);return{start:b,end:x,startVal:E,endVal:I,ylabel:v,color:Y,seriesName:_}},Me=function(L){var i=L.color,s=L.seriesName,a=L.ylabel,l=L.start,h=L.end,c=L.seriesIndex,d=L.dataPointIndex,g=L.ctx.tooltip.tooltipLabels.getFormatters(c);l=g.yLbFormatter(l),h=g.yLbFormatter(h);var b=g.yLbFormatter(L.w.globals.series[c][d]),x=`<span class="value start-value">
  `.concat(l,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(h,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+i+'">'+(s||"")+'</span></div><div> <span class="category">'+a+": </span> "+(L.w.globals.comboCharts?L.w.config.series[c].type==="rangeArea"||L.w.config.series[c].type==="rangeBar"?x:"<span>".concat(b,"</span>"):x)+" </div></div>"},$e=function(){function L(i){u(this,L),this.opts=i}return m(L,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(i){return this.hideYAxis(),R.extend(i,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),r(r({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var i=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(s){var a=s.seriesIndex,l=s.dataPointIndex,h=s.w;return i._getBoxTooltip(h,a,l,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var i=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(s){var a=s.seriesIndex,l=s.dataPointIndex,h=s.w;return i._getBoxTooltip(h,a,l,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(i,s){s.ctx;var a=s.seriesIndex,l=s.dataPointIndex,h=s.w,c=function(){var d=h.globals.seriesRangeStart[a][l];return h.globals.seriesRangeEnd[a][l]-d};return h.globals.comboCharts?h.config.series[a].type==="rangeBar"||h.config.series[a].type==="rangeArea"?c():i:c()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(i){return i.w.config.plotOptions&&i.w.config.plotOptions.bar&&i.w.config.plotOptions.bar.horizontal?function(s){var a=qe(r(r({},s),{},{isTimeline:!0})),l=a.color,h=a.seriesName,c=a.ylabel,d=a.startVal,g=a.endVal;return Me(r(r({},s),{},{color:l,seriesName:h,ylabel:c,start:d,end:g}))}(i):function(s){var a=qe(s),l=a.color,h=a.seriesName,c=a.ylabel,d=a.start,g=a.end;return Me(r(r({},s),{},{color:l,seriesName:h,ylabel:c,start:d,end:g}))}(i)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(i){var s,a;return(s=i.plotOptions.bar)!==null&&s!==void 0&&s.barHeight||(i.plotOptions.bar.barHeight=2),(a=i.plotOptions.bar)!==null&&a!==void 0&&a.columnWidth||(i.plotOptions.bar.columnWidth=2),i}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(i){return function(s){var a=qe(s),l=a.color,h=a.seriesName,c=a.ylabel,d=a.start,g=a.end;return Me(r(r({},s),{},{color:l,seriesName:h,ylabel:c,start:d,end:g}))}(i)}}}}},{key:"brush",value:function(i){return R.extend(i,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(i){i.dataLabels=i.dataLabels||{},i.dataLabels.formatter=i.dataLabels.formatter||void 0;var s=i.dataLabels.formatter;return i.yaxis.forEach(function(a,l){i.yaxis[l].min=0,i.yaxis[l].max=100}),i.chart.type==="bar"&&(i.dataLabels.formatter=s||function(a){return typeof a=="number"&&a?a.toFixed(0)+"%":a}),i}},{key:"stackedBars",value:function(){var i=this.bar();return r(r({},i),{},{plotOptions:r(r({},i.plotOptions),{},{bar:r(r({},i.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(i){return i.xaxis.convertedCatToNumeric=!0,i}},{key:"convertCatToNumericXaxis",value:function(i,s,a){i.xaxis.type="numeric",i.xaxis.labels=i.xaxis.labels||{},i.xaxis.labels.formatter=i.xaxis.labels.formatter||function(c){return R.isNumber(c)?Math.floor(c):c};var l=i.xaxis.labels.formatter,h=i.xaxis.categories&&i.xaxis.categories.length?i.xaxis.categories:i.labels;return a&&a.length&&(h=a.map(function(c){return Array.isArray(c)?c:String(c)})),h&&h.length&&(i.xaxis.labels.formatter=function(c){return R.isNumber(c)?l(h[Math.floor(c)-1]):l(c)}),i.xaxis.categories=[],i.labels=[],i.xaxis.tickAmount=i.xaxis.tickAmount||"dataPoints",i}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(i){return i.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(i){return i.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(i){return i.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(i){return i},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(i,s,a,l,h){var c=i.globals.seriesCandleO[s][a],d=i.globals.seriesCandleH[s][a],g=i.globals.seriesCandleM[s][a],b=i.globals.seriesCandleL[s][a],x=i.globals.seriesCandleC[s][a];return i.config.series[s].type&&i.config.series[s].type!==h?`<div class="apexcharts-custom-tooltip">
          `.concat(i.config.series[s].name?i.config.series[s].name:"series-"+(s+1),": <strong>").concat(i.globals.series[s][a],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(i.config.chart.type,'">')+"<div>".concat(l[0],': <span class="value">')+c+"</span></div>"+"<div>".concat(l[1],': <span class="value">')+d+"</span></div>"+(g?"<div>".concat(l[2],': <span class="value">')+g+"</span></div>":"")+"<div>".concat(l[3],': <span class="value">')+b+"</span></div>"+"<div>".concat(l[4],': <span class="value">')+x+"</span></div></div>"}}]),L}(),De=function(){function L(i){u(this,L),this.opts=i}return m(L,[{key:"init",value:function(i){var s=i.responsiveOverride,a=this.opts,l=new Pe,h=new $e(a);this.chartType=a.chart.type,a=this.extendYAxis(a),a=this.extendAnnotations(a);var c=l.init(),d={};if(a&&o(a)==="object"){var g,b,x,v,_,k,A,F,E,I,Y={};Y=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(a.chart.type)!==-1?h[a.chart.type]():h.line(),(g=a.plotOptions)!==null&&g!==void 0&&(b=g.bar)!==null&&b!==void 0&&b.isFunnel&&(Y=h.funnel()),a.chart.stacked&&a.chart.type==="bar"&&(Y=h.stackedBars()),(x=a.chart.brush)!==null&&x!==void 0&&x.enabled&&(Y=h.brush(Y)),a.chart.stacked&&a.chart.stackType==="100%"&&(a=h.stacked100(a)),(v=a.plotOptions)!==null&&v!==void 0&&(_=v.bar)!==null&&_!==void 0&&_.isDumbbell&&(a=h.dumbbell(a)),((k=a)===null||k===void 0||(A=k.stroke)===null||A===void 0?void 0:A.curve)==="monotoneCubic"&&(a.stroke.curve="smooth"),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(a),a.xaxis=a.xaxis||window.Apex.xaxis||{},s||(a.xaxis.convertedCatToNumeric=!1),((F=(a=this.checkForCatToNumericXAxis(this.chartType,Y,a)).chart.sparkline)!==null&&F!==void 0&&F.enabled||(E=window.Apex.chart)!==null&&E!==void 0&&(I=E.sparkline)!==null&&I!==void 0&&I.enabled)&&(Y=h.sparkline(Y)),d=R.extend(c,Y)}var p=R.extend(d,window.Apex);return c=R.extend(p,a),c=this.handleUserInputErrors(c)}},{key:"checkForCatToNumericXAxis",value:function(i,s,a){var l,h,c=new $e(a),d=(i==="bar"||i==="boxPlot")&&((l=a.plotOptions)===null||l===void 0||(h=l.bar)===null||h===void 0?void 0:h.horizontal),g=i==="pie"||i==="polarArea"||i==="donut"||i==="radar"||i==="radialBar"||i==="heatmap",b=a.xaxis.type!=="datetime"&&a.xaxis.type!=="numeric",x=a.xaxis.tickPlacement?a.xaxis.tickPlacement:s.xaxis&&s.xaxis.tickPlacement;return d||g||!b||x==="between"||(a=c.convertCatToNumeric(a)),a}},{key:"extendYAxis",value:function(i,s){var a=new Pe;(i.yaxis===void 0||!i.yaxis||Array.isArray(i.yaxis)&&i.yaxis.length===0)&&(i.yaxis={}),i.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(i.yaxis=R.extend(i.yaxis,window.Apex.yaxis)),i.yaxis.constructor!==Array?i.yaxis=[R.extend(a.yAxis,i.yaxis)]:i.yaxis=R.extendArray(i.yaxis,a.yAxis);var l=!1;i.yaxis.forEach(function(c){c.logarithmic&&(l=!0)});var h=i.series;return s&&!h&&(h=s.config.series),l&&h.length!==i.yaxis.length&&h.length&&(i.yaxis=h.map(function(c,d){if(c.name||(h[d].name="series-".concat(d+1)),i.yaxis[d])return i.yaxis[d].seriesName=h[d].name,i.yaxis[d];var g=R.extend(a.yAxis,i.yaxis[0]);return g.show=!1,g})),l&&h.length>1&&h.length!==i.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),i}},{key:"extendAnnotations",value:function(i){return i.annotations===void 0&&(i.annotations={},i.annotations.yaxis=[],i.annotations.xaxis=[],i.annotations.points=[]),i=this.extendYAxisAnnotations(i),i=this.extendXAxisAnnotations(i),i=this.extendPointAnnotations(i)}},{key:"extendYAxisAnnotations",value:function(i){var s=new Pe;return i.annotations.yaxis=R.extendArray(i.annotations.yaxis!==void 0?i.annotations.yaxis:[],s.yAxisAnnotation),i}},{key:"extendXAxisAnnotations",value:function(i){var s=new Pe;return i.annotations.xaxis=R.extendArray(i.annotations.xaxis!==void 0?i.annotations.xaxis:[],s.xAxisAnnotation),i}},{key:"extendPointAnnotations",value:function(i){var s=new Pe;return i.annotations.points=R.extendArray(i.annotations.points!==void 0?i.annotations.points:[],s.pointAnnotation),i}},{key:"checkForDarkTheme",value:function(i){i.theme&&i.theme.mode==="dark"&&(i.tooltip||(i.tooltip={}),i.tooltip.theme!=="light"&&(i.tooltip.theme="dark"),i.chart.foreColor||(i.chart.foreColor="#f6f7f8"),i.chart.background||(i.chart.background="#424242"),i.theme.palette||(i.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(i){var s=i;if(s.tooltip.shared&&s.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(s.chart.type==="bar"&&s.plotOptions.bar.horizontal){if(s.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");s.yaxis[0].reversed&&(s.yaxis[0].opposite=!0),s.xaxis.tooltip.enabled=!1,s.yaxis[0].tooltip.enabled=!1,s.chart.zoom.enabled=!1}return s.chart.type!=="bar"&&s.chart.type!=="rangeBar"||s.tooltip.shared&&s.xaxis.crosshairs.width==="barWidth"&&s.series.length>1&&(s.xaxis.crosshairs.width="tickWidth"),s.chart.type!=="candlestick"&&s.chart.type!=="boxPlot"||s.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(s.chart.type," chart is not supported.")),s.yaxis[0].reversed=!1),s}}]),L}(),at=function(){function L(){u(this,L)}return m(L,[{key:"initGlobalVars",value:function(i){i.series=[],i.seriesCandleO=[],i.seriesCandleH=[],i.seriesCandleM=[],i.seriesCandleL=[],i.seriesCandleC=[],i.seriesRangeStart=[],i.seriesRangeEnd=[],i.seriesRange=[],i.seriesPercent=[],i.seriesGoals=[],i.seriesX=[],i.seriesZ=[],i.seriesNames=[],i.seriesTotals=[],i.seriesLog=[],i.seriesColors=[],i.stackedSeriesTotals=[],i.seriesXvalues=[],i.seriesYvalues=[],i.labels=[],i.hasXaxisGroups=!1,i.groups=[],i.hasSeriesGroups=!1,i.seriesGroups=[],i.categoryLabels=[],i.timescaleLabels=[],i.noLabelsProvided=!1,i.resizeTimer=null,i.selectionResizeTimer=null,i.delayedElements=[],i.pointsArray=[],i.dataLabelsRects=[],i.isXNumeric=!1,i.skipLastTimelinelabel=!1,i.skipFirstTimelinelabel=!1,i.isDataXYZ=!1,i.isMultiLineX=!1,i.isMultipleYAxis=!1,i.maxY=-Number.MAX_VALUE,i.minY=Number.MIN_VALUE,i.minYArr=[],i.maxYArr=[],i.maxX=-Number.MAX_VALUE,i.minX=Number.MAX_VALUE,i.initialMaxX=-Number.MAX_VALUE,i.initialMinX=Number.MAX_VALUE,i.maxDate=0,i.minDate=Number.MAX_VALUE,i.minZ=Number.MAX_VALUE,i.maxZ=-Number.MAX_VALUE,i.minXDiff=Number.MAX_VALUE,i.yAxisScale=[],i.xAxisScale=null,i.xAxisTicksPositions=[],i.yLabelsCoords=[],i.yTitleCoords=[],i.barPadForNumericAxis=0,i.padHorizontal=0,i.xRange=0,i.yRange=[],i.zRange=0,i.dataPoints=0,i.xTickAmount=0}},{key:"globalVars",value:function(i){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:i.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:i.chart.toolbar.autoSelected==="zoom"&&i.chart.toolbar.tools.zoom&&i.chart.zoom.enabled,panEnabled:i.chart.toolbar.autoSelected==="pan"&&i.chart.toolbar.tools.pan,selectionEnabled:i.chart.toolbar.autoSelected==="selection"&&i.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(i){var s=this.globalVars(i);return this.initGlobalVars(s),s.initialConfig=R.extend({},i),s.initialSeries=R.clone(i.series),s.lastXAxis=R.clone(s.initialConfig.xaxis),s.lastYAxis=R.clone(s.initialConfig.yaxis),s}}]),L}(),Tt=function(){function L(i){u(this,L),this.opts=i}return m(L,[{key:"init",value:function(){var i=new De(this.opts).init({responsiveOverride:!1});return{config:i,globals:new at().init(i)}}}]),L}(),je=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w,this.opts=null,this.seriesIndex=0}return m(L,[{key:"clippedImgArea",value:function(i){var s=this.w,a=s.config,l=parseInt(s.globals.gridWidth,10),h=parseInt(s.globals.gridHeight,10),c=l>h?l:h,d=i.image,g=0,b=0;i.width===void 0&&i.height===void 0?a.fill.image.width!==void 0&&a.fill.image.height!==void 0?(g=a.fill.image.width+1,b=a.fill.image.height):(g=c+1,b=c):(g=i.width,b=i.height);var x=document.createElementNS(s.globals.SVGNS,"pattern");V.setAttrs(x,{id:i.patternID,patternUnits:i.patternUnits?i.patternUnits:"userSpaceOnUse",width:g+"px",height:b+"px"});var v=document.createElementNS(s.globals.SVGNS,"image");x.appendChild(v),v.setAttributeNS(window.SVG.xlink,"href",d),V.setAttrs(v,{x:0,y:0,preserveAspectRatio:"none",width:g+"px",height:b+"px"}),v.style.opacity=i.opacity,s.globals.dom.elDefs.node.appendChild(x)}},{key:"getSeriesIndex",value:function(i){var s=this.w,a=s.config.chart.type;return(a==="bar"||a==="rangeBar")&&s.config.plotOptions.bar.distributed||a==="heatmap"||a==="treemap"?this.seriesIndex=i.seriesNumber:this.seriesIndex=i.seriesNumber%s.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(i){var s=this.w;this.opts=i;var a,l,h,c=this.w.config;this.seriesIndex=this.getSeriesIndex(i);var d=this.getFillColors()[this.seriesIndex];s.globals.seriesColors[this.seriesIndex]!==void 0&&(d=s.globals.seriesColors[this.seriesIndex]),typeof d=="function"&&(d=d({seriesIndex:this.seriesIndex,dataPointIndex:i.dataPointIndex,value:i.value,w:s}));var g=i.fillType?i.fillType:this.getFillType(this.seriesIndex),b=Array.isArray(c.fill.opacity)?c.fill.opacity[this.seriesIndex]:c.fill.opacity;i.color&&(d=i.color),d||(d="#fff",console.warn("undefined color - ApexCharts"));var x=d;if(d.indexOf("rgb")===-1?d.length<9&&(x=R.hexToRgba(d,b)):d.indexOf("rgba")>-1&&(b=R.getOpacityFromRGBA(d)),i.opacity&&(b=i.opacity),g==="pattern"&&(l=this.handlePatternFill({fillConfig:i.fillConfig,patternFill:l,fillColor:d,fillOpacity:b,defaultColor:x})),g==="gradient"&&(h=this.handleGradientFill({fillConfig:i.fillConfig,fillColor:d,fillOpacity:b,i:this.seriesIndex})),g==="image"){var v=c.fill.image.src,_=i.patternID?i.patternID:"";this.clippedImgArea({opacity:b,image:Array.isArray(v)?i.seriesNumber<v.length?v[i.seriesNumber]:v[0]:v,width:i.width?i.width:void 0,height:i.height?i.height:void 0,patternUnits:i.patternUnits,patternID:"pattern".concat(s.globals.cuid).concat(i.seriesNumber+1).concat(_)}),a="url(#pattern".concat(s.globals.cuid).concat(i.seriesNumber+1).concat(_,")")}else a=g==="gradient"?h:g==="pattern"?l:x;return i.solid&&(a=x),a}},{key:"getFillType",value:function(i){var s=this.w;return Array.isArray(s.config.fill.type)?s.config.fill.type[i]:s.config.fill.type}},{key:"getFillColors",value:function(){var i=this.w,s=i.config,a=this.opts,l=[];return i.globals.comboCharts?i.config.series[this.seriesIndex].type==="line"?Array.isArray(i.globals.stroke.colors)?l=i.globals.stroke.colors:l.push(i.globals.stroke.colors):Array.isArray(i.globals.fill.colors)?l=i.globals.fill.colors:l.push(i.globals.fill.colors):s.chart.type==="line"?Array.isArray(i.globals.stroke.colors)?l=i.globals.stroke.colors:l.push(i.globals.stroke.colors):Array.isArray(i.globals.fill.colors)?l=i.globals.fill.colors:l.push(i.globals.fill.colors),a.fillColors!==void 0&&(l=[],Array.isArray(a.fillColors)?l=a.fillColors.slice():l.push(a.fillColors)),l}},{key:"handlePatternFill",value:function(i){var s=i.fillConfig,a=i.patternFill,l=i.fillColor,h=i.fillOpacity,c=i.defaultColor,d=this.w.config.fill;s&&(d=s);var g=this.opts,b=new V(this.ctx),x=Array.isArray(d.pattern.strokeWidth)?d.pattern.strokeWidth[this.seriesIndex]:d.pattern.strokeWidth,v=l;return Array.isArray(d.pattern.style)?a=d.pattern.style[g.seriesNumber]!==void 0?b.drawPattern(d.pattern.style[g.seriesNumber],d.pattern.width,d.pattern.height,v,x,h):c:a=b.drawPattern(d.pattern.style,d.pattern.width,d.pattern.height,v,x,h),a}},{key:"handleGradientFill",value:function(i){var s=i.fillColor,a=i.fillOpacity,l=i.fillConfig,h=i.i,c=this.w.config.fill;l&&(c=r(r({},c),l));var d,g=this.opts,b=new V(this.ctx),x=new R,v=c.gradient.type,_=s,k=c.gradient.opacityFrom===void 0?a:Array.isArray(c.gradient.opacityFrom)?c.gradient.opacityFrom[h]:c.gradient.opacityFrom;_.indexOf("rgba")>-1&&(k=R.getOpacityFromRGBA(_));var A=c.gradient.opacityTo===void 0?a:Array.isArray(c.gradient.opacityTo)?c.gradient.opacityTo[h]:c.gradient.opacityTo;if(c.gradient.gradientToColors===void 0||c.gradient.gradientToColors.length===0)d=c.gradient.shade==="dark"?x.shadeColor(-1*parseFloat(c.gradient.shadeIntensity),s.indexOf("rgb")>-1?R.rgb2hex(s):s):x.shadeColor(parseFloat(c.gradient.shadeIntensity),s.indexOf("rgb")>-1?R.rgb2hex(s):s);else if(c.gradient.gradientToColors[g.seriesNumber]){var F=c.gradient.gradientToColors[g.seriesNumber];d=F,F.indexOf("rgba")>-1&&(A=R.getOpacityFromRGBA(F))}else d=s;if(c.gradient.gradientFrom&&(_=c.gradient.gradientFrom),c.gradient.gradientTo&&(d=c.gradient.gradientTo),c.gradient.inverseColors){var E=_;_=d,d=E}return _.indexOf("rgb")>-1&&(_=R.rgb2hex(_)),d.indexOf("rgb")>-1&&(d=R.rgb2hex(d)),b.drawGradient(v,_,d,k,A,g.size,c.gradient.stops,c.gradient.colorStops,h)}}]),L}(),We=function(){function L(i,s){u(this,L),this.ctx=i,this.w=i.w}return m(L,[{key:"setGlobalMarkerSize",value:function(){var i=this.w;if(i.globals.markers.size=Array.isArray(i.config.markers.size)?i.config.markers.size:[i.config.markers.size],i.globals.markers.size.length>0){if(i.globals.markers.size.length<i.globals.series.length+1)for(var s=0;s<=i.globals.series.length;s++)i.globals.markers.size[s]===void 0&&i.globals.markers.size.push(i.globals.markers.size[0])}else i.globals.markers.size=i.config.series.map(function(a){return i.config.markers.size})}},{key:"plotChartMarkers",value:function(i,s,a,l){var h,c=arguments.length>4&&arguments[4]!==void 0&&arguments[4],d=this.w,g=s,b=i,x=null,v=new V(this.ctx),_=d.config.markers.discrete&&d.config.markers.discrete.length;if((d.globals.markers.size[s]>0||c||_)&&(x=v.group({class:c||_?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(d.globals.cuid,")")),Array.isArray(b.x))for(var k=0;k<b.x.length;k++){var A=a;a===1&&k===0&&(A=0),a===1&&k===1&&(A=1);var F="apexcharts-marker";if(d.config.chart.type!=="line"&&d.config.chart.type!=="area"||d.globals.comboCharts||d.config.tooltip.intersect||(F+=" no-pointer-events"),(Array.isArray(d.config.markers.size)?d.globals.markers.size[s]>0:d.config.markers.size>0)||c||_){R.isNumber(b.y[k])?F+=" w".concat(R.randomId()):F="apexcharts-nullpoint";var E=this.getMarkerConfig({cssClass:F,seriesIndex:s,dataPointIndex:A});d.config.series[g].data[A]&&(d.config.series[g].data[A].fillColor&&(E.pointFillColor=d.config.series[g].data[A].fillColor),d.config.series[g].data[A].strokeColor&&(E.pointStrokeColor=d.config.series[g].data[A].strokeColor)),l&&(E.pSize=l),(b.x[k]<0||b.x[k]>d.globals.gridWidth||b.y[k]<0||b.y[k]>d.globals.gridHeight)&&(E.pSize=0),(h=v.drawMarker(b.x[k],b.y[k],E)).attr("rel",A),h.attr("j",A),h.attr("index",s),h.node.setAttribute("default-marker-size",E.pSize),new N(this.ctx).setSelectionFilter(h,s,A),this.addEvents(h),x&&x.add(h)}else d.globals.pointsArray[s]===void 0&&(d.globals.pointsArray[s]=[]),d.globals.pointsArray[s].push([b.x[k],b.y[k]])}return x}},{key:"getMarkerConfig",value:function(i){var s=i.cssClass,a=i.seriesIndex,l=i.dataPointIndex,h=l===void 0?null:l,c=i.finishRadius,d=c===void 0?null:c,g=this.w,b=this.getMarkerStyle(a),x=g.globals.markers.size[a],v=g.config.markers;return h!==null&&v.discrete.length&&v.discrete.map(function(_){_.seriesIndex===a&&_.dataPointIndex===h&&(b.pointStrokeColor=_.strokeColor,b.pointFillColor=_.fillColor,x=_.size,b.pointShape=_.shape)}),{pSize:d===null?x:d,pRadius:v.radius,width:Array.isArray(v.width)?v.width[a]:v.width,height:Array.isArray(v.height)?v.height[a]:v.height,pointStrokeWidth:Array.isArray(v.strokeWidth)?v.strokeWidth[a]:v.strokeWidth,pointStrokeColor:b.pointStrokeColor,pointFillColor:b.pointFillColor,shape:b.pointShape||(Array.isArray(v.shape)?v.shape[a]:v.shape),class:s,pointStrokeOpacity:Array.isArray(v.strokeOpacity)?v.strokeOpacity[a]:v.strokeOpacity,pointStrokeDashArray:Array.isArray(v.strokeDashArray)?v.strokeDashArray[a]:v.strokeDashArray,pointFillOpacity:Array.isArray(v.fillOpacity)?v.fillOpacity[a]:v.fillOpacity,seriesIndex:a}}},{key:"addEvents",value:function(i){var s=this.w,a=new V(this.ctx);i.node.addEventListener("mouseenter",a.pathMouseEnter.bind(this.ctx,i)),i.node.addEventListener("mouseleave",a.pathMouseLeave.bind(this.ctx,i)),i.node.addEventListener("mousedown",a.pathMouseDown.bind(this.ctx,i)),i.node.addEventListener("click",s.config.markers.onClick),i.node.addEventListener("dblclick",s.config.markers.onDblClick),i.node.addEventListener("touchstart",a.pathMouseDown.bind(this.ctx,i),{passive:!0})}},{key:"getMarkerStyle",value:function(i){var s=this.w,a=s.globals.markers.colors,l=s.config.markers.strokeColor||s.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(l)?l[i]:l,pointFillColor:Array.isArray(a)?a[i]:a}}}]),L}(),yt=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return m(L,[{key:"draw",value:function(i,s,a){var l=this.w,h=new V(this.ctx),c=a.realIndex,d=a.pointsPos,g=a.zRatio,b=a.elParent,x=h.group({class:"apexcharts-series-markers apexcharts-series-".concat(l.config.chart.type)});if(x.attr("clip-path","url(#gridRectMarkerMask".concat(l.globals.cuid,")")),Array.isArray(d.x))for(var v=0;v<d.x.length;v++){var _=s+1,k=!0;s===0&&v===0&&(_=0),s===0&&v===1&&(_=1);var A=0,F=l.globals.markers.size[c];if(g!==1/0){var E=l.config.plotOptions.bubble;F=l.globals.seriesZ[c][_],E.zScaling&&(F/=g),E.minBubbleRadius&&F<E.minBubbleRadius&&(F=E.minBubbleRadius),E.maxBubbleRadius&&F>E.maxBubbleRadius&&(F=E.maxBubbleRadius)}l.config.chart.animations.enabled||(A=F);var I=d.x[v],Y=d.y[v];if(A=A||0,Y!==null&&l.globals.series[c][_]!==void 0||(k=!1),k){var p=this.drawPoint(I,Y,A,F,c,_,s);x.add(p)}b.add(x)}}},{key:"drawPoint",value:function(i,s,a,l,h,c,d){var g=this.w,b=h,x=new U(this.ctx),v=new N(this.ctx),_=new je(this.ctx),k=new We(this.ctx),A=new V(this.ctx),F=k.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:b,dataPointIndex:c,finishRadius:g.config.chart.type==="bubble"||g.globals.comboCharts&&g.config.series[h]&&g.config.series[h].type==="bubble"?l:null});l=F.pSize;var E,I=_.fillPath({seriesNumber:h,dataPointIndex:c,color:F.pointFillColor,patternUnits:"objectBoundingBox",value:g.globals.series[h][d]});if(F.shape==="circle"?E=A.drawCircle(a):F.shape!=="square"&&F.shape!=="rect"||(E=A.drawRect(0,0,F.width-F.pointStrokeWidth/2,F.height-F.pointStrokeWidth/2,F.pRadius)),g.config.series[b].data[c]&&g.config.series[b].data[c].fillColor&&(I=g.config.series[b].data[c].fillColor),E.attr({x:i-F.width/2-F.pointStrokeWidth/2,y:s-F.height/2-F.pointStrokeWidth/2,cx:i,cy:s,fill:I,"fill-opacity":F.pointFillOpacity,stroke:F.pointStrokeColor,r:l,"stroke-width":F.pointStrokeWidth,"stroke-dasharray":F.pointStrokeDashArray,"stroke-opacity":F.pointStrokeOpacity}),g.config.chart.dropShadow.enabled){var Y=g.config.chart.dropShadow;v.dropShadow(E,Y,h)}if(!this.initialAnim||g.globals.dataChanged||g.globals.resized)g.globals.animationEnded=!0;else{var p=g.config.chart.animations.speed;x.animateMarker(E,0,F.shape==="circle"?l:{width:F.width,height:F.height},p,g.globals.easing,function(){window.setTimeout(function(){x.animationCompleted(E)},100)})}if(g.globals.dataChanged&&F.shape==="circle")if(this.dynamicAnim){var w,P,B,j,H=g.config.chart.animations.dynamicAnimation.speed;(j=g.globals.previousPaths[h]&&g.globals.previousPaths[h][d])!=null&&(w=j.x,P=j.y,B=j.r!==void 0?j.r:l);for(var q=0;q<g.globals.collapsedSeries.length;q++)g.globals.collapsedSeries[q].index===h&&(H=1,l=0);i===0&&s===0&&(l=0),x.animateCircle(E,{cx:w,cy:P,r:B},{cx:i,cy:s,r:l},H,g.globals.easing)}else E.attr({r:l});return E.attr({rel:c,j:c,index:h,"default-marker-size":l}),v.setSelectionFilter(E,h,c),k.addEvents(E),E.node.classList.add("apexcharts-marker"),E}},{key:"centerTextInBubble",value:function(i){var s=this.w;return{y:i+=parseInt(s.config.dataLabels.style.fontSize,10)/4}}}]),L}(),At=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w}return m(L,[{key:"dataLabelsCorrection",value:function(i,s,a,l,h,c,d){var g=this.w,b=!1,x=new V(this.ctx).getTextRects(a,d),v=x.width,_=x.height;s<0&&(s=0),s>g.globals.gridHeight+_&&(s=g.globals.gridHeight+_/2),g.globals.dataLabelsRects[l]===void 0&&(g.globals.dataLabelsRects[l]=[]),g.globals.dataLabelsRects[l].push({x:i,y:s,width:v,height:_});var k=g.globals.dataLabelsRects[l].length-2,A=g.globals.lastDrawnDataLabelsIndexes[l]!==void 0?g.globals.lastDrawnDataLabelsIndexes[l][g.globals.lastDrawnDataLabelsIndexes[l].length-1]:0;if(g.globals.dataLabelsRects[l][k]!==void 0){var F=g.globals.dataLabelsRects[l][A];(i>F.x+F.width||s>F.y+F.height||s+_<F.y||i+v<F.x)&&(b=!0)}return(h===0||c)&&(b=!0),{x:i,y:s,textRects:x,drawnextLabel:b}}},{key:"drawDataLabel",value:function(i){var s=this,a=i.type,l=i.pos,h=i.i,c=i.j,d=i.isRangeStart,g=i.strokeWidth,b=g===void 0?2:g,x=this.w,v=new V(this.ctx),_=x.config.dataLabels,k=0,A=0,F=c,E=null;if(!_.enabled||!Array.isArray(l.x))return E;E=v.group({class:"apexcharts-data-labels"});for(var I=0;I<l.x.length;I++)if(k=l.x[I]+_.offsetX,A=l.y[I]+_.offsetY+b,!isNaN(k)){c===1&&I===0&&(F=0),c===1&&I===1&&(F=1);var Y=x.globals.series[h][F];a==="rangeArea"&&(Y=d?x.globals.seriesRangeStart[h][F]:x.globals.seriesRangeEnd[h][F]);var p="",w=function(P){return x.config.dataLabels.formatter(P,{ctx:s.ctx,seriesIndex:h,dataPointIndex:F,w:x})};x.config.chart.type==="bubble"?(p=w(Y=x.globals.seriesZ[h][F]),A=l.y[I],A=new yt(this.ctx).centerTextInBubble(A,h,F).y):Y!==void 0&&(p=w(Y)),this.plotDataLabelsText({x:k,y:A,text:p,i:h,j:F,parent:E,offsetCorrection:!0,dataLabelsConfig:x.config.dataLabels})}return E}},{key:"plotDataLabelsText",value:function(i){var s=this.w,a=new V(this.ctx),l=i.x,h=i.y,c=i.i,d=i.j,g=i.text,b=i.textAnchor,x=i.fontSize,v=i.parent,_=i.dataLabelsConfig,k=i.color,A=i.alwaysDrawDataLabel,F=i.offsetCorrection;if(!(Array.isArray(s.config.dataLabels.enabledOnSeries)&&s.config.dataLabels.enabledOnSeries.indexOf(c)<0)){var E={x:l,y:h,drawnextLabel:!0,textRects:null};F&&(E=this.dataLabelsCorrection(l,h,g,c,d,A,parseInt(_.style.fontSize,10))),s.globals.zoomed||(l=E.x,h=E.y),E.textRects&&(l<-10-E.textRects.width||l>s.globals.gridWidth+E.textRects.width+10)&&(g="");var I=s.globals.dataLabels.style.colors[c];((s.config.chart.type==="bar"||s.config.chart.type==="rangeBar")&&s.config.plotOptions.bar.distributed||s.config.dataLabels.distributed)&&(I=s.globals.dataLabels.style.colors[d]),typeof I=="function"&&(I=I({series:s.globals.series,seriesIndex:c,dataPointIndex:d,w:s})),k&&(I=k);var Y=_.offsetX,p=_.offsetY;if(s.config.chart.type!=="bar"&&s.config.chart.type!=="rangeBar"||(Y=0,p=0),E.drawnextLabel){var w=a.drawText({width:100,height:parseInt(_.style.fontSize,10),x:l+Y,y:h+p,foreColor:I,textAnchor:b||_.textAnchor,text:g,fontSize:x||_.style.fontSize,fontFamily:_.style.fontFamily,fontWeight:_.style.fontWeight||"normal"});if(w.attr({class:"apexcharts-datalabel",cx:l,cy:h}),_.dropShadow.enabled){var P=_.dropShadow;new N(this.ctx).dropShadow(w,P)}v.add(w),s.globals.lastDrawnDataLabelsIndexes[c]===void 0&&(s.globals.lastDrawnDataLabelsIndexes[c]=[]),s.globals.lastDrawnDataLabelsIndexes[c].push(d)}}}},{key:"addBackgroundToDataLabel",value:function(i,s){var a=this.w,l=a.config.dataLabels.background,h=l.padding,c=l.padding/2,d=s.width,g=s.height,b=new V(this.ctx).drawRect(s.x-h,s.y-c/2,d+2*h,g+c,l.borderRadius,a.config.chart.background==="transparent"?"#fff":a.config.chart.background,l.opacity,l.borderWidth,l.borderColor);return l.dropShadow.enabled&&new N(this.ctx).dropShadow(b,l.dropShadow),b}},{key:"dataLabelsBackground",value:function(){var i=this.w;if(i.config.chart.type!=="bubble")for(var s=i.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),a=0;a<s.length;a++){var l=s[a],h=l.getBBox(),c=null;if(h.width&&h.height&&(c=this.addBackgroundToDataLabel(l,h)),c){l.parentNode.insertBefore(c.node,l);var d=l.getAttribute("fill");i.config.chart.animations.enabled&&!i.globals.resized&&!i.globals.dataChanged?c.animate().attr({fill:d}):c.attr({fill:d}),l.setAttribute("fill",i.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var i=this.w,s=i.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),a=i.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),l=0;l<s.length;l++)a&&a.insertBefore(s[l],a.nextSibling)}}]),L}(),Ee=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w,this.legendInactiveClass="legend-mouseover-inactive"}return m(L,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(i){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(R.escapeString(i),"']"))}},{key:"isSeriesHidden",value:function(i){var s=this.getSeriesByName(i),a=parseInt(s.getAttribute("data:realIndex"),10);return{isHidden:s.classList.contains("apexcharts-series-collapsed"),realIndex:a}}},{key:"addCollapsedClassToSeries",value:function(i,s){var a=this.w;function l(h){for(var c=0;c<h.length;c++)h[c].index===s&&i.node.classList.add("apexcharts-series-collapsed")}l(a.globals.collapsedSeries),l(a.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(i){var s=this.isSeriesHidden(i);return this.ctx.legend.legendHelpers.toggleDataSeries(s.realIndex,s.isHidden),s.isHidden}},{key:"showSeries",value:function(i){var s=this.isSeriesHidden(i);s.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(s.realIndex,!0)}},{key:"hideSeries",value:function(i){var s=this.isSeriesHidden(i);s.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(s.realIndex,!1)}},{key:"resetSeries",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],l=this.w,h=R.clone(l.globals.initialSeries);l.globals.previousPaths=[],a?(l.globals.collapsedSeries=[],l.globals.ancillaryCollapsedSeries=[],l.globals.collapsedSeriesIndices=[],l.globals.ancillaryCollapsedSeriesIndices=[]):h=this.emptyCollapsedSeries(h),l.config.series=h,i&&(s&&(l.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(h,l.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(i){for(var s=this.w,a=0;a<i.length;a++)s.globals.collapsedSeriesIndices.indexOf(a)>-1&&(i[a].data=[]);return i}},{key:"toggleSeriesOnHover",value:function(i,s){var a=this.w;s||(s=i.target);var l=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if(i.type==="mousemove"){var h=parseInt(s.getAttribute("rel"),10)-1,c=null,d=null;a.globals.axisCharts||a.config.chart.type==="radialBar"?a.globals.axisCharts?(c=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(h,"']")),d=a.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(h,"']"))):c=a.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(h+1,"']")):c=a.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(h+1,"'] path"));for(var g=0;g<l.length;g++)l[g].classList.add(this.legendInactiveClass);c!==null&&(a.globals.axisCharts||c.parentNode.classList.remove(this.legendInactiveClass),c.classList.remove(this.legendInactiveClass),d!==null&&d.classList.remove(this.legendInactiveClass))}else if(i.type==="mouseout")for(var b=0;b<l.length;b++)l[b].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(i,s){var a=this,l=this.w,h=l.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),c=function(g){for(var b=0;b<h.length;b++)h[b].classList[g](a.legendInactiveClass)};if(i.type==="mousemove"){var d=parseInt(s.getAttribute("rel"),10)-1;c("add"),function(g){for(var b=0;b<h.length;b++){var x=parseInt(h[b].getAttribute("val"),10);x>=g.from&&x<=g.to&&h[b].classList.remove(a.legendInactiveClass)}}(l.config.plotOptions.heatmap.colorScale.ranges[d])}else i.type==="mouseout"&&c("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=this.w,l=0;if(a.config.series.length>1){for(var h=a.config.series.map(function(d,g){return d.data&&d.data.length>0&&a.globals.collapsedSeriesIndices.indexOf(g)===-1&&(!a.globals.comboCharts||s.length===0||s.length&&s.indexOf(a.config.series[g].type)>-1)?g:-1}),c=i==="asc"?0:h.length-1;i==="asc"?c<h.length:c>=0;i==="asc"?c++:c--)if(h[c]!==-1){l=h[c];break}}return l}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(i,s){return i.type==="bar"||i.type==="column"?s:-1}).filter(function(i){return i!==-1}):this.w.config.series.map(function(i,s){return s})}},{key:"getPreviousPaths",value:function(){var i=this.w;function s(c,d,g){for(var b=c[d].childNodes,x={type:g,paths:[],realIndex:c[d].getAttribute("data:realIndex")},v=0;v<b.length;v++)if(b[v].hasAttribute("pathTo")){var _=b[v].getAttribute("pathTo");x.paths.push({d:_})}i.globals.previousPaths.push(x)}i.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(c){for(var d,g=(d=c,i.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(d,"-series .apexcharts-series"))),b=0;b<g.length;b++)s(g,b,c)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var a=i.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(i.config.chart.type," .apexcharts-series"));if(a.length>0)for(var l=function(c){for(var d=i.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(i.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(c,"'] rect")),g=[],b=function(v){var _=function(A){return d[v].getAttribute(A)},k={x:parseFloat(_("x")),y:parseFloat(_("y")),width:parseFloat(_("width")),height:parseFloat(_("height"))};g.push({rect:k,color:d[v].getAttribute("color")})},x=0;x<d.length;x++)b(x);i.globals.previousPaths.push(g)},h=0;h<a.length;h++)l(h);i.globals.axisCharts||(i.globals.previousPaths=i.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(i){var s=this.w,a=s.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(i,"-series .apexcharts-series"));if(a.length>0)for(var l=0;l<a.length;l++){for(var h=s.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(i,"-series .apexcharts-series[data\\:realIndex='").concat(l,"'] circle")),c=[],d=0;d<h.length;d++)c.push({x:h[d].getAttribute("cx"),y:h[d].getAttribute("cy"),r:h[d].getAttribute("r")});s.globals.previousPaths.push(c)}}},{key:"clearPreviousPaths",value:function(){var i=this.w;i.globals.previousPaths=[],i.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var i=this.w,s=i.config.noData,a=new V(this.ctx),l=i.globals.svgWidth/2,h=i.globals.svgHeight/2,c="middle";if(i.globals.noData=!0,i.globals.animationEnded=!0,s.align==="left"?(l=10,c="start"):s.align==="right"&&(l=i.globals.svgWidth-10,c="end"),s.verticalAlign==="top"?h=50:s.verticalAlign==="bottom"&&(h=i.globals.svgHeight-50),l+=s.offsetX,h=h+parseInt(s.style.fontSize,10)+2+s.offsetY,s.text!==void 0&&s.text!==""){var d=a.drawText({x:l,y:h,text:s.text,textAnchor:c,fontSize:s.style.fontSize,fontFamily:s.style.fontFamily,foreColor:s.style.color,opacity:1,class:"apexcharts-text-nodata"});i.globals.dom.Paper.add(d)}}},{key:"setNullSeriesToZeroValues",value:function(i){for(var s=this.w,a=0;a<i.length;a++)if(i[a].length===0)for(var l=0;l<i[s.globals.maxValsInArrayIndex].length;l++)i[a].push(0);return i}},{key:"hasAllSeriesEqualX",value:function(){for(var i=!0,s=this.w,a=this.filteredSeriesX(),l=0;l<a.length-1;l++)if(a[l][0]!==a[l+1][0]){i=!1;break}return s.globals.allSeriesHasEqualX=i,i}},{key:"filteredSeriesX",value:function(){var i=this.w.globals.seriesX.map(function(s){return s.length>0?s:[]});return i}}]),L}(),Gi=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new se(this.ctx)}return m(L,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var i=this.w.config.series.slice(),s=new Ee(this.ctx);if(this.activeSeriesIndex=s.getActiveConfigSeriesIndex(),i[this.activeSeriesIndex].data!==void 0&&i[this.activeSeriesIndex].data.length>0&&i[this.activeSeriesIndex].data[0]!==null&&i[this.activeSeriesIndex].data[0].x!==void 0&&i[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var i=this.w.config.series.slice(),s=new Ee(this.ctx);if(this.activeSeriesIndex=s.getActiveConfigSeriesIndex(),i[this.activeSeriesIndex].data!==void 0&&i[this.activeSeriesIndex].data.length>0&&i[this.activeSeriesIndex].data[0]!==void 0&&i[this.activeSeriesIndex].data[0]!==null&&i[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(i,s){for(var a=this.w.config,l=this.w.globals,h=a.chart.type==="boxPlot"||a.series[s].type==="boxPlot",c=0;c<i[s].data.length;c++)if(i[s].data[c][1]!==void 0&&(Array.isArray(i[s].data[c][1])&&i[s].data[c][1].length===4&&!h?this.twoDSeries.push(R.parseNumber(i[s].data[c][1][3])):i[s].data[c].length>=5?this.twoDSeries.push(R.parseNumber(i[s].data[c][4])):this.twoDSeries.push(R.parseNumber(i[s].data[c][1])),l.dataFormatXNumeric=!0),a.xaxis.type==="datetime"){var d=new Date(i[s].data[c][0]);d=new Date(d).getTime(),this.twoDSeriesX.push(d)}else this.twoDSeriesX.push(i[s].data[c][0]);for(var g=0;g<i[s].data.length;g++)i[s].data[g][2]!==void 0&&(this.threeDSeries.push(i[s].data[g][2]),l.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(i,s){var a=this.w.config,l=this.w.globals,h=new Ce(this.ctx),c=s;l.collapsedSeriesIndices.indexOf(s)>-1&&(c=this.activeSeriesIndex);for(var d=0;d<i[s].data.length;d++)i[s].data[d].y!==void 0&&(Array.isArray(i[s].data[d].y)?this.twoDSeries.push(R.parseNumber(i[s].data[d].y[i[s].data[d].y.length-1])):this.twoDSeries.push(R.parseNumber(i[s].data[d].y))),i[s].data[d].goals!==void 0&&Array.isArray(i[s].data[d].goals)?(this.seriesGoals[s]===void 0&&(this.seriesGoals[s]=[]),this.seriesGoals[s].push(i[s].data[d].goals)):(this.seriesGoals[s]===void 0&&(this.seriesGoals[s]=[]),this.seriesGoals[s].push(null));for(var g=0;g<i[c].data.length;g++){var b=typeof i[c].data[g].x=="string",x=Array.isArray(i[c].data[g].x),v=!x&&!!h.isValidDate(i[c].data[g].x.toString());if(b||v)if(b||a.xaxis.convertedCatToNumeric){var _=l.isBarHorizontal&&l.isRangeData;a.xaxis.type!=="datetime"||_?(this.fallbackToCategory=!0,this.twoDSeriesX.push(i[c].data[g].x),isNaN(i[c].data[g].x)||this.w.config.xaxis.type==="category"||typeof i[c].data[g].x=="string"||(l.isXNumeric=!0)):this.twoDSeriesX.push(h.parseDate(i[c].data[g].x))}else a.xaxis.type==="datetime"?this.twoDSeriesX.push(h.parseDate(i[c].data[g].x.toString())):(l.dataFormatXNumeric=!0,l.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(i[c].data[g].x)));else x?(this.fallbackToCategory=!0,this.twoDSeriesX.push(i[c].data[g].x)):(l.isXNumeric=!0,l.dataFormatXNumeric=!0,this.twoDSeriesX.push(i[c].data[g].x))}if(i[s].data[0]&&i[s].data[0].z!==void 0){for(var k=0;k<i[s].data.length;k++)this.threeDSeries.push(i[s].data[k].z);l.isDataXYZ=!0}}},{key:"handleRangeData",value:function(i,s){var a=this.w.globals,l={};return this.isFormat2DArray()?l=this.handleRangeDataFormat("array",i,s):this.isFormatXY()&&(l=this.handleRangeDataFormat("xy",i,s)),a.seriesRangeStart.push(l.start),a.seriesRangeEnd.push(l.end),a.seriesRange.push(l.rangeUniques),a.seriesRange.forEach(function(h,c){h&&h.forEach(function(d,g){d.y.forEach(function(b,x){for(var v=0;v<d.y.length;v++)if(x!==v){var _=b.y1,k=b.y2,A=d.y[v].y1;_<=d.y[v].y2&&A<=k&&(d.overlaps.indexOf(b.rangeName)<0&&d.overlaps.push(b.rangeName),d.overlaps.indexOf(d.y[v].rangeName)<0&&d.overlaps.push(d.y[v].rangeName))}})})}),l}},{key:"handleCandleStickBoxData",value:function(i,s){var a=this.w.globals,l={};return this.isFormat2DArray()?l=this.handleCandleStickBoxDataFormat("array",i,s):this.isFormatXY()&&(l=this.handleCandleStickBoxDataFormat("xy",i,s)),a.seriesCandleO[s]=l.o,a.seriesCandleH[s]=l.h,a.seriesCandleM[s]=l.m,a.seriesCandleL[s]=l.l,a.seriesCandleC[s]=l.c,l}},{key:"handleRangeDataFormat",value:function(i,s,a){var l=[],h=[],c=s[a].data.filter(function(x,v,_){return v===_.findIndex(function(k){return k.x===x.x})}).map(function(x,v){return{x:x.x,overlaps:[],y:[]}});if(i==="array")for(var d=0;d<s[a].data.length;d++)Array.isArray(s[a].data[d])?(l.push(s[a].data[d][1][0]),h.push(s[a].data[d][1][1])):(l.push(s[a].data[d]),h.push(s[a].data[d]));else if(i==="xy")for(var g=function(x){var v=Array.isArray(s[a].data[x].y),_=R.randomId(),k=s[a].data[x].x,A={y1:v?s[a].data[x].y[0]:s[a].data[x].y,y2:v?s[a].data[x].y[1]:s[a].data[x].y,rangeName:_};s[a].data[x].rangeName=_;var F=c.findIndex(function(E){return E.x===k});c[F].y.push(A),l.push(A.y1),h.push(A.y2)},b=0;b<s[a].data.length;b++)g(b);return{start:l,end:h,rangeUniques:c}}},{key:"handleCandleStickBoxDataFormat",value:function(i,s,a){var l=this.w,h=l.config.chart.type==="boxPlot"||l.config.series[a].type==="boxPlot",c=[],d=[],g=[],b=[],x=[];if(i==="array")if(h&&s[a].data[0].length===6||!h&&s[a].data[0].length===5)for(var v=0;v<s[a].data.length;v++)c.push(s[a].data[v][1]),d.push(s[a].data[v][2]),h?(g.push(s[a].data[v][3]),b.push(s[a].data[v][4]),x.push(s[a].data[v][5])):(b.push(s[a].data[v][3]),x.push(s[a].data[v][4]));else for(var _=0;_<s[a].data.length;_++)Array.isArray(s[a].data[_][1])&&(c.push(s[a].data[_][1][0]),d.push(s[a].data[_][1][1]),h?(g.push(s[a].data[_][1][2]),b.push(s[a].data[_][1][3]),x.push(s[a].data[_][1][4])):(b.push(s[a].data[_][1][2]),x.push(s[a].data[_][1][3])));else if(i==="xy")for(var k=0;k<s[a].data.length;k++)Array.isArray(s[a].data[k].y)&&(c.push(s[a].data[k].y[0]),d.push(s[a].data[k].y[1]),h?(g.push(s[a].data[k].y[2]),b.push(s[a].data[k].y[3]),x.push(s[a].data[k].y[4])):(b.push(s[a].data[k].y[2]),x.push(s[a].data[k].y[3])));return{o:c,h:d,m:g,l:b,c:x}}},{key:"parseDataAxisCharts",value:function(i){var s,a=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,h=this.w.config,c=this.w.globals,d=new Ce(l),g=h.labels.length>0?h.labels.slice():h.xaxis.categories.slice();if(c.isRangeBar=h.chart.type==="rangeBar"&&c.isBarHorizontal,c.hasXaxisGroups=h.xaxis.type==="category"&&h.xaxis.group.groups.length>0,c.hasXaxisGroups&&(c.groups=h.xaxis.group.groups),c.hasSeriesGroups=(s=i[0])===null||s===void 0?void 0:s.group,c.hasSeriesGroups){var b=[],x=O(new Set(i.map(function(A){return A.group})));i.forEach(function(A,F){var E=x.indexOf(A.group);b[E]||(b[E]=[]),b[E].push(A.name)}),c.seriesGroups=b}for(var v=function(){for(var A=0;A<g.length;A++)if(typeof g[A]=="string"){if(!d.isValidDate(g[A]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");a.twoDSeriesX.push(d.parseDate(g[A]))}else a.twoDSeriesX.push(g[A])},_=0;_<i.length;_++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],i[_].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(h.chart.type!=="rangeBar"&&h.chart.type!=="rangeArea"&&i[_].type!=="rangeBar"&&i[_].type!=="rangeArea"||(c.isRangeData=!0,c.isComboCharts?i[_].type!=="rangeBar"&&i[_].type!=="rangeArea"||this.handleRangeData(i,_):h.chart.type!=="rangeBar"&&h.chart.type!=="rangeArea"||this.handleRangeData(i,_)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(i,_):this.isFormatXY()&&this.handleFormatXY(i,_),h.chart.type!=="candlestick"&&i[_].type!=="candlestick"&&h.chart.type!=="boxPlot"&&i[_].type!=="boxPlot"||this.handleCandleStickBoxData(i,_),c.series.push(this.twoDSeries),c.labels.push(this.twoDSeriesX),c.seriesX.push(this.twoDSeriesX),c.seriesGoals=this.seriesGoals,_!==this.activeSeriesIndex||this.fallbackToCategory||(c.isXNumeric=!0);else{h.xaxis.type==="datetime"?(c.isXNumeric=!0,v(),c.seriesX.push(this.twoDSeriesX)):h.xaxis.type==="numeric"&&(c.isXNumeric=!0,g.length>0&&(this.twoDSeriesX=g,c.seriesX.push(this.twoDSeriesX))),c.labels.push(this.twoDSeriesX);var k=i[_].data.map(function(A){return R.parseNumber(A)});c.series.push(k)}c.seriesZ.push(this.threeDSeries),i[_].name!==void 0?c.seriesNames.push(i[_].name):c.seriesNames.push("series-"+parseInt(_+1,10)),i[_].color!==void 0?c.seriesColors.push(i[_].color):c.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(i){var s=this.w.globals,a=this.w.config;s.series=i.slice(),s.seriesNames=a.labels.slice();for(var l=0;l<s.series.length;l++)s.seriesNames[l]===void 0&&s.seriesNames.push("series-"+(l+1));return this.w}},{key:"handleExternalLabelsData",value:function(i){var s=this.w.config,a=this.w.globals;s.xaxis.categories.length>0?a.labels=s.xaxis.categories:s.labels.length>0?a.labels=s.labels.slice():this.fallbackToCategory?(a.labels=a.labels[0],a.seriesRange.length&&(a.seriesRange.map(function(l){l.forEach(function(h){a.labels.indexOf(h.x)<0&&h.x&&a.labels.push(h.x)})}),a.labels=Array.from(new Set(a.labels.map(JSON.stringify)),JSON.parse)),s.xaxis.convertedCatToNumeric&&(new $e(s).convertCatToNumericXaxis(s,this.ctx,a.seriesX[0]),this._generateExternalLabels(i))):this._generateExternalLabels(i)}},{key:"_generateExternalLabels",value:function(i){var s=this.w.globals,a=this.w.config,l=[];if(s.axisCharts){if(s.series.length>0)if(this.isFormatXY())for(var h=a.series.map(function(v,_){return v.data.filter(function(k,A,F){return F.findIndex(function(E){return E.x===k.x})===A})}),c=h.reduce(function(v,_,k,A){return A[v].length>_.length?v:k},0),d=0;d<h[c].length;d++)l.push(d+1);else for(var g=0;g<s.series[s.maxValsInArrayIndex].length;g++)l.push(g+1);s.seriesX=[];for(var b=0;b<i.length;b++)s.seriesX.push(l);this.w.globals.isBarHorizontal||(s.isXNumeric=!0)}if(l.length===0){l=s.axisCharts?[]:s.series.map(function(v,_){return _+1});for(var x=0;x<i.length;x++)s.seriesX.push(l)}s.labels=l,a.xaxis.convertedCatToNumeric&&(s.categoryLabels=l.map(function(v){return a.xaxis.labels.formatter(v)})),s.noLabelsProvided=!0}},{key:"parseData",value:function(i){var s=this.w,a=s.config,l=s.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),l.axisCharts?(this.parseDataAxisCharts(i),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(i),a.chart.stacked){var h=new Ee(this.ctx);l.series=h.setNullSeriesToZeroValues(l.series)}this.coreUtils.getSeriesTotals(),l.axisCharts&&(l.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),l.dataFormatXNumeric||l.isXNumeric&&(a.xaxis.type!=="numeric"||a.labels.length!==0||a.xaxis.categories.length!==0)||this.handleExternalLabelsData(i);for(var c=this.coreUtils.getCategoryLabels(l.labels),d=0;d<c.length;d++)if(Array.isArray(c[d])){l.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var i=this,s=this.w;s.globals.ignoreYAxisIndexes=s.globals.collapsedSeries.map(function(a,l){if(i.w.globals.isMultipleYAxis&&!s.config.chart.stacked)return a.index})}}]),L}(),St=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w}return m(L,[{key:"getLabel",value:function(i,s,a,l){var h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",d=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],g=this.w,b=i[l]===void 0?"":i[l],x=b,v=g.globals.xLabelFormatter,_=g.config.xaxis.labels.formatter,k=!1,A=new Ae(this.ctx),F=b;d&&(x=A.xLabelFormat(v,b,F,{i:l,dateFormatter:new Ce(this.ctx).formatDate,w:g}),_!==void 0&&(x=_(b,i[l],{i:l,dateFormatter:new Ce(this.ctx).formatDate,w:g})));var E,I;s.length>0?(E=s[l].unit,I=null,s.forEach(function(P){P.unit==="month"?I="year":P.unit==="day"?I="month":P.unit==="hour"?I="day":P.unit==="minute"&&(I="hour")}),k=I===E,a=s[l].position,x=s[l].value):g.config.xaxis.type==="datetime"&&_===void 0&&(x=""),x===void 0&&(x=""),x=Array.isArray(x)?x:x.toString();var Y=new V(this.ctx),p={};p=g.globals.rotateXLabels&&d?Y.getTextRects(x,parseInt(c,10),null,"rotate(".concat(g.config.xaxis.labels.rotate," 0 0)"),!1):Y.getTextRects(x,parseInt(c,10));var w=!g.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(x)&&(x.indexOf("NaN")===0||x.toLowerCase().indexOf("invalid")===0||x.toLowerCase().indexOf("infinity")>=0||h.indexOf(x)>=0&&w)&&(x=""),{x:a,text:x,textRect:p,isBold:k}}},{key:"checkLabelBasedOnTickamount",value:function(i,s,a){var l=this.w,h=l.config.xaxis.tickAmount;return h==="dataPoints"&&(h=Math.round(l.globals.gridWidth/120)),h>a||i%Math.round(a/(h+1))==0||(s.text=""),s}},{key:"checkForOverflowingLabels",value:function(i,s,a,l,h){var c=this.w;if(i===0&&c.globals.skipFirstTimelinelabel&&(s.text=""),i===a-1&&c.globals.skipLastTimelinelabel&&(s.text=""),c.config.xaxis.labels.hideOverlappingLabels&&l.length>0){var d=h[h.length-1];s.x<d.textRect.width/(c.globals.rotateXLabels?Math.abs(c.config.xaxis.labels.rotate)/12:1.01)+d.x&&(s.text="")}return s}},{key:"checkForReversedLabels",value:function(i,s){var a=this.w;return a.config.yaxis[i]&&a.config.yaxis[i].reversed&&s.reverse(),s}},{key:"isYAxisHidden",value:function(i){var s=this.w,a=new se(this.ctx);return!s.config.yaxis[i].show||!s.config.yaxis[i].showForNullSeries&&a.isSeriesNull(i)&&s.globals.collapsedSeriesIndices.indexOf(i)===-1}},{key:"getYAxisForeColor",value:function(i,s){var a=this.w;return Array.isArray(i)&&a.globals.yAxisScale[s]&&this.ctx.theme.pushExtraColors(i,a.globals.yAxisScale[s].result.length,!1),i}},{key:"drawYAxisTicks",value:function(i,s,a,l,h,c,d){var g=this.w,b=new V(this.ctx),x=g.globals.translateY;if(l.show&&s>0){g.config.yaxis[h].opposite===!0&&(i+=l.width);for(var v=s;v>=0;v--){var _=x+s/10+g.config.yaxis[h].labels.offsetY-1;g.globals.isBarHorizontal&&(_=c*v),g.config.chart.type==="heatmap"&&(_+=c/2);var k=b.drawLine(i+a.offsetX-l.width+l.offsetX,_+l.offsetY,i+a.offsetX+l.offsetX,_+l.offsetY,l.color);d.add(k),x+=c}}}}]),L}(),xi=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w}return m(L,[{key:"scaleSvgNode",value:function(i,s){var a=parseFloat(i.getAttributeNS(null,"width")),l=parseFloat(i.getAttributeNS(null,"height"));i.setAttributeNS(null,"width",a*s),i.setAttributeNS(null,"height",l*s),i.setAttributeNS(null,"viewBox","0 0 "+a+" "+l)}},{key:"fixSvgStringForIe11",value:function(i){if(!R.isIE11())return i.replace(/&nbsp;/g,"&#160;");var s=0,a=i.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(l){return++s===2?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':l});return a=(a=a.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(i){i==null&&(i=1);var s=this.w.globals.dom.Paper.svg();if(i!==1){var a=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(a,i),s=new XMLSerializer().serializeToString(a)}return this.fixSvgStringForIe11(s)}},{key:"cleanup",value:function(){var i=this.w,s=i.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),a=i.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),l=i.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(l,function(h){h.setAttribute("width",0)}),s&&s[0]&&(s[0].setAttribute("x",-500),s[0].setAttribute("x1",-500),s[0].setAttribute("x2",-500)),a&&a[0]&&(a[0].setAttribute("y",-100),a[0].setAttribute("y1",-100),a[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var i=this.getSvgString(),s=new Blob([i],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(s)}},{key:"dataURI",value:function(i){var s=this;return new Promise(function(a){var l=s.w,h=i?i.scale||i.width/l.globals.svgWidth:1;s.cleanup();var c=document.createElement("canvas");c.width=l.globals.svgWidth*h,c.height=parseInt(l.globals.dom.elWrap.style.height,10)*h;var d=l.config.chart.background==="transparent"?"#fff":l.config.chart.background,g=c.getContext("2d");g.fillStyle=d,g.fillRect(0,0,c.width*h,c.height*h);var b=s.getSvgString(h);if(window.canvg&&R.isIE11()){var x=window.canvg.Canvg.fromString(g,b,{ignoreClear:!0,ignoreDimensions:!0});x.start();var v=c.msToBlob();x.stop(),a({blob:v})}else{var _="data:image/svg+xml,"+encodeURIComponent(b),k=new Image;k.crossOrigin="anonymous",k.onload=function(){if(g.drawImage(k,0,0),c.msToBlob){var A=c.msToBlob();a({blob:A})}else{var F=c.toDataURL("image/png");a({imgURI:F})}},k.src=_}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var i=this;this.dataURI().then(function(s){var a=s.imgURI,l=s.blob;l?navigator.msSaveOrOpenBlob(l,i.w.globals.chartID+".png"):i.triggerDownload(a,i.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(i){var s=this,a=i.series,l=i.fileName,h=i.columnDelimiter,c=h===void 0?",":h,d=i.lineDelimiter,g=d===void 0?`
`:d,b=this.w;a||(a=b.config.series);var x=[],v=[],_="",k=b.globals.series.map(function(p,w){return b.globals.collapsedSeriesIndices.indexOf(w)===-1?p:[]}),A=Math.max.apply(Math,O(a.map(function(p){return p.data?p.data.length:0}))),F=new Gi(this.ctx),E=new St(this.ctx),I=function(p){var w="";if(b.globals.axisCharts){if(b.config.xaxis.type==="category"||b.config.xaxis.convertedCatToNumeric)if(b.globals.isBarHorizontal){var P=b.globals.yLabelFormatters[0],B=new Ee(s.ctx).getActiveConfigSeriesIndex();w=P(b.globals.labels[p],{seriesIndex:B,dataPointIndex:p,w:b})}else w=E.getLabel(b.globals.labels,b.globals.timescaleLabels,0,p).text;b.config.xaxis.type==="datetime"&&(b.config.xaxis.categories.length?w=b.config.xaxis.categories[p]:b.config.labels.length&&(w=b.config.labels[p]))}else w=b.config.labels[p];return Array.isArray(w)&&(w=w.join(" ")),R.isNumber(w)?w:w.split(c).join("")},Y=function(p,w){if(x.length&&w===0&&v.push(x.join(c)),p.data){p.data=p.data.length&&p.data||O(Array(A)).map(function(){return""});for(var P=0;P<p.data.length;P++){x=[];var B=I(P);if(B||(F.isFormatXY()?B=a[w].data[P].x:F.isFormat2DArray()&&(B=a[w].data[P]?a[w].data[P][0]:"")),w===0){x.push((q=B,b.config.xaxis.type==="datetime"&&String(q).length>=10?b.config.chart.toolbar.export.csv.dateFormatter(B):R.isNumber(B)?B:B.split(c).join("")));for(var j=0;j<b.globals.series.length;j++){var H;F.isFormatXY()?x.push((H=a[j].data[P])===null||H===void 0?void 0:H.y):x.push(k[j][P])}}(b.config.chart.type==="candlestick"||p.type&&p.type==="candlestick")&&(x.pop(),x.push(b.globals.seriesCandleO[w][P]),x.push(b.globals.seriesCandleH[w][P]),x.push(b.globals.seriesCandleL[w][P]),x.push(b.globals.seriesCandleC[w][P])),(b.config.chart.type==="boxPlot"||p.type&&p.type==="boxPlot")&&(x.pop(),x.push(b.globals.seriesCandleO[w][P]),x.push(b.globals.seriesCandleH[w][P]),x.push(b.globals.seriesCandleM[w][P]),x.push(b.globals.seriesCandleL[w][P]),x.push(b.globals.seriesCandleC[w][P])),b.config.chart.type==="rangeBar"&&(x.pop(),x.push(b.globals.seriesRangeStart[w][P]),x.push(b.globals.seriesRangeEnd[w][P])),x.length&&v.push(x.join(c))}}var q};x.push(b.config.chart.toolbar.export.csv.headerCategory),b.config.chart.type==="boxPlot"?(x.push("minimum"),x.push("q1"),x.push("median"),x.push("q3"),x.push("maximum")):b.config.chart.type==="candlestick"?(x.push("open"),x.push("high"),x.push("low"),x.push("close")):b.config.chart.type==="rangeBar"?(x.push("minimum"),x.push("maximum")):a.map(function(p,w){var P=(p.name?p.name:"series-".concat(w))+"";b.globals.axisCharts&&x.push(P.split(c).join("")?P.split(c).join(""):"series-".concat(w))}),b.globals.axisCharts||(x.push(b.config.chart.toolbar.export.csv.headerValue),v.push(x.join(c))),a.map(function(p,w){b.globals.axisCharts?Y(p,w):((x=[]).push(b.globals.labels[w].split(c).join("")),x.push(k[w]),v.push(x.join(c)))}),_+=v.join(g),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+_),l||b.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(i,s,a){var l=document.createElement("a");l.href=i,l.download=(s||this.w.globals.chartID)+a,document.body.appendChild(l),l.click(),document.body.removeChild(l)}}]),L}(),zt=function(){function L(i,s){u(this,L),this.ctx=i,this.elgrid=s,this.w=i.w;var a=this.w;this.axesUtils=new St(i),this.xaxisLabels=a.globals.labels.slice(),a.globals.timescaleLabels.length>0&&!a.globals.isBarHorizontal&&(this.xaxisLabels=a.globals.timescaleLabels.slice()),a.config.xaxis.overwriteCategories&&(this.xaxisLabels=a.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],a.config.xaxis.position==="top"?this.offY=0:this.offY=a.globals.gridHeight+1,this.offY=this.offY+a.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=a.config.chart.type==="bar"&&a.config.plotOptions.bar.horizontal,this.xaxisFontSize=a.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=a.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=a.config.xaxis.labels.style.colors,this.xaxisBorderWidth=a.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=a.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=a.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=a.config.xaxis.axisBorder.height,this.yaxis=a.config.yaxis[0]}return m(L,[{key:"drawXaxis",value:function(){var i=this.w,s=new V(this.ctx),a=s.group({class:"apexcharts-xaxis",transform:"translate(".concat(i.config.xaxis.offsetX,", ").concat(i.config.xaxis.offsetY,")")}),l=s.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(i.globals.translateXAxisX,", ").concat(i.globals.translateXAxisY,")")});a.add(l);for(var h=[],c=0;c<this.xaxisLabels.length;c++)h.push(this.xaxisLabels[c]);if(this.drawXAxisLabelAndGroup(!0,s,l,h,i.globals.isXNumeric,function(A,F){return F}),i.globals.hasXaxisGroups){var d=i.globals.groups;h=[];for(var g=0;g<d.length;g++)h.push(d[g].title);var b={};i.config.xaxis.group.style&&(b.xaxisFontSize=i.config.xaxis.group.style.fontSize,b.xaxisFontFamily=i.config.xaxis.group.style.fontFamily,b.xaxisForeColors=i.config.xaxis.group.style.colors,b.fontWeight=i.config.xaxis.group.style.fontWeight,b.cssClass=i.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,s,l,h,!1,function(A,F){return d[A].cols*F},b)}if(i.config.xaxis.title.text!==void 0){var x=s.group({class:"apexcharts-xaxis-title"}),v=s.drawText({x:i.globals.gridWidth/2+i.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(i.config.xaxis.position==="bottom"?i.globals.xAxisLabelsHeight:-i.globals.xAxisLabelsHeight-10)+i.config.xaxis.title.offsetY,text:i.config.xaxis.title.text,textAnchor:"middle",fontSize:i.config.xaxis.title.style.fontSize,fontFamily:i.config.xaxis.title.style.fontFamily,fontWeight:i.config.xaxis.title.style.fontWeight,foreColor:i.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+i.config.xaxis.title.style.cssClass});x.add(v),a.add(x)}if(i.config.xaxis.axisBorder.show){var _=i.globals.barPadForNumericAxis,k=s.drawLine(i.globals.padHorizontal+i.config.xaxis.axisBorder.offsetX-_,this.offY,this.xaxisBorderWidth+_,this.offY,i.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&i.config.grid.show?this.elgrid.elGridBorders.add(k):a.add(k)}return a}},{key:"drawXAxisLabelAndGroup",value:function(i,s,a,l,h,c){var d,g=this,b=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},x=[],v=[],_=this.w,k=b.xaxisFontSize||this.xaxisFontSize,A=b.xaxisFontFamily||this.xaxisFontFamily,F=b.xaxisForeColors||this.xaxisForeColors,E=b.fontWeight||_.config.xaxis.labels.style.fontWeight,I=b.cssClass||_.config.xaxis.labels.style.cssClass,Y=_.globals.padHorizontal,p=l.length,w=_.config.xaxis.type==="category"?_.globals.dataPoints:p;if(w===0&&p>w&&(w=p),h){var P=w>1?w-1:w;d=_.globals.gridWidth/Math.min(P,p-1),Y=Y+c(0,d)/2+_.config.xaxis.labels.offsetX}else d=_.globals.gridWidth/w,Y=Y+c(0,d)+_.config.xaxis.labels.offsetX;for(var B=function(H){var q=Y-c(H,d)/2+_.config.xaxis.labels.offsetX;H===0&&p===1&&d/2===Y&&w===1&&(q=_.globals.gridWidth/2);var Z=g.axesUtils.getLabel(l,_.globals.timescaleLabels,q,H,x,k,i),te=28;if(_.globals.rotateXLabels&&i&&(te=22),_.config.xaxis.title.text&&_.config.xaxis.position==="top"&&(te+=parseFloat(_.config.xaxis.title.style.fontSize)+2),i||(te=te+parseFloat(k)+(_.globals.xAxisLabelsHeight-_.globals.xAxisGroupLabelsHeight)+(_.globals.rotateXLabels?10:0)),Z=_.config.xaxis.tickAmount!==void 0&&_.config.xaxis.tickAmount!=="dataPoints"&&_.config.xaxis.type!=="datetime"?g.axesUtils.checkLabelBasedOnTickamount(H,Z,p):g.axesUtils.checkForOverflowingLabels(H,Z,p,x,v),_.config.xaxis.labels.show){var ne=s.drawText({x:Z.x,y:g.offY+_.config.xaxis.labels.offsetY+te-(_.config.xaxis.position==="top"?_.globals.xAxisHeight+_.config.xaxis.axisTicks.height-2:0),text:Z.text,textAnchor:"middle",fontWeight:Z.isBold?600:E,fontSize:k,fontFamily:A,foreColor:Array.isArray(F)?i&&_.config.xaxis.convertedCatToNumeric?F[_.globals.minX+H-1]:F[H]:F,isPlainText:!1,cssClass:(i?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+I});if(a.add(ne),ne.on("click",function(de){if(typeof _.config.chart.events.xAxisLabelClick=="function"){var ge=Object.assign({},_,{labelIndex:H});_.config.chart.events.xAxisLabelClick(de,g.ctx,ge)}}),i){var ie=document.createElementNS(_.globals.SVGNS,"title");ie.textContent=Array.isArray(Z.text)?Z.text.join(" "):Z.text,ne.node.appendChild(ie),Z.text!==""&&(x.push(Z.text),v.push(Z))}}H<p-1&&(Y+=c(H+1,d))},j=0;j<=p-1;j++)B(j)}},{key:"drawXaxisInversed",value:function(i){var s,a,l=this,h=this.w,c=new V(this.ctx),d=h.config.yaxis[0].opposite?h.globals.translateYAxisX[i]:0,g=c.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:i}),b=c.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+d+", 0)"});g.add(b);var x=[];if(h.config.yaxis[i].show)for(var v=0;v<this.xaxisLabels.length;v++)x.push(this.xaxisLabels[v]);s=h.globals.gridHeight/x.length,a=-s/2.2;var _=h.globals.yLabelFormatters[0],k=h.config.yaxis[0].labels;if(k.show)for(var A=function(P){var B=x[P]===void 0?"":x[P];B=_(B,{seriesIndex:i,dataPointIndex:P,w:h});var j=l.axesUtils.getYAxisForeColor(k.style.colors,i),H=0;Array.isArray(B)&&(H=B.length/2*parseInt(k.style.fontSize,10));var q=k.offsetX-15,Z="end";l.yaxis.opposite&&(Z="start"),h.config.yaxis[0].labels.align==="left"?(q=k.offsetX,Z="start"):h.config.yaxis[0].labels.align==="center"?(q=k.offsetX,Z="middle"):h.config.yaxis[0].labels.align==="right"&&(Z="end");var te=c.drawText({x:q,y:a+s+k.offsetY-H,text:B,textAnchor:Z,foreColor:Array.isArray(j)?j[P]:j,fontSize:k.style.fontSize,fontFamily:k.style.fontFamily,fontWeight:k.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+k.style.cssClass,maxWidth:k.maxWidth});b.add(te),te.on("click",function(de){if(typeof h.config.chart.events.xAxisLabelClick=="function"){var ge=Object.assign({},h,{labelIndex:P});h.config.chart.events.xAxisLabelClick(de,l.ctx,ge)}});var ne=document.createElementNS(h.globals.SVGNS,"title");if(ne.textContent=Array.isArray(B)?B.join(" "):B,te.node.appendChild(ne),h.config.yaxis[i].labels.rotate!==0){var ie=c.rotateAroundCenter(te.node);te.node.setAttribute("transform","rotate(".concat(h.config.yaxis[i].labels.rotate," 0 ").concat(ie.y,")"))}a+=s},F=0;F<=x.length-1;F++)A(F);if(h.config.yaxis[0].title.text!==void 0){var E=c.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+d+", 0)"}),I=c.drawText({x:h.config.yaxis[0].title.offsetX,y:h.globals.gridHeight/2+h.config.yaxis[0].title.offsetY,text:h.config.yaxis[0].title.text,textAnchor:"middle",foreColor:h.config.yaxis[0].title.style.color,fontSize:h.config.yaxis[0].title.style.fontSize,fontWeight:h.config.yaxis[0].title.style.fontWeight,fontFamily:h.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+h.config.yaxis[0].title.style.cssClass});E.add(I),g.add(E)}var Y=0;this.isCategoryBarHorizontal&&h.config.yaxis[0].opposite&&(Y=h.globals.gridWidth);var p=h.config.xaxis.axisBorder;if(p.show){var w=c.drawLine(h.globals.padHorizontal+p.offsetX+Y,1+p.offsetY,h.globals.padHorizontal+p.offsetX+Y,h.globals.gridHeight+p.offsetY,p.color,0);this.elgrid&&this.elgrid.elGridBorders&&h.config.grid.show?this.elgrid.elGridBorders.add(w):g.add(w)}return h.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(Y,x.length,h.config.yaxis[0].axisBorder,h.config.yaxis[0].axisTicks,0,s,g),g}},{key:"drawXaxisTicks",value:function(i,s,a){var l=this.w,h=i;if(!(i<0||i-2>l.globals.gridWidth)){var c=this.offY+l.config.xaxis.axisTicks.offsetY;if(s=s+c+l.config.xaxis.axisTicks.height,l.config.xaxis.position==="top"&&(s=c-l.config.xaxis.axisTicks.height),l.config.xaxis.axisTicks.show){var d=new V(this.ctx).drawLine(i+l.config.xaxis.axisTicks.offsetX,c+l.config.xaxis.offsetY,h+l.config.xaxis.axisTicks.offsetX,s+l.config.xaxis.offsetY,l.config.xaxis.axisTicks.color);a.add(d),d.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var i=this.w,s=[],a=this.xaxisLabels.length,l=i.globals.padHorizontal;if(i.globals.timescaleLabels.length>0)for(var h=0;h<a;h++)l=this.xaxisLabels[h].position,s.push(l);else for(var c=a,d=0;d<c;d++){var g=c;i.globals.isXNumeric&&i.config.chart.type!=="bar"&&(g-=1),l+=i.globals.gridWidth/g,s.push(l)}return s}},{key:"xAxisLabelCorrections",value:function(){var i=this.w,s=new V(this.ctx),a=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),l=i.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),h=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),c=i.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(i.globals.rotateXLabels||i.config.xaxis.labels.rotateAlways)for(var d=0;d<l.length;d++){var g=s.rotateAroundCenter(l[d]);g.y=g.y-1,g.x=g.x+1,l[d].setAttribute("transform","rotate(".concat(i.config.xaxis.labels.rotate," ").concat(g.x," ").concat(g.y,")")),l[d].setAttribute("text-anchor","end"),a.setAttribute("transform","translate(0, ".concat(-10,")"));var b=l[d].childNodes;i.config.xaxis.labels.trim&&Array.prototype.forEach.call(b,function(k){s.placeTextWithEllipsis(k,k.textContent,i.globals.xAxisLabelsHeight-(i.config.legend.position==="bottom"?20:10))})}else(function(){for(var k=i.globals.gridWidth/(i.globals.labels.length+1),A=0;A<l.length;A++){var F=l[A].childNodes;i.config.xaxis.labels.trim&&i.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(F,function(E){s.placeTextWithEllipsis(E,E.textContent,k)})}})();if(h.length>0){var x=h[h.length-1].getBBox(),v=h[0].getBBox();x.x<-20&&h[h.length-1].parentNode.removeChild(h[h.length-1]),v.x+v.width>i.globals.gridWidth&&!i.globals.isBarHorizontal&&h[0].parentNode.removeChild(h[0]);for(var _=0;_<c.length;_++)s.placeTextWithEllipsis(c[_],c[_].textContent,i.config.yaxis[0].labels.maxWidth-(i.config.yaxis[0].title.text?2*parseFloat(i.config.yaxis[0].title.style.fontSize):0)-15)}}}]),L}(),Ui=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w;var s=this.w;this.xaxisLabels=s.globals.labels.slice(),this.axesUtils=new St(i),this.isRangeBar=s.globals.seriesRange.length&&s.globals.isBarHorizontal,s.globals.timescaleLabels.length>0&&(this.xaxisLabels=s.globals.timescaleLabels.slice())}return m(L,[{key:"drawGridArea",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=this.w,a=new V(this.ctx);i===null&&(i=a.group({class:"apexcharts-grid"}));var l=a.drawLine(s.globals.padHorizontal,1,s.globals.padHorizontal,s.globals.gridHeight,"transparent"),h=a.drawLine(s.globals.padHorizontal,s.globals.gridHeight,s.globals.gridWidth,s.globals.gridHeight,"transparent");return i.add(h),i.add(l),i}},{key:"drawGrid",value:function(){var i=null;return this.w.globals.axisCharts&&(i=this.renderGrid(),this.drawGridArea(i.el)),i}},{key:"createGridMask",value:function(){var i=this.w,s=i.globals,a=new V(this.ctx),l=Array.isArray(i.config.stroke.width)?0:i.config.stroke.width;if(Array.isArray(i.config.stroke.width)){var h=0;i.config.stroke.width.forEach(function(v){h=Math.max(h,v)}),l=h}s.dom.elGridRectMask=document.createElementNS(s.SVGNS,"clipPath"),s.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(s.cuid)),s.dom.elGridRectMarkerMask=document.createElementNS(s.SVGNS,"clipPath"),s.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(s.cuid)),s.dom.elForecastMask=document.createElementNS(s.SVGNS,"clipPath"),s.dom.elForecastMask.setAttribute("id","forecastMask".concat(s.cuid)),s.dom.elNonForecastMask=document.createElementNS(s.SVGNS,"clipPath"),s.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(s.cuid));var c=i.config.chart.type,d=0,g=0;(c==="bar"||c==="rangeBar"||c==="candlestick"||c==="boxPlot"||i.globals.comboBarCount>0)&&i.globals.isXNumeric&&!i.globals.isBarHorizontal&&(d=i.config.grid.padding.left,g=i.config.grid.padding.right,s.barPadForNumericAxis>d&&(d=s.barPadForNumericAxis,g=s.barPadForNumericAxis)),s.dom.elGridRect=a.drawRect(-l/2-d-2,-l/2,s.gridWidth+l+g+d+4,s.gridHeight+l,0,"#fff");var b=i.globals.markers.largestSize+1;s.dom.elGridRectMarker=a.drawRect(2*-b,2*-b,s.gridWidth+4*b,s.gridHeight+4*b,0,"#fff"),s.dom.elGridRectMask.appendChild(s.dom.elGridRect.node),s.dom.elGridRectMarkerMask.appendChild(s.dom.elGridRectMarker.node);var x=s.dom.baseEl.querySelector("defs");x.appendChild(s.dom.elGridRectMask),x.appendChild(s.dom.elForecastMask),x.appendChild(s.dom.elNonForecastMask),x.appendChild(s.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(i){var s=i.i,a=i.x1,l=i.y1,h=i.x2,c=i.y2,d=i.xCount,g=i.parent,b=this.w;if(!(s===0&&b.globals.skipFirstTimelinelabel||s===d-1&&b.globals.skipLastTimelinelabel&&!b.config.xaxis.labels.formatter||b.config.chart.type==="radar")){b.config.grid.xaxis.lines.show&&this._drawGridLine({i:s,x1:a,y1:l,x2:h,y2:c,xCount:d,parent:g});var x=0;if(b.globals.hasXaxisGroups&&b.config.xaxis.tickPlacement==="between"){var v=b.globals.groups;if(v){for(var _=0,k=0;_<s&&k<v.length;k++)_+=v[k].cols;_===s&&(x=.6*b.globals.xAxisLabelsHeight)}}new zt(this.ctx).drawXaxisTicks(a,x,b.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(i){var s=i.i,a=i.x1,l=i.y1,h=i.x2,c=i.y2,d=i.xCount,g=i.parent,b=this.w,x=!1,v=g.node.classList.contains("apexcharts-gridlines-horizontal"),_=b.config.grid.strokeDashArray,k=b.globals.barPadForNumericAxis;(l===0&&c===0||a===0&&h===0)&&(x=!0),l===b.globals.gridHeight&&c===b.globals.gridHeight&&(x=!0),!b.globals.isBarHorizontal||s!==0&&s!==d-1||(x=!0);var A=new V(this).drawLine(a-(v?k:0),l,h+(v?k:0),c,b.config.grid.borderColor,_);A.node.classList.add("apexcharts-gridline"),x&&b.config.grid.show?this.elGridBorders.add(A):g.add(A)}},{key:"_drawGridBandRect",value:function(i){var s=i.c,a=i.x1,l=i.y1,h=i.x2,c=i.y2,d=i.type,g=this.w,b=new V(this.ctx),x=g.globals.barPadForNumericAxis;if(d!=="column"||g.config.xaxis.type!=="datetime"){var v=g.config.grid[d].colors[s],_=b.drawRect(a-(d==="row"?x:0),l,h+(d==="row"?2*x:0),c,0,v,g.config.grid[d].opacity);this.elg.add(_),_.attr("clip-path","url(#gridRectMask".concat(g.globals.cuid,")")),_.node.classList.add("apexcharts-grid-".concat(d))}}},{key:"_drawXYLines",value:function(i){var s=this,a=i.xCount,l=i.tickAmount,h=this.w;if(h.config.grid.xaxis.lines.show||h.config.xaxis.axisTicks.show){var c,d=h.globals.padHorizontal,g=h.globals.gridHeight;h.globals.timescaleLabels.length?function(A){for(var F=A.xC,E=A.x1,I=A.y1,Y=A.x2,p=A.y2,w=0;w<F;w++)E=s.xaxisLabels[w].position,Y=s.xaxisLabels[w].position,s._drawGridLines({i:w,x1:E,y1:I,x2:Y,y2:p,xCount:a,parent:s.elgridLinesV})}({xC:a,x1:d,y1:0,x2:c,y2:g}):(h.globals.isXNumeric&&(a=h.globals.xAxisScale.result.length),function(A){for(var F=A.xC,E=A.x1,I=A.y1,Y=A.x2,p=A.y2,w=0;w<F+(h.globals.isXNumeric?0:1);w++)w===0&&F===1&&h.globals.dataPoints===1&&(Y=E=h.globals.gridWidth/2),s._drawGridLines({i:w,x1:E,y1:I,x2:Y,y2:p,xCount:a,parent:s.elgridLinesV}),Y=E+=h.globals.gridWidth/(h.globals.isXNumeric?F-1:F)}({xC:a,x1:d,y1:0,x2:c,y2:g}))}if(h.config.grid.yaxis.lines.show){var b=0,x=0,v=h.globals.gridWidth,_=l+1;this.isRangeBar&&(_=h.globals.labels.length);for(var k=0;k<_+(this.isRangeBar?1:0);k++)this._drawGridLine({i:k,xCount:_+(this.isRangeBar?1:0),x1:0,y1:b,x2:v,y2:x,parent:this.elgridLinesH}),x=b+=h.globals.gridHeight/(this.isRangeBar?_:l)}}},{key:"_drawInvertedXYLines",value:function(i){var s=i.xCount,a=this.w;if(a.config.grid.xaxis.lines.show||a.config.xaxis.axisTicks.show)for(var l,h=a.globals.padHorizontal,c=a.globals.gridHeight,d=0;d<s+1;d++)a.config.grid.xaxis.lines.show&&this._drawGridLine({i:d,xCount:s+1,x1:h,y1:0,x2:l,y2:c,parent:this.elgridLinesV}),new zt(this.ctx).drawXaxisTicks(h,0,a.globals.dom.elGraphical),l=h=h+a.globals.gridWidth/s+.3;if(a.config.grid.yaxis.lines.show)for(var g=0,b=0,x=a.globals.gridWidth,v=0;v<a.globals.dataPoints+1;v++)this._drawGridLine({i:v,xCount:a.globals.dataPoints+1,x1:0,y1:g,x2:x,y2:b,parent:this.elgridLinesH}),b=g+=a.globals.gridHeight/a.globals.dataPoints}},{key:"renderGrid",value:function(){var i=this.w,s=new V(this.ctx);this.elg=s.group({class:"apexcharts-grid"}),this.elgridLinesH=s.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=s.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=s.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),i.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var a,l=i.globals.yAxisScale.length?i.globals.yAxisScale[0].result.length-1:5,h=0;h<i.globals.series.length&&(i.globals.yAxisScale[h]!==void 0&&(l=i.globals.yAxisScale[h].result.length-1),!(l>2));h++);return!i.globals.isBarHorizontal||this.isRangeBar?(a=this.xaxisLabels.length,this.isRangeBar&&(a--,l=i.globals.labels.length,i.config.xaxis.tickAmount&&i.config.xaxis.labels.formatter&&(a=i.config.xaxis.tickAmount)),this._drawXYLines({xCount:a,tickAmount:l})):(a=l,l=i.globals.xTickAmount,this._drawInvertedXYLines({xCount:a,tickAmount:l})),this.drawGridBands(a,l),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:i.globals.gridWidth/a}}},{key:"drawGridBands",value:function(i,s){var a=this.w;if(a.config.grid.row.colors!==void 0&&a.config.grid.row.colors.length>0)for(var l=0,h=a.globals.gridHeight/s,c=a.globals.gridWidth,d=0,g=0;d<s;d++,g++)g>=a.config.grid.row.colors.length&&(g=0),this._drawGridBandRect({c:g,x1:0,y1:l,x2:c,y2:h,type:"row"}),l+=a.globals.gridHeight/s;if(a.config.grid.column.colors!==void 0&&a.config.grid.column.colors.length>0)for(var b=a.globals.isBarHorizontal||a.config.xaxis.tickPlacement!=="on"||a.config.xaxis.type!=="category"&&!a.config.xaxis.convertedCatToNumeric?i:i-1,x=a.globals.padHorizontal,v=a.globals.padHorizontal+a.globals.gridWidth/b,_=a.globals.gridHeight,k=0,A=0;k<i;k++,A++)A>=a.config.grid.column.colors.length&&(A=0),this._drawGridBandRect({c:A,x1:x,y1:0,x2:v,y2:_,type:"column"}),x+=a.globals.gridWidth/b}}]),L}(),vi=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w}return m(L,[{key:"niceScale",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4?arguments[4]:void 0,c=this.w,d=Math.abs(s-i);if((a=this._adjustTicksForSmallRange(a,l,d))==="dataPoints"&&(a=c.globals.dataPoints-1),i===Number.MIN_VALUE&&s===0||!R.isNumber(i)&&!R.isNumber(s)||i===Number.MIN_VALUE&&s===-Number.MAX_VALUE)return i=0,s=a,this.linearScale(i,s,a);i>s?(console.warn("axis.min cannot be greater than axis.max"),s=i+.1):i===s&&(i=i===0?0:i-.5,s=s===0?2:s+.5);var g=[];d<1&&h&&(c.config.chart.type==="candlestick"||c.config.series[l].type==="candlestick"||c.config.chart.type==="boxPlot"||c.config.series[l].type==="boxPlot"||c.globals.isRangeData)&&(s*=1.01);var b=a+1;b<2?b=2:b>2&&(b-=2);var x=d/b,v=Math.floor(R.log10(x)),_=Math.pow(10,v),k=Math.round(x/_);k<1&&(k=1);var A=k*_,F=A*Math.floor(i/A),E=A*Math.ceil(s/A),I=F;if(h&&d>2){for(;g.push(R.stripNumber(I,7)),!((I+=A)>E););return{result:g,niceMin:g[0],niceMax:g[g.length-1]}}var Y=i;(g=[]).push(R.stripNumber(Y,7));for(var p=Math.abs(s-i)/a,w=0;w<=a;w++)Y+=p,g.push(Y);return g[g.length-2]>=s&&g.pop(),{result:g,niceMin:g[0],niceMax:g[g.length-1]}}},{key:"linearScale",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,l=arguments.length>3?arguments[3]:void 0,h=Math.abs(s-i);(a=this._adjustTicksForSmallRange(a,l,h))==="dataPoints"&&(a=this.w.globals.dataPoints-1);var c=h/a;a===Number.MAX_VALUE&&(a=10,c=1);for(var d=[],g=i;a>=0;)d.push(g),g+=c,a-=1;return{result:d,niceMin:d[0],niceMax:d[d.length-1]}}},{key:"logarithmicScaleNice",value:function(i,s,a){s<=0&&(s=Math.max(i,a)),i<=0&&(i=Math.min(s,a));for(var l=[],h=Math.ceil(Math.log(s)/Math.log(a)+1),c=Math.floor(Math.log(i)/Math.log(a));c<h;c++)l.push(Math.pow(a,c));return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"logarithmicScale",value:function(i,s,a){s<=0&&(s=Math.max(i,a)),i<=0&&(i=Math.min(s,a));for(var l=[],h=Math.log(s)/Math.log(a),c=Math.log(i)/Math.log(a),d=h-c,g=Math.round(d),b=d/g,x=0,v=c;x<g;x++,v+=b)l.push(Math.pow(a,v));return l.push(Math.pow(a,h)),{result:l,niceMin:i,niceMax:s}}},{key:"_adjustTicksForSmallRange",value:function(i,s,a){var l=i;if(s!==void 0&&this.w.config.yaxis[s].labels.formatter&&this.w.config.yaxis[s].tickAmount===void 0){var h=Number(this.w.config.yaxis[s].labels.formatter(1));R.isNumber(h)&&this.w.globals.yValueDecimal===0&&(l=Math.ceil(a))}return l<i?l:i}},{key:"setYScaleForIndex",value:function(i,s,a){var l=this.w.globals,h=this.w.config,c=l.isBarHorizontal?h.xaxis:h.yaxis[i];l.yAxisScale[i]===void 0&&(l.yAxisScale[i]=[]);var d=Math.abs(a-s);if(c.logarithmic&&d<=5&&(l.invalidLogScale=!0),c.logarithmic&&d>5)l.allSeriesCollapsed=!1,l.yAxisScale[i]=this.logarithmicScale(s,a,c.logBase),l.yAxisScale[i]=c.forceNiceScale?this.logarithmicScaleNice(s,a,c.logBase):this.logarithmicScale(s,a,c.logBase);else if(a!==-Number.MAX_VALUE&&R.isNumber(a))if(l.allSeriesCollapsed=!1,c.min===void 0&&c.max===void 0||c.forceNiceScale){var g=h.yaxis[i].max===void 0&&h.yaxis[i].min===void 0||h.yaxis[i].forceNiceScale;l.yAxisScale[i]=this.niceScale(s,a,c.tickAmount?c.tickAmount:d<5&&d>1?d+1:5,i,g)}else l.yAxisScale[i]=this.linearScale(s,a,c.tickAmount,i);else l.yAxisScale[i]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(i,s){var a=this.w,l=a.globals,h=a.config.xaxis,c=Math.abs(s-i);return s!==-Number.MAX_VALUE&&R.isNumber(s)?l.xAxisScale=this.linearScale(i,s,h.tickAmount?h.tickAmount:c<5&&c>1?c+1:5,0):l.xAxisScale=this.linearScale(0,5,5),l.xAxisScale}},{key:"setMultipleYScales",value:function(){var i=this,s=this.w.globals,a=this.w.config,l=s.minYArr.concat([]),h=s.maxYArr.concat([]),c=[];a.yaxis.forEach(function(d,g){var b=g;a.series.forEach(function(_,k){_.name===d.seriesName&&(b=k,g!==k?c.push({index:k,similarIndex:g,alreadyExists:!0}):c.push({index:k}))});var x=l[b],v=h[b];i.setYScaleForIndex(g,x,v)}),this.sameScaleInMultipleAxes(l,h,c)}},{key:"sameScaleInMultipleAxes",value:function(i,s,a){var l=this,h=this.w.config,c=this.w.globals,d=[];a.forEach(function(F){F.alreadyExists&&(d[F.index]===void 0&&(d[F.index]=[]),d[F.index].push(F.index),d[F.index].push(F.similarIndex))}),c.yAxisSameScaleIndices=d,d.forEach(function(F,E){d.forEach(function(I,Y){var p,w;E!==Y&&(p=F,w=I,p.filter(function(P){return w.indexOf(P)!==-1})).length>0&&(d[E]=d[E].concat(d[Y]))})});var g=d.map(function(F){return F.filter(function(E,I){return F.indexOf(E)===I})}).map(function(F){return F.sort()});d=d.filter(function(F){return!!F});var b=g.slice(),x=b.map(function(F){return JSON.stringify(F)});b=b.filter(function(F,E){return x.indexOf(JSON.stringify(F))===E});var v=[],_=[];i.forEach(function(F,E){b.forEach(function(I,Y){I.indexOf(E)>-1&&(v[Y]===void 0&&(v[Y]=[],_[Y]=[]),v[Y].push({key:E,value:F}),_[Y].push({key:E,value:s[E]}))})});var k=Array.apply(null,Array(b.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),A=Array.apply(null,Array(b.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);v.forEach(function(F,E){F.forEach(function(I,Y){k[E]=Math.min(I.value,k[E])})}),_.forEach(function(F,E){F.forEach(function(I,Y){A[E]=Math.max(I.value,A[E])})}),i.forEach(function(F,E){_.forEach(function(I,Y){var p=k[Y],w=A[Y];h.chart.stacked&&(w=0,I.forEach(function(P,B){P.value!==-Number.MAX_VALUE&&(w+=P.value),p!==Number.MIN_VALUE&&(p+=v[Y][B].value)})),I.forEach(function(P,B){I[B].key===E&&(h.yaxis[E].min!==void 0&&(p=typeof h.yaxis[E].min=="function"?h.yaxis[E].min(c.minY):h.yaxis[E].min),h.yaxis[E].max!==void 0&&(w=typeof h.yaxis[E].max=="function"?h.yaxis[E].max(c.maxY):h.yaxis[E].max),l.setYScaleForIndex(E,p,w))})})})}},{key:"autoScaleY",value:function(i,s,a){i||(i=this);var l=i.w;if(l.globals.isMultipleYAxis||l.globals.collapsedSeries.length)return console.warn("autoScaleYaxis not supported in a multi-yaxis chart."),s;var h=l.globals.seriesX[0],c=l.config.chart.stacked;return s.forEach(function(d,g){for(var b=0,x=0;x<h.length;x++)if(h[x]>=a.xaxis.min){b=x;break}var v,_,k=l.globals.minYArr[g],A=l.globals.maxYArr[g],F=l.globals.stackedSeriesTotals;l.globals.series.forEach(function(E,I){var Y=E[b];c?(Y=F[b],v=_=Y,F.forEach(function(p,w){h[w]<=a.xaxis.max&&h[w]>=a.xaxis.min&&(p>_&&p!==null&&(_=p),E[w]<v&&E[w]!==null&&(v=E[w]))})):(v=_=Y,E.forEach(function(p,w){if(h[w]<=a.xaxis.max&&h[w]>=a.xaxis.min){var P=p,B=p;l.globals.series.forEach(function(j,H){p!==null&&(P=Math.min(j[w],P),B=Math.max(j[w],B))}),B>_&&B!==null&&(_=B),P<v&&P!==null&&(v=P)}})),v===void 0&&_===void 0&&(v=k,_=A),_*=_<0?.9:1.1,(v*=v<0?1.1:.9)===0&&_===0&&(v=-1,_=1),_<0&&_<A&&(_=A),v<0&&v>k&&(v=k),s.length>1?(s[I].min=d.min===void 0?v:d.min,s[I].max=d.max===void 0?_:d.max):(s[0].min=d.min===void 0?v:d.min,s[0].max=d.max===void 0?_:d.max)})}),s}}]),L}(),qi=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w,this.scales=new vi(i)}return m(L,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,h=this.w.config,c=this.w.globals,d=-Number.MAX_VALUE,g=Number.MIN_VALUE;l===null&&(l=i+1);var b=c.series,x=b,v=b;h.chart.type==="candlestick"?(x=c.seriesCandleL,v=c.seriesCandleH):h.chart.type==="boxPlot"?(x=c.seriesCandleO,v=c.seriesCandleC):c.isRangeData&&(x=c.seriesRangeStart,v=c.seriesRangeEnd);for(var _=i;_<l;_++){c.dataPoints=Math.max(c.dataPoints,b[_].length),c.categoryLabels.length&&(c.dataPoints=c.categoryLabels.filter(function(F){return F!==void 0}).length),c.labels.length&&h.xaxis.type!=="datetime"&&c.series.reduce(function(F,E){return F+E.length},0)!==0&&(c.dataPoints=Math.max(c.dataPoints,c.labels.length));for(var k=0;k<c.series[_].length;k++){var A=b[_][k];A!==null&&R.isNumber(A)?(v[_][k]!==void 0&&(d=Math.max(d,v[_][k]),s=Math.min(s,v[_][k])),x[_][k]!==void 0&&(s=Math.min(s,x[_][k]),a=Math.max(a,x[_][k])),this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"&&this.w.config.chart.type==="rangeArea"&&this.w.config.chart.type==="rangeBar"||(this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"||c.seriesCandleC[_][k]!==void 0&&(d=Math.max(d,c.seriesCandleO[_][k]),d=Math.max(d,c.seriesCandleH[_][k]),d=Math.max(d,c.seriesCandleL[_][k]),d=Math.max(d,c.seriesCandleC[_][k]),this.w.config.chart.type==="boxPlot"&&(d=Math.max(d,c.seriesCandleM[_][k]))),!h.series[_].type||h.series[_].type==="candlestick"&&h.series[_].type==="boxPlot"&&h.series[_].type==="rangeArea"&&h.series[_].type==="rangeBar"||(d=Math.max(d,c.series[_][k]),s=Math.min(s,c.series[_][k])),a=d),c.seriesGoals[_]&&c.seriesGoals[_][k]&&Array.isArray(c.seriesGoals[_][k])&&c.seriesGoals[_][k].forEach(function(F){g!==Number.MIN_VALUE&&(g=Math.min(g,F.value),s=g),d=Math.max(d,F.value),a=d}),R.isFloat(A)&&(A=R.noExponents(A),c.yValueDecimal=Math.max(c.yValueDecimal,A.toString().split(".")[1].length)),g>x[_][k]&&x[_][k]<0&&(g=x[_][k])):c.hasNullValues=!0}}return h.chart.type==="rangeBar"&&c.seriesRangeStart.length&&c.isBarHorizontal&&(g=s),h.chart.type==="bar"&&(g<0&&d<0&&(d=0),g===Number.MIN_VALUE&&(g=0)),{minY:g,maxY:d,lowestY:s,highestY:a}}},{key:"setYRange",value:function(){var i=this.w.globals,s=this.w.config;i.maxY=-Number.MAX_VALUE,i.minY=Number.MIN_VALUE;var a=Number.MAX_VALUE;if(i.isMultipleYAxis)for(var l=0;l<i.series.length;l++){var h=this.getMinYMaxY(l,a,null,l+1);i.minYArr.push(h.minY),i.maxYArr.push(h.maxY),a=h.lowestY}var c=this.getMinYMaxY(0,a,null,i.series.length);if(i.minY=c.minY,i.maxY=c.maxY,a=c.lowestY,s.chart.stacked&&this._setStackedMinMax(),(s.chart.type==="line"||s.chart.type==="area"||s.chart.type==="candlestick"||s.chart.type==="boxPlot"||s.chart.type==="rangeBar"&&!i.isBarHorizontal)&&i.minY===Number.MIN_VALUE&&a!==-Number.MAX_VALUE&&a!==i.maxY){var d=i.maxY-a;(a>=0&&a<=10||s.yaxis[0].min!==void 0||s.yaxis[0].max!==void 0)&&(d=0),i.minY=a-5*d/100,a>0&&i.minY<0&&(i.minY=0),i.maxY=i.maxY+5*d/100}return s.yaxis.forEach(function(g,b){g.max!==void 0&&(typeof g.max=="number"?i.maxYArr[b]=g.max:typeof g.max=="function"&&(i.maxYArr[b]=g.max(i.isMultipleYAxis?i.maxYArr[b]:i.maxY)),i.maxY=i.maxYArr[b]),g.min!==void 0&&(typeof g.min=="number"?i.minYArr[b]=g.min:typeof g.min=="function"&&(i.minYArr[b]=g.min(i.isMultipleYAxis?i.minYArr[b]===Number.MIN_VALUE?0:i.minYArr[b]:i.minY)),i.minY=i.minYArr[b])}),i.isBarHorizontal&&["min","max"].forEach(function(g){s.xaxis[g]!==void 0&&typeof s.xaxis[g]=="number"&&(g==="min"?i.minY=s.xaxis[g]:i.maxY=s.xaxis[g])}),i.isMultipleYAxis?(this.scales.setMultipleYScales(),i.minY=a,i.yAxisScale.forEach(function(g,b){i.minYArr[b]=g.niceMin,i.maxYArr[b]=g.niceMax})):(this.scales.setYScaleForIndex(0,i.minY,i.maxY),i.minY=i.yAxisScale[0].niceMin,i.maxY=i.yAxisScale[0].niceMax,i.minYArr[0]=i.yAxisScale[0].niceMin,i.maxYArr[0]=i.yAxisScale[0].niceMax),{minY:i.minY,maxY:i.maxY,minYArr:i.minYArr,maxYArr:i.maxYArr,yAxisScale:i.yAxisScale}}},{key:"setXRange",value:function(){var i=this.w.globals,s=this.w.config,a=s.xaxis.type==="numeric"||s.xaxis.type==="datetime"||s.xaxis.type==="category"&&!i.noLabelsProvided||i.noLabelsProvided||i.isXNumeric;if(i.isXNumeric&&function(){for(var d=0;d<i.series.length;d++)if(i.labels[d])for(var g=0;g<i.labels[d].length;g++)i.labels[d][g]!==null&&R.isNumber(i.labels[d][g])&&(i.maxX=Math.max(i.maxX,i.labels[d][g]),i.initialMaxX=Math.max(i.maxX,i.labels[d][g]),i.minX=Math.min(i.minX,i.labels[d][g]),i.initialMinX=Math.min(i.minX,i.labels[d][g]))}(),i.noLabelsProvided&&s.xaxis.categories.length===0&&(i.maxX=i.labels[i.labels.length-1],i.initialMaxX=i.labels[i.labels.length-1],i.minX=1,i.initialMinX=1),i.isXNumeric||i.noLabelsProvided||i.dataFormatXNumeric){var l;if(s.xaxis.tickAmount===void 0?(l=Math.round(i.svgWidth/150),s.xaxis.type==="numeric"&&i.dataPoints<30&&(l=i.dataPoints-1),l>i.dataPoints&&i.dataPoints!==0&&(l=i.dataPoints-1)):s.xaxis.tickAmount==="dataPoints"?(i.series.length>1&&(l=i.series[i.maxValsInArrayIndex].length-1),i.isXNumeric&&(l=i.maxX-i.minX-1)):l=s.xaxis.tickAmount,i.xTickAmount=l,s.xaxis.max!==void 0&&typeof s.xaxis.max=="number"&&(i.maxX=s.xaxis.max),s.xaxis.min!==void 0&&typeof s.xaxis.min=="number"&&(i.minX=s.xaxis.min),s.xaxis.range!==void 0&&(i.minX=i.maxX-s.xaxis.range),i.minX!==Number.MAX_VALUE&&i.maxX!==-Number.MAX_VALUE)if(s.xaxis.convertedCatToNumeric&&!i.dataFormatXNumeric){for(var h=[],c=i.minX-1;c<i.maxX;c++)h.push(c+1);i.xAxisScale={result:h,niceMin:h[0],niceMax:h[h.length-1]}}else i.xAxisScale=this.scales.setXScale(i.minX,i.maxX);else i.xAxisScale=this.scales.linearScale(0,l,l),i.noLabelsProvided&&i.labels.length>0&&(i.xAxisScale=this.scales.linearScale(1,i.labels.length,l-1),i.seriesX=i.labels.slice());a&&(i.labels=i.xAxisScale.result.slice())}return i.isBarHorizontal&&i.labels.length&&(i.xTickAmount=i.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:i.minX,maxX:i.maxX}}},{key:"setZRange",value:function(){var i=this.w.globals;if(i.isDataXYZ){for(var s=0;s<i.series.length;s++)if(i.seriesZ[s]!==void 0)for(var a=0;a<i.seriesZ[s].length;a++)i.seriesZ[s][a]!==null&&R.isNumber(i.seriesZ[s][a])&&(i.maxZ=Math.max(i.maxZ,i.seriesZ[s][a]),i.minZ=Math.min(i.minZ,i.seriesZ[s][a]))}}},{key:"_handleSingleDataPoint",value:function(){var i=this.w.globals,s=this.w.config;if(i.minX===i.maxX){var a=new Ce(this.ctx);if(s.xaxis.type==="datetime"){var l=a.getDate(i.minX);s.xaxis.labels.datetimeUTC?l.setUTCDate(l.getUTCDate()-2):l.setDate(l.getDate()-2),i.minX=new Date(l).getTime();var h=a.getDate(i.maxX);s.xaxis.labels.datetimeUTC?h.setUTCDate(h.getUTCDate()+2):h.setDate(h.getDate()+2),i.maxX=new Date(h).getTime()}else(s.xaxis.type==="numeric"||s.xaxis.type==="category"&&!i.noLabelsProvided)&&(i.minX=i.minX-2,i.initialMinX=i.minX,i.maxX=i.maxX+2,i.initialMaxX=i.maxX)}}},{key:"_getMinXDiff",value:function(){var i=this.w.globals;i.isXNumeric&&i.seriesX.forEach(function(s,a){s.length===1&&s.push(i.seriesX[i.maxValsInArrayIndex][i.seriesX[i.maxValsInArrayIndex].length-1]);var l=s.slice();l.sort(function(h,c){return h-c}),l.forEach(function(h,c){if(c>0){var d=h-l[c-1];d>0&&(i.minXDiff=Math.min(d,i.minXDiff))}}),i.dataPoints!==1&&i.minXDiff!==Number.MAX_VALUE||(i.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var i=this,s=this.w.globals;if(s.series.length){var a=s.seriesGroups;a.length||(a=[this.w.config.series.map(function(c){return c.name})]);var l={},h={};a.forEach(function(c){l[c]=[],h[c]=[],i.w.config.series.map(function(d,g){return c.indexOf(d.name)>-1?g:null}).filter(function(d){return d!==null}).forEach(function(d){for(var g=0;g<s.series[s.maxValsInArrayIndex].length;g++)l[c][g]===void 0&&(l[c][g]=0,h[c][g]=0),s.series[d][g]!==null&&R.isNumber(s.series[d][g])&&(s.series[d][g]>0?l[c][g]+=parseFloat(s.series[d][g])+1e-4:h[c][g]+=parseFloat(s.series[d][g]))})}),Object.entries(l).forEach(function(c){var d=X(c,1)[0];l[d].forEach(function(g,b){s.maxY=Math.max(s.maxY,l[d][b]),s.minY=Math.min(s.minY,h[d][b])})})}}}]),L}(),yi=function(){function L(i,s){u(this,L),this.ctx=i,this.elgrid=s,this.w=i.w;var a=this.w;this.xaxisFontSize=a.config.xaxis.labels.style.fontSize,this.axisFontFamily=a.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=a.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=a.config.chart.type==="bar"&&a.config.plotOptions.bar.horizontal,this.xAxisoffX=0,a.config.xaxis.position==="bottom"&&(this.xAxisoffX=a.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new St(i)}return m(L,[{key:"drawYaxis",value:function(i){var s=this,a=this.w,l=new V(this.ctx),h=a.config.yaxis[i].labels.style,c=h.fontSize,d=h.fontFamily,g=h.fontWeight,b=l.group({class:"apexcharts-yaxis",rel:i,transform:"translate("+a.globals.translateYAxisX[i]+", 0)"});if(this.axesUtils.isYAxisHidden(i))return b;var x=l.group({class:"apexcharts-yaxis-texts-g"});b.add(x);var v=a.globals.yAxisScale[i].result.length-1,_=a.globals.gridHeight/v,k=a.globals.translateY,A=a.globals.yLabelFormatters[i],F=a.globals.yAxisScale[i].result.slice();F=this.axesUtils.checkForReversedLabels(i,F);var E="";if(a.config.yaxis[i].labels.show)for(var I=function(q){var Z=F[q];Z=A(Z,q,a);var te=a.config.yaxis[i].labels.padding;a.config.yaxis[i].opposite&&a.config.yaxis.length!==0&&(te*=-1);var ne="end";a.config.yaxis[i].opposite&&(ne="start"),a.config.yaxis[i].labels.align==="left"?ne="start":a.config.yaxis[i].labels.align==="center"?ne="middle":a.config.yaxis[i].labels.align==="right"&&(ne="end");var ie=s.axesUtils.getYAxisForeColor(h.colors,i),de=a.config.yaxis[i].labels.offsetY;a.config.chart.type==="heatmap"&&(de-=(a.globals.gridHeight/a.globals.series.length-1)/2);var ge=l.drawText({x:te,y:k+v/10+de+1,text:Z,textAnchor:ne,fontSize:c,fontFamily:d,fontWeight:g,maxWidth:a.config.yaxis[i].labels.maxWidth,foreColor:Array.isArray(ie)?ie[q]:ie,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+h.cssClass});q===v&&(E=ge),x.add(ge);var Fe=document.createElementNS(a.globals.SVGNS,"title");if(Fe.textContent=Array.isArray(Z)?Z.join(" "):Z,ge.node.appendChild(Fe),a.config.yaxis[i].labels.rotate!==0){var Oe=l.rotateAroundCenter(E.node),Xe=l.rotateAroundCenter(ge.node);ge.node.setAttribute("transform","rotate(".concat(a.config.yaxis[i].labels.rotate," ").concat(Oe.x," ").concat(Xe.y,")"))}k+=_},Y=v;Y>=0;Y--)I(Y);if(a.config.yaxis[i].title.text!==void 0){var p=l.group({class:"apexcharts-yaxis-title"}),w=0;a.config.yaxis[i].opposite&&(w=a.globals.translateYAxisX[i]);var P=l.drawText({x:w,y:a.globals.gridHeight/2+a.globals.translateY+a.config.yaxis[i].title.offsetY,text:a.config.yaxis[i].title.text,textAnchor:"end",foreColor:a.config.yaxis[i].title.style.color,fontSize:a.config.yaxis[i].title.style.fontSize,fontWeight:a.config.yaxis[i].title.style.fontWeight,fontFamily:a.config.yaxis[i].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+a.config.yaxis[i].title.style.cssClass});p.add(P),b.add(p)}var B=a.config.yaxis[i].axisBorder,j=31+B.offsetX;if(a.config.yaxis[i].opposite&&(j=-31-B.offsetX),B.show){var H=l.drawLine(j,a.globals.translateY+B.offsetY-2,j,a.globals.gridHeight+a.globals.translateY+B.offsetY+2,B.color,0,B.width);b.add(H)}return a.config.yaxis[i].axisTicks.show&&this.axesUtils.drawYAxisTicks(j,v,B,a.config.yaxis[i].axisTicks,i,_,b),b}},{key:"drawYaxisInversed",value:function(i){var s=this.w,a=new V(this.ctx),l=a.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),h=a.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(s.globals.translateXAxisX,", ").concat(s.globals.translateXAxisY,")")});l.add(h);var c=s.globals.yAxisScale[i].result.length-1,d=s.globals.gridWidth/c+.1,g=d+s.config.xaxis.labels.offsetX,b=s.globals.xLabelFormatter,x=s.globals.yAxisScale[i].result.slice(),v=s.globals.timescaleLabels;v.length>0&&(this.xaxisLabels=v.slice(),c=(x=v.slice()).length),x=this.axesUtils.checkForReversedLabels(i,x);var _=v.length;if(s.config.xaxis.labels.show)for(var k=_?0:c;_?k<_:k>=0;_?k++:k--){var A=x[k];A=b(A,k,s);var F=s.globals.gridWidth+s.globals.padHorizontal-(g-d+s.config.xaxis.labels.offsetX);if(v.length){var E=this.axesUtils.getLabel(x,v,F,k,this.drawnLabels,this.xaxisFontSize);F=E.x,A=E.text,this.drawnLabels.push(E.text),k===0&&s.globals.skipFirstTimelinelabel&&(A=""),k===x.length-1&&s.globals.skipLastTimelinelabel&&(A="")}var I=a.drawText({x:F,y:this.xAxisoffX+s.config.xaxis.labels.offsetY+30-(s.config.xaxis.position==="top"?s.globals.xAxisHeight+s.config.xaxis.axisTicks.height-2:0),text:A,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[i]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:s.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+s.config.xaxis.labels.style.cssClass});h.add(I),I.tspan(A);var Y=document.createElementNS(s.globals.SVGNS,"title");Y.textContent=A,I.node.appendChild(Y),g+=d}return this.inversedYAxisTitleText(l),this.inversedYAxisBorder(l),l}},{key:"inversedYAxisBorder",value:function(i){var s=this.w,a=new V(this.ctx),l=s.config.xaxis.axisBorder;if(l.show){var h=0;s.config.chart.type==="bar"&&s.globals.isXNumeric&&(h-=15);var c=a.drawLine(s.globals.padHorizontal+h+l.offsetX,this.xAxisoffX,s.globals.gridWidth,this.xAxisoffX,l.color,0,l.height);this.elgrid&&this.elgrid.elGridBorders&&s.config.grid.show?this.elgrid.elGridBorders.add(c):i.add(c)}}},{key:"inversedYAxisTitleText",value:function(i){var s=this.w,a=new V(this.ctx);if(s.config.xaxis.title.text!==void 0){var l=a.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),h=a.drawText({x:s.globals.gridWidth/2+s.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(s.config.xaxis.title.style.fontSize)+s.config.xaxis.title.offsetY+20,text:s.config.xaxis.title.text,textAnchor:"middle",fontSize:s.config.xaxis.title.style.fontSize,fontFamily:s.config.xaxis.title.style.fontFamily,fontWeight:s.config.xaxis.title.style.fontWeight,foreColor:s.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+s.config.xaxis.title.style.cssClass});l.add(h),i.add(l)}}},{key:"yAxisTitleRotate",value:function(i,s){var a=this.w,l=new V(this.ctx),h={width:0,height:0},c={width:0,height:0},d=a.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-texts-g"));d!==null&&(h=d.getBoundingClientRect());var g=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-title text"));if(g!==null&&(c=g.getBoundingClientRect()),g!==null){var b=this.xPaddingForYAxisTitle(i,h,c,s);g.setAttribute("x",b.xPos-(s?10:0))}if(g!==null){var x=l.rotateAroundCenter(g);g.setAttribute("transform","rotate(".concat(s?-1*a.config.yaxis[i].title.rotate:a.config.yaxis[i].title.rotate," ").concat(x.x," ").concat(x.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(i,s,a,l){var h=this.w,c=0,d=0,g=10;return h.config.yaxis[i].title.text===void 0||i<0?{xPos:d,padd:0}:(l?(d=s.width+h.config.yaxis[i].title.offsetX+a.width/2+g/2,(c+=1)===0&&(d-=g/2)):(d=-1*s.width+h.config.yaxis[i].title.offsetX+g/2+a.width/2,h.globals.isBarHorizontal&&(g=25,d=-1*s.width-h.config.yaxis[i].title.offsetX-g)),{xPos:d,padd:g})}},{key:"setYAxisXPosition",value:function(i,s){var a=this.w,l=0,h=0,c=18,d=1;a.config.yaxis.length>1&&(this.multipleYs=!0),a.config.yaxis.map(function(g,b){var x=a.globals.ignoreYAxisIndexes.indexOf(b)>-1||!g.show||g.floating||i[b].width===0,v=i[b].width+s[b].width;g.opposite?a.globals.isBarHorizontal?(h=a.globals.gridWidth+a.globals.translateX-1,a.globals.translateYAxisX[b]=h-g.labels.offsetX):(h=a.globals.gridWidth+a.globals.translateX+d,x||(d=d+v+20),a.globals.translateYAxisX[b]=h-g.labels.offsetX+20):(l=a.globals.translateX-c,x||(c=c+v+20),a.globals.translateYAxisX[b]=l+g.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var i=this.w,s=i.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(s=R.listToArray(s)).forEach(function(a,l){var h=i.config.yaxis[l];if(h&&!h.floating&&h.labels.align!==void 0){var c=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(l,"'] .apexcharts-yaxis-texts-g")),d=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(l,"'] .apexcharts-yaxis-label"));d=R.listToArray(d);var g=c.getBoundingClientRect();h.labels.align==="left"?(d.forEach(function(b,x){b.setAttribute("text-anchor","start")}),h.opposite||c.setAttribute("transform","translate(-".concat(g.width,", 0)"))):h.labels.align==="center"?(d.forEach(function(b,x){b.setAttribute("text-anchor","middle")}),c.setAttribute("transform","translate(".concat(g.width/2*(h.opposite?1:-1),", 0)"))):h.labels.align==="right"&&(d.forEach(function(b,x){b.setAttribute("text-anchor","end")}),h.opposite&&c.setAttribute("transform","translate(".concat(g.width,", 0)")))}})}}]),L}(),Zt=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w,this.documentEvent=R.bind(this.documentEvent,this)}return m(L,[{key:"addEventListener",value:function(i,s){var a=this.w;a.globals.events.hasOwnProperty(i)?a.globals.events[i].push(s):a.globals.events[i]=[s]}},{key:"removeEventListener",value:function(i,s){var a=this.w;if(a.globals.events.hasOwnProperty(i)){var l=a.globals.events[i].indexOf(s);l!==-1&&a.globals.events[i].splice(l,1)}}},{key:"fireEvent",value:function(i,s){var a=this.w;if(a.globals.events.hasOwnProperty(i)){s&&s.length||(s=[]);for(var l=a.globals.events[i],h=l.length,c=0;c<h;c++)l[c].apply(null,s)}}},{key:"setupEventHandlers",value:function(){var i=this,s=this.w,a=this.ctx,l=s.globals.dom.baseEl.querySelector(s.globals.chartClass);this.ctx.eventList.forEach(function(h){l.addEventListener(h,function(c){var d=Object.assign({},s,{seriesIndex:s.globals.capturedSeriesIndex,dataPointIndex:s.globals.capturedDataPointIndex});c.type==="mousemove"||c.type==="touchmove"?typeof s.config.chart.events.mouseMove=="function"&&s.config.chart.events.mouseMove(c,a,d):c.type==="mouseleave"||c.type==="touchleave"?typeof s.config.chart.events.mouseLeave=="function"&&s.config.chart.events.mouseLeave(c,a,d):(c.type==="mouseup"&&c.which===1||c.type==="touchend")&&(typeof s.config.chart.events.click=="function"&&s.config.chart.events.click(c,a,d),a.ctx.events.fireEvent("click",[c,a,d]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(h){s.globals.dom.baseEl.addEventListener(h,i.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(i){var s=this.w,a=i.target.className;if(i.type==="click"){var l=s.globals.dom.baseEl.querySelector(".apexcharts-menu");l&&l.classList.contains("apexcharts-menu-open")&&a!=="apexcharts-menu-icon"&&l.classList.remove("apexcharts-menu-open")}s.globals.clientX=i.type==="touchmove"?i.touches[0].clientX:i.clientX,s.globals.clientY=i.type==="touchmove"?i.touches[0].clientY:i.clientY}}]),L}(),wi=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w}return m(L,[{key:"setCurrentLocaleValues",value:function(i){var s=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(s=this.w.config.chart.locales.concat(window.Apex.chart.locales));var a=s.filter(function(h){return h.name===i})[0];if(!a)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var l=R.extend(me,a);this.w.globals.locale=l.options}}]),L}(),fs=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w}return m(L,[{key:"drawAxis",value:function(i,s){var a,l,h=this,c=this.w.globals,d=this.w.config,g=new zt(this.ctx,s),b=new yi(this.ctx,s);c.axisCharts&&i!=="radar"&&(c.isBarHorizontal?(l=b.drawYaxisInversed(0),a=g.drawXaxisInversed(0),c.dom.elGraphical.add(a),c.dom.elGraphical.add(l)):(a=g.drawXaxis(),c.dom.elGraphical.add(a),d.yaxis.map(function(x,v){if(c.ignoreYAxisIndexes.indexOf(v)===-1&&(l=b.drawYaxis(v),c.dom.Paper.add(l),h.w.config.grid.position==="back")){var _=c.dom.Paper.children()[1];_.remove(),c.dom.Paper.add(_)}})))}}]),L}(),Ii=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w}return m(L,[{key:"drawXCrosshairs",value:function(){var i=this.w,s=new V(this.ctx),a=new N(this.ctx),l=i.config.xaxis.crosshairs.fill.gradient,h=i.config.xaxis.crosshairs.dropShadow,c=i.config.xaxis.crosshairs.fill.type,d=l.colorFrom,g=l.colorTo,b=l.opacityFrom,x=l.opacityTo,v=l.stops,_=h.enabled,k=h.left,A=h.top,F=h.blur,E=h.color,I=h.opacity,Y=i.config.xaxis.crosshairs.fill.color;if(i.config.xaxis.crosshairs.show){c==="gradient"&&(Y=s.drawGradient("vertical",d,g,b,x,null,v,null));var p=s.drawRect();i.config.xaxis.crosshairs.width===1&&(p=s.drawLine());var w=i.globals.gridHeight;(!R.isNumber(w)||w<0)&&(w=0);var P=i.config.xaxis.crosshairs.width;(!R.isNumber(P)||P<0)&&(P=0),p.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:w,width:P,height:w,fill:Y,filter:"none","fill-opacity":i.config.xaxis.crosshairs.opacity,stroke:i.config.xaxis.crosshairs.stroke.color,"stroke-width":i.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":i.config.xaxis.crosshairs.stroke.dashArray}),_&&(p=a.dropShadow(p,{left:k,top:A,blur:F,color:E,opacity:I})),i.globals.dom.elGraphical.add(p)}}},{key:"drawYCrosshairs",value:function(){var i=this.w,s=new V(this.ctx),a=i.config.yaxis[0].crosshairs,l=i.globals.barPadForNumericAxis;if(i.config.yaxis[0].crosshairs.show){var h=s.drawLine(-l,0,i.globals.gridWidth+l,0,a.stroke.color,a.stroke.dashArray,a.stroke.width);h.attr({class:"apexcharts-ycrosshairs"}),i.globals.dom.elGraphical.add(h)}var c=s.drawLine(-l,0,i.globals.gridWidth+l,0,a.stroke.color,0,0);c.attr({class:"apexcharts-ycrosshairs-hidden"}),i.globals.dom.elGraphical.add(c)}}]),L}(),wr=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w}return m(L,[{key:"checkResponsiveConfig",value:function(i){var s=this,a=this.w,l=a.config;if(l.responsive.length!==0){var h=l.responsive.slice();h.sort(function(b,x){return b.breakpoint>x.breakpoint?1:x.breakpoint>b.breakpoint?-1:0}).reverse();var c=new De({}),d=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=h[0].breakpoint,v=window.innerWidth>0?window.innerWidth:screen.width;if(v>x){var _=se.extendArrayProps(c,a.globals.initialConfig,a);b=R.extend(_,b),b=R.extend(a.config,b),s.overrideResponsiveOptions(b)}else for(var k=0;k<h.length;k++)v<h[k].breakpoint&&(b=se.extendArrayProps(c,h[k].options,a),b=R.extend(a.config,b),s.overrideResponsiveOptions(b))};if(i){var g=se.extendArrayProps(c,i,a);g=R.extend(a.config,g),d(g=R.extend(g,i))}else d({})}}},{key:"overrideResponsiveOptions",value:function(i){var s=new De(i).init({responsiveOverride:!0});this.w.config=s}}]),L}(),gs=function(){function L(i){u(this,L),this.ctx=i,this.colors=[],this.w=i.w;var s=this.w;this.isColorFn=!1,this.isHeatmapDistributed=s.config.chart.type==="treemap"&&s.config.plotOptions.treemap.distributed||s.config.chart.type==="heatmap"&&s.config.plotOptions.heatmap.distributed,this.isBarDistributed=s.config.plotOptions.bar.distributed&&(s.config.chart.type==="bar"||s.config.chart.type==="rangeBar")}return m(L,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var i,s=this,a=this.w,l=new R;if(a.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(a.config.theme.mode)),a.config.colors===void 0||((i=a.config.colors)===null||i===void 0?void 0:i.length)===0?a.globals.colors=this.predefined():(a.globals.colors=a.config.colors,Array.isArray(a.config.colors)&&a.config.colors.length>0&&typeof a.config.colors[0]=="function"&&(a.globals.colors=a.config.series.map(function(A,F){var E=a.config.colors[F];return E||(E=a.config.colors[0]),typeof E=="function"?(s.isColorFn=!0,E({value:a.globals.axisCharts?a.globals.series[F][0]?a.globals.series[F][0]:0:a.globals.series[F],seriesIndex:F,dataPointIndex:F,w:a})):E}))),a.globals.seriesColors.map(function(A,F){A&&(a.globals.colors[F]=A)}),a.config.theme.monochrome.enabled){var h=[],c=a.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(c=a.globals.series[0].length*a.globals.series.length);for(var d=a.config.theme.monochrome.color,g=1/(c/a.config.theme.monochrome.shadeIntensity),b=a.config.theme.monochrome.shadeTo,x=0,v=0;v<c;v++){var _=void 0;b==="dark"?(_=l.shadeColor(-1*x,d),x+=g):(_=l.shadeColor(x,d),x+=g),h.push(_)}a.globals.colors=h.slice()}var k=a.globals.colors.slice();this.pushExtraColors(a.globals.colors),["fill","stroke"].forEach(function(A){a.config[A].colors===void 0?a.globals[A].colors=s.isColorFn?a.config.colors:k:a.globals[A].colors=a.config[A].colors.slice(),s.pushExtraColors(a.globals[A].colors)}),a.config.dataLabels.style.colors===void 0?a.globals.dataLabels.style.colors=k:a.globals.dataLabels.style.colors=a.config.dataLabels.style.colors.slice(),this.pushExtraColors(a.globals.dataLabels.style.colors,50),a.config.plotOptions.radar.polygons.fill.colors===void 0?a.globals.radarPolygons.fill.colors=[a.config.theme.mode==="dark"?"#424242":"none"]:a.globals.radarPolygons.fill.colors=a.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(a.globals.radarPolygons.fill.colors,20),a.config.markers.colors===void 0?a.globals.markers.colors=k:a.globals.markers.colors=a.config.markers.colors.slice(),this.pushExtraColors(a.globals.markers.colors)}},{key:"pushExtraColors",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,l=this.w,h=s||l.globals.series.length;if(a===null&&(a=this.isBarDistributed||this.isHeatmapDistributed||l.config.chart.type==="heatmap"&&l.config.plotOptions.heatmap.colorScale.inverse),a&&l.globals.series.length&&(h=l.globals.series[l.globals.maxValsInArrayIndex].length*l.globals.series.length),i.length<h)for(var c=h-i.length,d=0;d<c;d++)i.push(i[d])}},{key:"updateThemeOptions",value:function(i){i.chart=i.chart||{},i.tooltip=i.tooltip||{};var s=i.theme.mode||"light",a=i.theme.palette?i.theme.palette:s==="dark"?"palette4":"palette1",l=i.chart.foreColor?i.chart.foreColor:s==="dark"?"#f6f7f8":"#373d3f";return i.tooltip.theme=s,i.chart.foreColor=l,i.theme.palette=a,i}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),L}(),_r=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w}return m(L,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(i){var s=this.w,a=i==="title"?s.config.title:s.config.subtitle,l=s.globals.svgWidth/2,h=a.offsetY,c="middle";if(a.align==="left"?(l=10,c="start"):a.align==="right"&&(l=s.globals.svgWidth-10,c="end"),l+=a.offsetX,h=h+parseInt(a.style.fontSize,10)+a.margin/2,a.text!==void 0){var d=new V(this.ctx).drawText({x:l,y:h,text:a.text,textAnchor:c,fontSize:a.style.fontSize,fontFamily:a.style.fontFamily,fontWeight:a.style.fontWeight,foreColor:a.style.color,opacity:1});d.node.setAttribute("class","apexcharts-".concat(i,"-text")),s.globals.dom.Paper.add(d)}}}]),L}(),js=function(){function L(i){u(this,L),this.w=i.w,this.dCtx=i}return m(L,[{key:"getTitleSubtitleCoords",value:function(i){var s=this.w,a=0,l=0,h=i==="title"?s.config.title.floating:s.config.subtitle.floating,c=s.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-text"));if(c!==null&&!h){var d=c.getBoundingClientRect();a=d.width,l=s.globals.axisCharts?d.height+5:d.height}return{width:a,height:l}}},{key:"getLegendsRect",value:function(){var i=this.w,s=i.globals.dom.elLegendWrap;i.config.legend.height||i.config.legend.position!=="top"&&i.config.legend.position!=="bottom"||(s.style.maxHeight=i.globals.svgHeight/2+"px");var a=Object.assign({},R.getBoundingClientRect(s));return s!==null&&!i.config.legend.floating&&i.config.legend.show?this.dCtx.lgRect={x:a.x,y:a.y,height:a.height,width:a.height===0?0:a.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},i.config.legend.position!=="left"&&i.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>i.globals.svgWidth&&(this.dCtx.lgRect.width=i.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(i,s){var a=i;if(this.w.globals.isMultiLineX){var l=s.map(function(c,d){return Array.isArray(c)?c.length:1}),h=Math.max.apply(Math,O(l));a=s[l.indexOf(h)]}return a}}]),L}(),Zi=function(){function L(i){u(this,L),this.w=i.w,this.dCtx=i}return m(L,[{key:"getxAxisLabelsCoords",value:function(){var i,s=this.w,a=s.globals.labels.slice();if(s.config.xaxis.convertedCatToNumeric&&a.length===0&&(a=s.globals.categoryLabels),s.globals.timescaleLabels.length>0){var l=this.getxAxisTimeScaleLabelsCoords();i={width:l.width,height:l.height},s.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=s.config.legend.position!=="left"&&s.config.legend.position!=="right"||s.config.legend.floating?0:this.dCtx.lgRect.width;var h=s.globals.xLabelFormatter,c=R.getLargestStringFromArr(a),d=this.dCtx.dimHelpers.getLargestStringFromMultiArr(c,a);s.globals.isBarHorizontal&&(d=c=s.globals.yAxisScale[0].result.reduce(function(A,F){return A.length>F.length?A:F},0));var g=new Ae(this.dCtx.ctx),b=c;c=g.xLabelFormat(h,c,b,{i:void 0,dateFormatter:new Ce(this.dCtx.ctx).formatDate,w:s}),d=g.xLabelFormat(h,d,b,{i:void 0,dateFormatter:new Ce(this.dCtx.ctx).formatDate,w:s}),(s.config.xaxis.convertedCatToNumeric&&c===void 0||String(c).trim()==="")&&(d=c="1");var x=new V(this.dCtx.ctx),v=x.getTextRects(c,s.config.xaxis.labels.style.fontSize),_=v;if(c!==d&&(_=x.getTextRects(d,s.config.xaxis.labels.style.fontSize)),(i={width:v.width>=_.width?v.width:_.width,height:v.height>=_.height?v.height:_.height}).width*a.length>s.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&s.config.xaxis.labels.rotate!==0||s.config.xaxis.labels.rotateAlways){if(!s.globals.isBarHorizontal){s.globals.rotateXLabels=!0;var k=function(A){return x.getTextRects(A,s.config.xaxis.labels.style.fontSize,s.config.xaxis.labels.style.fontFamily,"rotate(".concat(s.config.xaxis.labels.rotate," 0 0)"),!1)};v=k(c),c!==d&&(_=k(d)),i.height=(v.height>_.height?v.height:_.height)/1.5,i.width=v.width>_.width?v.width:_.width}}else s.globals.rotateXLabels=!1}return s.config.xaxis.labels.show||(i={width:0,height:0}),{width:i.width,height:i.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var i,s=this.w;if(!s.globals.hasXaxisGroups)return{width:0,height:0};var a,l=((i=s.config.xaxis.group.style)===null||i===void 0?void 0:i.fontSize)||s.config.xaxis.labels.style.fontSize,h=s.globals.groups.map(function(v){return v.title}),c=R.getLargestStringFromArr(h),d=this.dCtx.dimHelpers.getLargestStringFromMultiArr(c,h),g=new V(this.dCtx.ctx),b=g.getTextRects(c,l),x=b;return c!==d&&(x=g.getTextRects(d,l)),a={width:b.width>=x.width?b.width:x.width,height:b.height>=x.height?b.height:x.height},s.config.xaxis.labels.show||(a={width:0,height:0}),{width:a.width,height:a.height}}},{key:"getxAxisTitleCoords",value:function(){var i=this.w,s=0,a=0;if(i.config.xaxis.title.text!==void 0){var l=new V(this.dCtx.ctx).getTextRects(i.config.xaxis.title.text,i.config.xaxis.title.style.fontSize);s=l.width,a=l.height}return{width:s,height:a}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var i,s=this.w;this.dCtx.timescaleLabels=s.globals.timescaleLabels.slice();var a=this.dCtx.timescaleLabels.map(function(h){return h.value}),l=a.reduce(function(h,c){return h===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):h.length>c.length?h:c},0);return 1.05*(i=new V(this.dCtx.ctx).getTextRects(l,s.config.xaxis.labels.style.fontSize)).width*a.length>s.globals.gridWidth&&s.config.xaxis.labels.rotate!==0&&(s.globals.overlappingXLabels=!0),i}},{key:"additionalPaddingXLabels",value:function(i){var s=this,a=this.w,l=a.globals,h=a.config,c=h.xaxis.type,d=i.width;l.skipLastTimelinelabel=!1,l.skipFirstTimelinelabel=!1;var g=a.config.yaxis[0].opposite&&a.globals.isBarHorizontal,b=function(x,v){h.yaxis.length>1&&function(_){return l.collapsedSeriesIndices.indexOf(_)!==-1}(v)||function(_){if(s.dCtx.timescaleLabels&&s.dCtx.timescaleLabels.length){var k=s.dCtx.timescaleLabels[0],A=s.dCtx.timescaleLabels[s.dCtx.timescaleLabels.length-1].position+d/1.75-s.dCtx.yAxisWidthRight,F=k.position-d/1.75+s.dCtx.yAxisWidthLeft,E=a.config.legend.position==="right"&&s.dCtx.lgRect.width>0?s.dCtx.lgRect.width:0;A>l.svgWidth-l.translateX-E&&(l.skipLastTimelinelabel=!0),F<-(_.show&&!_.floating||h.chart.type!=="bar"&&h.chart.type!=="candlestick"&&h.chart.type!=="rangeBar"&&h.chart.type!=="boxPlot"?10:d/1.75)&&(l.skipFirstTimelinelabel=!0)}else c==="datetime"?s.dCtx.gridPad.right<d&&!l.rotateXLabels&&(l.skipLastTimelinelabel=!0):c!=="datetime"&&s.dCtx.gridPad.right<d/2-s.dCtx.yAxisWidthRight&&!l.rotateXLabels&&!a.config.xaxis.labels.trim&&(a.config.xaxis.tickPlacement!=="between"||a.globals.isBarHorizontal)&&(s.dCtx.xPadRight=d/2+1)}(x)};h.yaxis.forEach(function(x,v){g?(s.dCtx.gridPad.left<d&&(s.dCtx.xPadLeft=d/2+1),s.dCtx.xPadRight=d/2+1):b(x,v)})}}]),L}(),Oa=function(){function L(i){u(this,L),this.w=i.w,this.dCtx=i}return m(L,[{key:"getyAxisLabelsCoords",value:function(){var i=this,s=this.w,a=[],l=10,h=new St(this.dCtx.ctx);return s.config.yaxis.map(function(c,d){var g={seriesIndex:d,dataPointIndex:-1,w:s},b=s.globals.yAxisScale[d],x=0;if(!h.isYAxisHidden(d)&&c.labels.show&&c.labels.minWidth!==void 0&&(x=c.labels.minWidth),!h.isYAxisHidden(d)&&c.labels.show&&b.result.length){var v=s.globals.yLabelFormatters[d],_=b.niceMin===Number.MIN_VALUE?0:b.niceMin,k=b.result.reduce(function(w,P){var B,j;return((B=String(v(w,g)))===null||B===void 0?void 0:B.length)>((j=String(v(P,g)))===null||j===void 0?void 0:j.length)?w:P},_),A=k=v(k,g);if(k!==void 0&&k.length!==0||(k=b.niceMax),s.globals.isBarHorizontal){l=0;var F=s.globals.labels.slice();k=R.getLargestStringFromArr(F),k=v(k,{seriesIndex:d,dataPointIndex:-1,w:s}),A=i.dCtx.dimHelpers.getLargestStringFromMultiArr(k,F)}var E=new V(i.dCtx.ctx),I="rotate(".concat(c.labels.rotate," 0 0)"),Y=E.getTextRects(k,c.labels.style.fontSize,c.labels.style.fontFamily,I,!1),p=Y;k!==A&&(p=E.getTextRects(A,c.labels.style.fontSize,c.labels.style.fontFamily,I,!1)),a.push({width:(x>p.width||x>Y.width?x:p.width>Y.width?p.width:Y.width)+l,height:p.height>Y.height?p.height:Y.height})}else a.push({width:0,height:0})}),a}},{key:"getyAxisTitleCoords",value:function(){var i=this,s=this.w,a=[];return s.config.yaxis.map(function(l,h){if(l.show&&l.title.text!==void 0){var c=new V(i.dCtx.ctx),d="rotate(".concat(l.title.rotate," 0 0)"),g=c.getTextRects(l.title.text,l.title.style.fontSize,l.title.style.fontFamily,d,!1);a.push({width:g.width,height:g.height})}else a.push({width:0,height:0})}),a}},{key:"getTotalYAxisWidth",value:function(){var i=this.w,s=0,a=0,l=0,h=i.globals.yAxisScale.length>1?10:0,c=new St(this.dCtx.ctx),d=function(g,b){var x=i.config.yaxis[b].floating,v=0;g.width>0&&!x?(v=g.width+h,function(_){return i.globals.ignoreYAxisIndexes.indexOf(_)>-1}(b)&&(v=v-g.width-h)):v=x||c.isYAxisHidden(b)?0:5,i.config.yaxis[b].opposite?l+=v:a+=v,s+=v};return i.globals.yLabelsCoords.map(function(g,b){d(g,b)}),i.globals.yTitleCoords.map(function(g,b){d(g,b)}),i.globals.isBarHorizontal&&!i.config.yaxis[0].floating&&(s=i.globals.yLabelsCoords[0].width+i.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=a,this.dCtx.yAxisWidthRight=l,s}}]),L}(),La=function(){function L(i){u(this,L),this.w=i.w,this.dCtx=i}return m(L,[{key:"gridPadForColumnsInNumericAxis",value:function(i){var s=this.w;if(s.globals.noData||s.globals.allSeriesCollapsed)return 0;var a=function(x){return x==="bar"||x==="rangeBar"||x==="candlestick"||x==="boxPlot"},l=s.config.chart.type,h=0,c=a(l)?s.config.series.length:1;if(s.globals.comboBarCount>0&&(c=s.globals.comboBarCount),s.globals.collapsedSeries.forEach(function(x){a(x.type)&&(c-=1)}),s.config.chart.stacked&&(c=1),(a(l)||s.globals.comboBarCount>0)&&s.globals.isXNumeric&&!s.globals.isBarHorizontal&&c>0){var d,g,b=Math.abs(s.globals.initialMaxX-s.globals.initialMinX);b<=3&&(b=s.globals.dataPoints),d=b/i,s.globals.minXDiff&&s.globals.minXDiff/d>0&&(g=s.globals.minXDiff/d),g>i/2&&(g/=2),(h=g/c*parseInt(s.config.plotOptions.bar.columnWidth,10)/100)<1&&(h=1),h=h/(c>1?1:1.5)+5,s.globals.barPadForNumericAxis=h}return h}},{key:"gridPadFortitleSubtitle",value:function(){var i=this,s=this.w,a=s.globals,l=this.dCtx.isSparkline||!s.globals.axisCharts?0:10;["title","subtitle"].forEach(function(d){s.config[d].text!==void 0?l+=s.config[d].margin:l+=i.dCtx.isSparkline||!s.globals.axisCharts?0:5}),!s.config.legend.show||s.config.legend.position!=="bottom"||s.config.legend.floating||s.globals.axisCharts||(l+=10);var h=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),c=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");a.gridHeight=a.gridHeight-h.height-c.height-l,a.translateY=a.translateY+h.height+c.height+l}},{key:"setGridXPosForDualYAxis",value:function(i,s){var a=this.w,l=new St(this.dCtx.ctx);a.config.yaxis.map(function(h,c){a.globals.ignoreYAxisIndexes.indexOf(c)!==-1||h.floating||l.isYAxisHidden(c)||(h.opposite&&(a.globals.translateX=a.globals.translateX-(s[c].width+i[c].width)-parseInt(a.config.yaxis[c].labels.style.fontSize,10)/1.2-12),a.globals.translateX<2&&(a.globals.translateX=2))})}}]),L}(),Ri=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new js(this),this.dimYAxis=new Oa(this),this.dimXAxis=new Zi(this),this.dimGrid=new La(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return m(L,[{key:"plotCoords",value:function(){var i=this,s=this.w,a=s.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(s.config.markers.discrete.length>0||s.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(h){var c=X(h,2),d=c[0],g=c[1];i.gridPad[d]=Math.max(g,i.w.globals.markers.largestSize/1.5)}),a.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),a.gridHeight=a.gridHeight-this.gridPad.top-this.gridPad.bottom,a.gridWidth=a.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var l=this.dimGrid.gridPadForColumnsInNumericAxis(a.gridWidth);a.gridWidth=a.gridWidth-2*l,a.translateX=a.translateX+this.gridPad.left+this.xPadLeft+(l>0?l+4:0),a.translateY=a.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var i=this,s=this.w,a=s.globals,l=this.dimYAxis.getyAxisLabelsCoords(),h=this.dimYAxis.getyAxisTitleCoords();s.globals.yLabelsCoords=[],s.globals.yTitleCoords=[],s.config.yaxis.map(function(k,A){s.globals.yLabelsCoords.push({width:l[A].width,index:A}),s.globals.yTitleCoords.push({width:h[A].width,index:A})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var c=this.dimXAxis.getxAxisLabelsCoords(),d=this.dimXAxis.getxAxisGroupLabelsCoords(),g=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(c,g,d),a.translateXAxisY=s.globals.rotateXLabels?this.xAxisHeight/8:-4,a.translateXAxisX=s.globals.rotateXLabels&&s.globals.isXNumeric&&s.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,s.globals.isBarHorizontal&&(a.rotateXLabels=!1,a.translateXAxisY=parseInt(s.config.xaxis.labels.style.fontSize,10)/1.5*-1),a.translateXAxisY=a.translateXAxisY+s.config.xaxis.labels.offsetY,a.translateXAxisX=a.translateXAxisX+s.config.xaxis.labels.offsetX;var b=this.yAxisWidth,x=this.xAxisHeight;a.xAxisLabelsHeight=this.xAxisHeight-g.height,a.xAxisGroupLabelsHeight=a.xAxisLabelsHeight-c.height,a.xAxisLabelsWidth=this.xAxisWidth,a.xAxisHeight=this.xAxisHeight;var v=10;(s.config.chart.type==="radar"||this.isSparkline)&&(b=0,x=a.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||s.config.chart.type==="treemap")&&(b=0,x=0,v=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(c);var _=function(){a.translateX=b,a.gridHeight=a.svgHeight-i.lgRect.height-x-(i.isSparkline||s.config.chart.type==="treemap"?0:s.globals.rotateXLabels?10:15),a.gridWidth=a.svgWidth-b};switch(s.config.xaxis.position==="top"&&(v=a.xAxisHeight-s.config.xaxis.axisTicks.height-5),s.config.legend.position){case"bottom":a.translateY=v,_();break;case"top":a.translateY=this.lgRect.height+v,_();break;case"left":a.translateY=v,a.translateX=this.lgRect.width+b,a.gridHeight=a.svgHeight-x-12,a.gridWidth=a.svgWidth-this.lgRect.width-b;break;case"right":a.translateY=v,a.translateX=b,a.gridHeight=a.svgHeight-x-12,a.gridWidth=a.svgWidth-this.lgRect.width-b-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(h,l),new yi(this.ctx).setYAxisXPosition(l,h)}},{key:"setDimensionsForNonAxisCharts",value:function(){var i=this.w,s=i.globals,a=i.config,l=0;i.config.legend.show&&!i.config.legend.floating&&(l=20);var h=a.chart.type==="pie"||a.chart.type==="polarArea"||a.chart.type==="donut"?"pie":"radialBar",c=a.plotOptions[h].offsetY,d=a.plotOptions[h].offsetX;if(!a.legend.show||a.legend.floating)return s.gridHeight=s.svgHeight-a.grid.padding.left+a.grid.padding.right,s.gridWidth=s.gridHeight,s.translateY=c,void(s.translateX=d+(s.svgWidth-s.gridWidth)/2);switch(a.legend.position){case"bottom":s.gridHeight=s.svgHeight-this.lgRect.height-s.goldenPadding,s.gridWidth=s.svgWidth,s.translateY=c-10,s.translateX=d+(s.svgWidth-s.gridWidth)/2;break;case"top":s.gridHeight=s.svgHeight-this.lgRect.height-s.goldenPadding,s.gridWidth=s.svgWidth,s.translateY=this.lgRect.height+c+10,s.translateX=d+(s.svgWidth-s.gridWidth)/2;break;case"left":s.gridWidth=s.svgWidth-this.lgRect.width-l,s.gridHeight=a.chart.height!=="auto"?s.svgHeight:s.gridWidth,s.translateY=c,s.translateX=d+this.lgRect.width+l;break;case"right":s.gridWidth=s.svgWidth-this.lgRect.width-l-5,s.gridHeight=a.chart.height!=="auto"?s.svgHeight:s.gridWidth,s.translateY=c,s.translateX=d+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(i,s,a){var l=this.w,h=l.globals.hasXaxisGroups?2:1,c=a.height+i.height+s.height,d=l.globals.isMultiLineX?1.2:l.globals.LINE_HEIGHT_RATIO,g=l.globals.rotateXLabels?22:10,b=l.globals.rotateXLabels&&l.config.legend.position==="bottom"?10:0;this.xAxisHeight=c*d+h*g+b,this.xAxisWidth=i.width,this.xAxisHeight-s.height>l.config.xaxis.labels.maxHeight&&(this.xAxisHeight=l.config.xaxis.labels.maxHeight),l.config.xaxis.labels.minHeight&&this.xAxisHeight<l.config.xaxis.labels.minHeight&&(this.xAxisHeight=l.config.xaxis.labels.minHeight),l.config.xaxis.floating&&(this.xAxisHeight=0);var x=0,v=0;l.config.yaxis.forEach(function(_){x+=_.labels.minWidth,v+=_.labels.maxWidth}),this.yAxisWidth<x&&(this.yAxisWidth=x),this.yAxisWidth>v&&(this.yAxisWidth=v)}}]),L}(),Ba=function(){function L(i){u(this,L),this.w=i.w,this.lgCtx=i}return m(L,[{key:"getLegendStyles",value:function(){var i=document.createElement("style");i.setAttribute("type","text/css");var s=document.createTextNode(`	
    	
      .apexcharts-legend {	
        display: flex;	
        overflow: auto;	
        padding: 0 10px;	
      }	
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {	
        flex-wrap: wrap	
      }	
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
        flex-direction: column;	
        bottom: 0;	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
        justify-content: flex-start;	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {	
        justify-content: center;  	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {	
        justify-content: flex-end;	
      }	
      .apexcharts-legend-series {	
        cursor: pointer;	
        line-height: normal;	
      }	
      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{	
        display: flex;	
        align-items: center;	
      }	
      .apexcharts-legend-text {	
        position: relative;	
        font-size: 14px;	
      }	
      .apexcharts-legend-text *, .apexcharts-legend-marker * {	
        pointer-events: none;	
      }	
      .apexcharts-legend-marker {	
        position: relative;	
        display: inline-block;	
        cursor: pointer;	
        margin-right: 3px;	
        border-style: solid;
      }	
      	
      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{	
        display: inline-block;	
      }	
      .apexcharts-legend-series.apexcharts-no-click {	
        cursor: auto;	
      }	
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {	
        display: none !important;	
      }	
      .apexcharts-inactive-legend {	
        opacity: 0.45;	
      }`);return i.appendChild(s),i}},{key:"getLegendBBox",value:function(){var i=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),s=i.width;return{clwh:i.height,clww:s}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(i,s){var a=this,l=this.w;if(l.globals.axisCharts||l.config.chart.type==="radialBar"){l.globals.resized=!0;var h=null,c=null;l.globals.risingSeries=[],l.globals.axisCharts?(h=l.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(i,"']")),c=parseInt(h.getAttribute("data:realIndex"),10)):(h=l.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"']")),c=parseInt(h.getAttribute("rel"),10)-1),s?[{cs:l.globals.collapsedSeries,csi:l.globals.collapsedSeriesIndices},{cs:l.globals.ancillaryCollapsedSeries,csi:l.globals.ancillaryCollapsedSeriesIndices}].forEach(function(x){a.riseCollapsedSeries(x.cs,x.csi,c)}):this.hideSeries({seriesEl:h,realIndex:c})}else{var d=l.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(i+1,"'] path")),g=l.config.chart.type;if(g==="pie"||g==="polarArea"||g==="donut"){var b=l.config.plotOptions.pie.donut.labels;new V(this.lgCtx.ctx).pathMouseDown(d.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(d.members[0].node,b)}d.fire("click")}}},{key:"hideSeries",value:function(i){var s=i.seriesEl,a=i.realIndex,l=this.w,h=R.clone(l.config.series);if(l.globals.axisCharts){var c=!1;if(l.config.yaxis[a]&&l.config.yaxis[a].show&&l.config.yaxis[a].showAlways&&(c=!0,l.globals.ancillaryCollapsedSeriesIndices.indexOf(a)<0&&(l.globals.ancillaryCollapsedSeries.push({index:a,data:h[a].data.slice(),type:s.parentNode.className.baseVal.split("-")[1]}),l.globals.ancillaryCollapsedSeriesIndices.push(a))),!c){l.globals.collapsedSeries.push({index:a,data:h[a].data.slice(),type:s.parentNode.className.baseVal.split("-")[1]}),l.globals.collapsedSeriesIndices.push(a);var d=l.globals.risingSeries.indexOf(a);l.globals.risingSeries.splice(d,1)}}else l.globals.collapsedSeries.push({index:a,data:h[a]}),l.globals.collapsedSeriesIndices.push(a);for(var g=s.childNodes,b=0;b<g.length;b++)g[b].classList.contains("apexcharts-series-markers-wrap")&&(g[b].classList.contains("apexcharts-hide")?g[b].classList.remove("apexcharts-hide"):g[b].classList.add("apexcharts-hide"));l.globals.allSeriesCollapsed=l.globals.collapsedSeries.length===l.config.series.length,h=this._getSeriesBasedOnCollapsedState(h),this.lgCtx.ctx.updateHelpers._updateSeries(h,l.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(i,s,a){var l=this.w,h=R.clone(l.config.series);if(i.length>0){for(var c=0;c<i.length;c++)i[c].index===a&&(l.globals.axisCharts?(h[a].data=i[c].data.slice(),i.splice(c,1),s.splice(c,1),l.globals.risingSeries.push(a)):(h[a]=i[c].data,i.splice(c,1),s.splice(c,1),l.globals.risingSeries.push(a)));h=this._getSeriesBasedOnCollapsedState(h),this.lgCtx.ctx.updateHelpers._updateSeries(h,l.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(i){var s=this.w;return s.globals.axisCharts?i.forEach(function(a,l){s.globals.collapsedSeriesIndices.indexOf(l)>-1&&(i[l].data=[])}):i.forEach(function(a,l){s.globals.collapsedSeriesIndices.indexOf(l)>-1&&(i[l]=0)}),i}}]),L}(),Dr=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new Ba(this)}return m(L,[{key:"init",value:function(){var i=this.w,s=i.globals,a=i.config;if((a.legend.showForSingleSeries&&s.series.length===1||this.isBarsDistributed||s.series.length>1||!s.axisCharts)&&a.legend.show){for(;s.dom.elLegendWrap.firstChild;)s.dom.elLegendWrap.removeChild(s.dom.elLegendWrap.firstChild);this.drawLegends(),R.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),a.legend.position==="bottom"||a.legend.position==="top"?this.legendAlignHorizontal():a.legend.position!=="right"&&a.legend.position!=="left"||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var i=this,s=this.w,a=s.config.legend.fontFamily,l=s.globals.seriesNames,h=s.globals.colors.slice();if(s.config.chart.type==="heatmap"){var c=s.config.plotOptions.heatmap.colorScale.ranges;l=c.map(function(ie){return ie.name?ie.name:ie.from+" - "+ie.to}),h=c.map(function(ie){return ie.color})}else this.isBarsDistributed&&(l=s.globals.labels.slice());s.config.legend.customLegendItems.length&&(l=s.config.legend.customLegendItems);for(var d=s.globals.legendFormatter,g=s.config.legend.inverseOrder,b=g?l.length-1:0;g?b>=0:b<=l.length-1;g?b--:b++){var x,v=d(l[b],{seriesIndex:b,w:s}),_=!1,k=!1;if(s.globals.collapsedSeries.length>0)for(var A=0;A<s.globals.collapsedSeries.length;A++)s.globals.collapsedSeries[A].index===b&&(_=!0);if(s.globals.ancillaryCollapsedSeriesIndices.length>0)for(var F=0;F<s.globals.ancillaryCollapsedSeriesIndices.length;F++)s.globals.ancillaryCollapsedSeriesIndices[F]===b&&(k=!0);var E=document.createElement("span");E.classList.add("apexcharts-legend-marker");var I=s.config.legend.markers.offsetX,Y=s.config.legend.markers.offsetY,p=s.config.legend.markers.height,w=s.config.legend.markers.width,P=s.config.legend.markers.strokeWidth,B=s.config.legend.markers.strokeColor,j=s.config.legend.markers.radius,H=E.style;H.background=h[b],H.color=h[b],H.setProperty("background",h[b],"important"),s.config.legend.markers.fillColors&&s.config.legend.markers.fillColors[b]&&(H.background=s.config.legend.markers.fillColors[b]),s.globals.seriesColors[b]!==void 0&&(H.background=s.globals.seriesColors[b],H.color=s.globals.seriesColors[b]),H.height=Array.isArray(p)?parseFloat(p[b])+"px":parseFloat(p)+"px",H.width=Array.isArray(w)?parseFloat(w[b])+"px":parseFloat(w)+"px",H.left=(Array.isArray(I)?parseFloat(I[b]):parseFloat(I))+"px",H.top=(Array.isArray(Y)?parseFloat(Y[b]):parseFloat(Y))+"px",H.borderWidth=Array.isArray(P)?P[b]:P,H.borderColor=Array.isArray(B)?B[b]:B,H.borderRadius=Array.isArray(j)?parseFloat(j[b])+"px":parseFloat(j)+"px",s.config.legend.markers.customHTML&&(Array.isArray(s.config.legend.markers.customHTML)?s.config.legend.markers.customHTML[b]&&(E.innerHTML=s.config.legend.markers.customHTML[b]()):E.innerHTML=s.config.legend.markers.customHTML()),V.setAttrs(E,{rel:b+1,"data:collapsed":_||k}),(_||k)&&E.classList.add("apexcharts-inactive-legend");var q=document.createElement("div"),Z=document.createElement("span");Z.classList.add("apexcharts-legend-text"),Z.innerHTML=Array.isArray(v)?v.join(" "):v;var te=s.config.legend.labels.useSeriesColors?s.globals.colors[b]:Array.isArray(s.config.legend.labels.colors)?(x=s.config.legend.labels.colors)===null||x===void 0?void 0:x[b]:s.config.legend.labels.colors;te||(te=s.config.chart.foreColor),Z.style.color=te,Z.style.fontSize=parseFloat(s.config.legend.fontSize)+"px",Z.style.fontWeight=s.config.legend.fontWeight,Z.style.fontFamily=a||s.config.chart.fontFamily,V.setAttrs(Z,{rel:b+1,i:b,"data:default-text":encodeURIComponent(v),"data:collapsed":_||k}),q.appendChild(E),q.appendChild(Z);var ne=new se(this.ctx);s.config.legend.showForZeroSeries||ne.getSeriesTotalByIndex(b)===0&&ne.seriesHaveSameValues(b)&&!ne.isSeriesNull(b)&&s.globals.collapsedSeriesIndices.indexOf(b)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(b)===-1&&q.classList.add("apexcharts-hidden-zero-series"),s.config.legend.showForNullSeries||ne.isSeriesNull(b)&&s.globals.collapsedSeriesIndices.indexOf(b)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(b)===-1&&q.classList.add("apexcharts-hidden-null-series"),s.globals.dom.elLegendWrap.appendChild(q),s.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(s.config.legend.horizontalAlign)),s.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+s.config.legend.position),q.classList.add("apexcharts-legend-series"),q.style.margin="".concat(s.config.legend.itemMargin.vertical,"px ").concat(s.config.legend.itemMargin.horizontal,"px"),s.globals.dom.elLegendWrap.style.width=s.config.legend.width?s.config.legend.width+"px":"",s.globals.dom.elLegendWrap.style.height=s.config.legend.height?s.config.legend.height+"px":"",V.setAttrs(q,{rel:b+1,seriesName:R.escapeString(l[b]),"data:collapsed":_||k}),(_||k)&&q.classList.add("apexcharts-inactive-legend"),s.config.legend.onItemClick.toggleDataSeries||q.classList.add("apexcharts-no-click")}s.globals.dom.elWrap.addEventListener("click",i.onLegendClick,!0),s.config.legend.onItemHover.highlightDataSeries&&s.config.legend.customLegendItems.length===0&&(s.globals.dom.elWrap.addEventListener("mousemove",i.onLegendHovered,!0),s.globals.dom.elWrap.addEventListener("mouseout",i.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(i,s){var a=this.w,l=a.globals.dom.elLegendWrap,h=l.getBoundingClientRect(),c=0,d=0;if(a.config.legend.position==="bottom")d+=a.globals.svgHeight-h.height/2;else if(a.config.legend.position==="top"){var g=new Ri(this.ctx),b=g.dimHelpers.getTitleSubtitleCoords("title").height,x=g.dimHelpers.getTitleSubtitleCoords("subtitle").height;d=d+(b>0?b-10:0)+(x>0?x-10:0)}l.style.position="absolute",c=c+i+a.config.legend.offsetX,d=d+s+a.config.legend.offsetY,l.style.left=c+"px",l.style.top=d+"px",a.config.legend.position==="bottom"?(l.style.top="auto",l.style.bottom=5-a.config.legend.offsetY+"px"):a.config.legend.position==="right"&&(l.style.left="auto",l.style.right=25+a.config.legend.offsetX+"px"),["width","height"].forEach(function(v){l.style[v]&&(l.style[v]=parseInt(a.config.legend[v],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var i=this.w;i.globals.dom.elLegendWrap.style.right=0;var s=this.legendHelpers.getLegendBBox(),a=new Ri(this.ctx),l=a.dimHelpers.getTitleSubtitleCoords("title"),h=a.dimHelpers.getTitleSubtitleCoords("subtitle"),c=0;i.config.legend.position==="bottom"?c=-s.clwh/1.8:i.config.legend.position==="top"&&(c=l.height+h.height+i.config.title.margin+i.config.subtitle.margin-10),this.setLegendWrapXY(20,c)}},{key:"legendAlignVertical",value:function(){var i=this.w,s=this.legendHelpers.getLegendBBox(),a=0;i.config.legend.position==="left"&&(a=20),i.config.legend.position==="right"&&(a=i.globals.svgWidth-s.clww-10),this.setLegendWrapXY(a,20)}},{key:"onLegendHovered",value:function(i){var s=this.w,a=i.target.classList.contains("apexcharts-legend-series")||i.target.classList.contains("apexcharts-legend-text")||i.target.classList.contains("apexcharts-legend-marker");if(s.config.chart.type==="heatmap"||this.isBarsDistributed){if(a){var l=parseInt(i.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,l,this.w]),new Ee(this.ctx).highlightRangeInSeries(i,i.target)}}else!i.target.classList.contains("apexcharts-inactive-legend")&&a&&new Ee(this.ctx).toggleSeriesOnHover(i,i.target)}},{key:"onLegendClick",value:function(i){var s=this.w;if(!s.config.legend.customLegendItems.length&&(i.target.classList.contains("apexcharts-legend-series")||i.target.classList.contains("apexcharts-legend-text")||i.target.classList.contains("apexcharts-legend-marker"))){var a=parseInt(i.target.getAttribute("rel"),10)-1,l=i.target.getAttribute("data:collapsed")==="true",h=this.w.config.chart.events.legendClick;typeof h=="function"&&h(this.ctx,a,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,a,this.w]);var c=this.w.config.legend.markers.onClick;typeof c=="function"&&i.target.classList.contains("apexcharts-legend-marker")&&(c(this.ctx,a,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,a,this.w])),s.config.chart.type!=="treemap"&&s.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&s.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(a,l)}}}]),L}(),kr=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w;var s=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=s.globals.minX,this.maxX=s.globals.maxX}return m(L,[{key:"createToolbar",value:function(){var i=this,s=this.w,a=function(){return document.createElement("div")},l=a();if(l.setAttribute("class","apexcharts-toolbar"),l.style.top=s.config.chart.toolbar.offsetY+"px",l.style.right=3-s.config.chart.toolbar.offsetX+"px",s.globals.dom.elWrap.appendChild(l),this.elZoom=a(),this.elZoomIn=a(),this.elZoomOut=a(),this.elPan=a(),this.elSelection=a(),this.elZoomReset=a(),this.elMenuIcon=a(),this.elMenu=a(),this.elCustomIcons=[],this.t=s.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var h=0;h<this.t.customIcons.length;h++)this.elCustomIcons.push(a());var c=[],d=function(v,_,k){var A=v.toLowerCase();i.t[A]&&s.config.chart.zoom.enabled&&c.push({el:_,icon:typeof i.t[A]=="string"?i.t[A]:k,title:i.localeValues[v],class:"apexcharts-".concat(A,"-icon")})};d("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),d("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var g=function(v){i.t[v]&&s.config.chart[v].enabled&&c.push({el:v==="zoom"?i.elZoom:i.elSelection,icon:typeof i.t[v]=="string"?i.t[v]:v==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:i.localeValues[v==="zoom"?"selectionZoom":"selection"],class:s.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(v,"-icon")})};g("zoom"),g("selection"),this.t.pan&&s.config.chart.zoom.enabled&&c.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:s.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),d("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&c.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var b=0;b<this.elCustomIcons.length;b++)c.push({el:this.elCustomIcons[b],icon:this.t.customIcons[b].icon,title:this.t.customIcons[b].title,index:this.t.customIcons[b].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[b].class});c.forEach(function(v,_){v.index&&R.moveIndexInArray(c,_,v.index)});for(var x=0;x<c.length;x++)V.setAttrs(c[x].el,{class:c[x].class,title:c[x].title}),c[x].el.innerHTML=c[x].icon,l.appendChild(c[x].el);this._createHamburgerMenu(l),s.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):s.globals.panEnabled?this.elPan.classList.add(this.selectedClass):s.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(i){this.elMenuItems=[],i.appendChild(this.elMenu),V.setAttrs(this.elMenu,{class:"apexcharts-menu"});var s=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||s.splice(2,1);for(var a=0;a<s.length;a++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[a].innerHTML=s[a].title,V.setAttrs(this.elMenuItems[a],{class:"apexcharts-menu-item ".concat(s[a].name),title:s[a].title}),this.elMenu.appendChild(this.elMenuItems[a])}},{key:"addToolbarEventListeners",value:function(){var i=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(a){a.classList.contains("exportSVG")?a.addEventListener("click",i.handleDownload.bind(i,"svg")):a.classList.contains("exportPNG")?a.addEventListener("click",i.handleDownload.bind(i,"png")):a.classList.contains("exportCSV")&&a.addEventListener("click",i.handleDownload.bind(i,"csv"))});for(var s=0;s<this.t.customIcons.length;s++)this.elCustomIcons[s].addEventListener("click",this.t.customIcons[s].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(i){this.ctx.getSyncedCharts().forEach(function(s){s.ctx.toolbar.toggleOtherControls();var a=i==="selection"?s.ctx.toolbar.elSelection:s.ctx.toolbar.elZoom,l=i==="selection"?"selectionEnabled":"zoomEnabled";s.w.globals[l]=!s.w.globals[l],a.classList.contains(s.ctx.toolbar.selectedClass)?a.classList.remove(s.ctx.toolbar.selectedClass):a.classList.add(s.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var i=this.w;this.elZoom||(this.elZoom=i.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=i.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=i.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(i){this.toggleOtherControls(),i==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var s=i==="pan"?this.elPan:this.elZoom,a=i==="pan"?this.elZoom:this.elPan;s&&s.classList.add(this.selectedClass),a&&a.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(i){i.ctx.toolbar.toggleOtherControls(),i.w.globals.panEnabled=!i.w.globals.panEnabled,i.ctx.toolbar.elPan.classList.contains(i.ctx.toolbar.selectedClass)?i.ctx.toolbar.elPan.classList.remove(i.ctx.toolbar.selectedClass):i.ctx.toolbar.elPan.classList.add(i.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var i=this,s=this.w;s.globals.panEnabled=!1,s.globals.zoomEnabled=!1,s.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(a){a&&a.classList.remove(i.selectedClass)})}},{key:"handleZoomIn",value:function(){var i=this.w;i.globals.isRangeBar&&(this.minX=i.globals.minY,this.maxX=i.globals.maxY);var s=(this.minX+this.maxX)/2,a=(this.minX+s)/2,l=(this.maxX+s)/2,h=this._getNewMinXMaxX(a,l);i.globals.disableZoomIn||this.zoomUpdateOptions(h.minX,h.maxX)}},{key:"handleZoomOut",value:function(){var i=this.w;if(i.globals.isRangeBar&&(this.minX=i.globals.minY,this.maxX=i.globals.maxY),!(i.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var s=(this.minX+this.maxX)/2,a=this.minX-(s-this.minX),l=this.maxX-(s-this.maxX),h=this._getNewMinXMaxX(a,l);i.globals.disableZoomOut||this.zoomUpdateOptions(h.minX,h.maxX)}}},{key:"_getNewMinXMaxX",value:function(i,s){var a=this.w.config.xaxis.convertedCatToNumeric;return{minX:a?Math.floor(i):i,maxX:a?Math.floor(s):s}}},{key:"zoomUpdateOptions",value:function(i,s){var a=this.w;if(i!==void 0||s!==void 0){if(!(a.config.xaxis.convertedCatToNumeric&&(i<1&&(i=1,s=a.globals.dataPoints),s-i<2))){var l={min:i,max:s},h=this.getBeforeZoomRange(l);h&&(l=h.xaxis);var c={xaxis:l},d=R.clone(a.globals.initialConfig.yaxis);a.config.chart.zoom.autoScaleYaxis&&(d=new vi(this.ctx).autoScaleY(this.ctx,d,{xaxis:l})),a.config.chart.group||(c.yaxis=d),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(c,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(l,d)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(i,s){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:i,yaxis:s})}},{key:"getBeforeZoomRange",value:function(i,s){var a=null;return typeof this.ev.beforeZoom=="function"&&(a=this.ev.beforeZoom(this,{xaxis:i,yaxis:s})),a}},{key:"toggleMenu",value:function(){var i=this;window.setTimeout(function(){i.elMenu.classList.contains("apexcharts-menu-open")?i.elMenu.classList.remove("apexcharts-menu-open"):i.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(i){var s=this.w,a=new xi(this.ctx);switch(i){case"svg":a.exportToSVG(this.ctx);break;case"png":a.exportToPng(this.ctx);break;case"csv":a.exportToCSV({series:s.config.series,columnDelimiter:s.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(i){this.ctx.getSyncedCharts().forEach(function(s){var a=s.w;if(a.globals.lastXAxis.min=a.globals.initialConfig.xaxis.min,a.globals.lastXAxis.max=a.globals.initialConfig.xaxis.max,s.updateHelpers.revertDefaultAxisMinMax(),typeof a.config.chart.events.beforeResetZoom=="function"){var l=a.config.chart.events.beforeResetZoom(s,a);l&&s.updateHelpers.revertDefaultAxisMinMax(l)}typeof a.config.chart.events.zoomed=="function"&&s.ctx.toolbar.zoomCallback({min:a.config.xaxis.min,max:a.config.xaxis.max}),a.globals.zoomed=!1;var h=s.ctx.series.emptyCollapsedSeries(R.clone(a.globals.initialSeries));s.updateHelpers._updateSeries(h,a.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),L}(),Ia=function(L){D(s,kr);var i=S(s);function s(a){var l;return u(this,s),(l=i.call(this,a)).ctx=a,l.w=a.w,l.dragged=!1,l.graphics=new V(l.ctx),l.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],l.clientX=0,l.clientY=0,l.startX=0,l.endX=0,l.dragX=0,l.startY=0,l.endY=0,l.dragY=0,l.moveDirection="none",l}return m(s,[{key:"init",value:function(a){var l=this,h=a.xyRatios,c=this.w,d=this;this.xyRatios=h,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=c.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),c.globals.dom.elGraphical.add(this.zoomRect),c.globals.dom.elGraphical.add(this.selectionRect),c.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:c.globals.gridWidth,maxY:c.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):c.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:c.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=c.globals.dom.baseEl.querySelector("".concat(c.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(g){l.hoverArea.addEventListener(g,d.svgMouseEvents.bind(d,h),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(a,l){var h=this.w,c=this,d=this.ctx.toolbar,g=h.globals.zoomEnabled?h.config.chart.zoom.type:h.config.chart.selection.type,b=h.config.chart.toolbar.autoSelected;if(l.shiftKey?(this.shiftWasPressed=!0,d.enableZoomPanFromToolbar(b==="pan"?"zoom":"pan")):this.shiftWasPressed&&(d.enableZoomPanFromToolbar(b),this.shiftWasPressed=!1),l.target){var x,v=l.target.classList;if(l.target.parentNode&&l.target.parentNode!==null&&(x=l.target.parentNode.classList),!(v.contains("apexcharts-selection-rect")||v.contains("apexcharts-legend-marker")||v.contains("apexcharts-legend-text")||x&&x.contains("apexcharts-toolbar"))){if(c.clientX=l.type==="touchmove"||l.type==="touchstart"?l.touches[0].clientX:l.type==="touchend"?l.changedTouches[0].clientX:l.clientX,c.clientY=l.type==="touchmove"||l.type==="touchstart"?l.touches[0].clientY:l.type==="touchend"?l.changedTouches[0].clientY:l.clientY,l.type==="mousedown"&&l.which===1){var _=c.gridRect.getBoundingClientRect();c.startX=c.clientX-_.left,c.startY=c.clientY-_.top,c.dragged=!1,c.w.globals.mousedown=!0}if((l.type==="mousemove"&&l.which===1||l.type==="touchmove")&&(c.dragged=!0,h.globals.panEnabled?(h.globals.selection=null,c.w.globals.mousedown&&c.panDragging({context:c,zoomtype:g,xyRatios:a})):(c.w.globals.mousedown&&h.globals.zoomEnabled||c.w.globals.mousedown&&h.globals.selectionEnabled)&&(c.selection=c.selectionDrawing({context:c,zoomtype:g}))),l.type==="mouseup"||l.type==="touchend"||l.type==="mouseleave"){var k=c.gridRect.getBoundingClientRect();c.w.globals.mousedown&&(c.endX=c.clientX-k.left,c.endY=c.clientY-k.top,c.dragX=Math.abs(c.endX-c.startX),c.dragY=Math.abs(c.endY-c.startY),(h.globals.zoomEnabled||h.globals.selectionEnabled)&&c.selectionDrawn({context:c,zoomtype:g}),h.globals.panEnabled&&h.config.xaxis.convertedCatToNumeric&&c.delayedPanScrolled()),h.globals.zoomEnabled&&c.hideSelectionRect(this.selectionRect),c.dragged=!1,c.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var a=this.w;if(this.selectionRect){var l=this.selectionRect.node.getBoundingClientRect();l.width>0&&l.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:a.globals.gridWidth,maxY:a.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var a=this.w,l=this.xyRatios;if(!a.globals.zoomEnabled){if(a.globals.selection!==void 0&&a.globals.selection!==null)this.drawSelectionRect(a.globals.selection);else if(a.config.chart.selection.xaxis.min!==void 0&&a.config.chart.selection.xaxis.max!==void 0){var h=(a.config.chart.selection.xaxis.min-a.globals.minX)/l.xRatio,c={x:h,y:0,width:a.globals.gridWidth-(a.globals.maxX-a.config.chart.selection.xaxis.max)/l.xRatio-h,height:a.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(c),this.makeSelectionRectDraggable(),typeof a.config.chart.events.selection=="function"&&a.config.chart.events.selection(this.ctx,{xaxis:{min:a.config.chart.selection.xaxis.min,max:a.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(a){var l=a.x,h=a.y,c=a.width,d=a.height,g=a.translateX,b=g===void 0?0:g,x=a.translateY,v=x===void 0?0:x,_=this.w,k=this.zoomRect,A=this.selectionRect;if(this.dragged||_.globals.selection!==null){var F={transform:"translate("+b+", "+v+")"};_.globals.zoomEnabled&&this.dragged&&(c<0&&(c=1),k.attr({x:l,y:h,width:c,height:d,fill:_.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":_.config.chart.zoom.zoomedArea.fill.opacity,stroke:_.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":_.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":_.config.chart.zoom.zoomedArea.stroke.opacity}),V.setAttrs(k.node,F)),_.globals.selectionEnabled&&(A.attr({x:l,y:h,width:c>0?c:0,height:d>0?d:0,fill:_.config.chart.selection.fill.color,"fill-opacity":_.config.chart.selection.fill.opacity,stroke:_.config.chart.selection.stroke.color,"stroke-width":_.config.chart.selection.stroke.width,"stroke-dasharray":_.config.chart.selection.stroke.dashArray,"stroke-opacity":_.config.chart.selection.stroke.opacity}),V.setAttrs(A.node,F))}}},{key:"hideSelectionRect",value:function(a){a&&a.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(a){var l=a.context,h=a.zoomtype,c=this.w,d=l,g=this.gridRect.getBoundingClientRect(),b=d.startX-1,x=d.startY,v=!1,_=!1,k=d.clientX-g.left-b,A=d.clientY-g.top-x,F={};return Math.abs(k+b)>c.globals.gridWidth?k=c.globals.gridWidth-b:d.clientX-g.left<0&&(k=b),b>d.clientX-g.left&&(v=!0,k=Math.abs(k)),x>d.clientY-g.top&&(_=!0,A=Math.abs(A)),F=h==="x"?{x:v?b-k:b,y:0,width:k,height:c.globals.gridHeight}:h==="y"?{x:0,y:_?x-A:x,width:c.globals.gridWidth,height:A}:{x:v?b-k:b,y:_?x-A:x,width:k,height:A},d.drawSelectionRect(F),d.selectionDragging("resizing"),F}},{key:"selectionDragging",value:function(a,l){var h=this,c=this.w,d=this.xyRatios,g=this.selectionRect,b=0;a==="resizing"&&(b=30);var x=function(_){return parseFloat(g.node.getAttribute(_))},v={x:x("x"),y:x("y"),width:x("width"),height:x("height")};c.globals.selection=v,typeof c.config.chart.events.selection=="function"&&c.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var _=h.gridRect.getBoundingClientRect(),k=g.node.getBoundingClientRect(),A={xaxis:{min:c.globals.xAxisScale.niceMin+(k.left-_.left)*d.xRatio,max:c.globals.xAxisScale.niceMin+(k.right-_.left)*d.xRatio},yaxis:{min:c.globals.yAxisScale[0].niceMin+(_.bottom-k.bottom)*d.yRatio[0],max:c.globals.yAxisScale[0].niceMax-(k.top-_.top)*d.yRatio[0]}};c.config.chart.events.selection(h.ctx,A),c.config.chart.brush.enabled&&c.config.chart.events.brushScrolled!==void 0&&c.config.chart.events.brushScrolled(h.ctx,A)},b))}},{key:"selectionDrawn",value:function(a){var l=a.context,h=a.zoomtype,c=this.w,d=l,g=this.xyRatios,b=this.ctx.toolbar;if(d.startX>d.endX){var x=d.startX;d.startX=d.endX,d.endX=x}if(d.startY>d.endY){var v=d.startY;d.startY=d.endY,d.endY=v}var _=void 0,k=void 0;c.globals.isRangeBar?(_=c.globals.yAxisScale[0].niceMin+d.startX*g.invertedYRatio,k=c.globals.yAxisScale[0].niceMin+d.endX*g.invertedYRatio):(_=c.globals.xAxisScale.niceMin+d.startX*g.xRatio,k=c.globals.xAxisScale.niceMin+d.endX*g.xRatio);var A=[],F=[];if(c.config.yaxis.forEach(function(j,H){A.push(c.globals.yAxisScale[H].niceMax-g.yRatio[H]*d.startY),F.push(c.globals.yAxisScale[H].niceMax-g.yRatio[H]*d.endY)}),d.dragged&&(d.dragX>10||d.dragY>10)&&_!==k){if(c.globals.zoomEnabled){var E=R.clone(c.globals.initialConfig.yaxis),I=R.clone(c.globals.initialConfig.xaxis);if(c.globals.zoomed=!0,c.config.xaxis.convertedCatToNumeric&&(_=Math.floor(_),k=Math.floor(k),_<1&&(_=1,k=c.globals.dataPoints),k-_<2&&(k=_+1)),h!=="xy"&&h!=="x"||(I={min:_,max:k}),h!=="xy"&&h!=="y"||E.forEach(function(j,H){E[H].min=F[H],E[H].max=A[H]}),c.config.chart.zoom.autoScaleYaxis){var Y=new vi(d.ctx);E=Y.autoScaleY(d.ctx,E,{xaxis:I})}if(b){var p=b.getBeforeZoomRange(I,E);p&&(I=p.xaxis?p.xaxis:I,E=p.yaxis?p.yaxis:E)}var w={xaxis:I};c.config.chart.group||(w.yaxis=E),d.ctx.updateHelpers._updateOptions(w,!1,d.w.config.chart.animations.dynamicAnimation.enabled),typeof c.config.chart.events.zoomed=="function"&&b.zoomCallback(I,E)}else if(c.globals.selectionEnabled){var P,B=null;P={min:_,max:k},h!=="xy"&&h!=="y"||(B=R.clone(c.config.yaxis)).forEach(function(j,H){B[H].min=F[H],B[H].max=A[H]}),c.globals.selection=d.selection,typeof c.config.chart.events.selection=="function"&&c.config.chart.events.selection(d.ctx,{xaxis:P,yaxis:B})}}}},{key:"panDragging",value:function(a){var l=a.context,h=this.w,c=l;if(h.globals.lastClientPosition.x!==void 0){var d=h.globals.lastClientPosition.x-c.clientX,g=h.globals.lastClientPosition.y-c.clientY;Math.abs(d)>Math.abs(g)&&d>0?this.moveDirection="left":Math.abs(d)>Math.abs(g)&&d<0?this.moveDirection="right":Math.abs(g)>Math.abs(d)&&g>0?this.moveDirection="up":Math.abs(g)>Math.abs(d)&&g<0&&(this.moveDirection="down")}h.globals.lastClientPosition={x:c.clientX,y:c.clientY};var b=h.globals.isRangeBar?h.globals.minY:h.globals.minX,x=h.globals.isRangeBar?h.globals.maxY:h.globals.maxX;h.config.xaxis.convertedCatToNumeric||c.panScrolled(b,x)}},{key:"delayedPanScrolled",value:function(){var a=this.w,l=a.globals.minX,h=a.globals.maxX,c=(a.globals.maxX-a.globals.minX)/2;this.moveDirection==="left"?(l=a.globals.minX+c,h=a.globals.maxX+c):this.moveDirection==="right"&&(l=a.globals.minX-c,h=a.globals.maxX-c),l=Math.floor(l),h=Math.floor(h),this.updateScrolledChart({xaxis:{min:l,max:h}},l,h)}},{key:"panScrolled",value:function(a,l){var h=this.w,c=this.xyRatios,d=R.clone(h.globals.initialConfig.yaxis),g=c.xRatio,b=h.globals.minX,x=h.globals.maxX;h.globals.isRangeBar&&(g=c.invertedYRatio,b=h.globals.minY,x=h.globals.maxY),this.moveDirection==="left"?(a=b+h.globals.gridWidth/15*g,l=x+h.globals.gridWidth/15*g):this.moveDirection==="right"&&(a=b-h.globals.gridWidth/15*g,l=x-h.globals.gridWidth/15*g),h.globals.isRangeBar||(a<h.globals.initialMinX||l>h.globals.initialMaxX)&&(a=b,l=x);var v={min:a,max:l};h.config.chart.zoom.autoScaleYaxis&&(d=new vi(this.ctx).autoScaleY(this.ctx,d,{xaxis:v}));var _={xaxis:{min:a,max:l}};h.config.chart.group||(_.yaxis=d),this.updateScrolledChart(_,a,l)}},{key:"updateScrolledChart",value:function(a,l,h){var c=this.w;this.ctx.updateHelpers._updateOptions(a,!1,!1),typeof c.config.chart.events.scrolled=="function"&&c.config.chart.events.scrolled(this.ctx,{xaxis:{min:l,max:h}})}}]),s}(),Cr=function(){function L(i){u(this,L),this.w=i.w,this.ttCtx=i,this.ctx=i.ctx}return m(L,[{key:"getNearestValues",value:function(i){var s=i.hoverArea,a=i.elGrid,l=i.clientX,h=i.clientY,c=this.w,d=a.getBoundingClientRect(),g=d.width,b=d.height,x=g/(c.globals.dataPoints-1),v=b/c.globals.dataPoints,_=this.hasBars();!c.globals.comboCharts&&!_||c.config.xaxis.convertedCatToNumeric||(x=g/c.globals.dataPoints);var k=l-d.left-c.globals.barPadForNumericAxis,A=h-d.top;k<0||A<0||k>g||A>b?(s.classList.remove("hovering-zoom"),s.classList.remove("hovering-pan")):c.globals.zoomEnabled?(s.classList.remove("hovering-pan"),s.classList.add("hovering-zoom")):c.globals.panEnabled&&(s.classList.remove("hovering-zoom"),s.classList.add("hovering-pan"));var F=Math.round(k/x),E=Math.floor(A/v);_&&!c.config.xaxis.convertedCatToNumeric&&(F=Math.ceil(k/x),F-=1);var I=null,Y=null,p=c.globals.seriesXvalues.map(function(H){return H.filter(function(q){return R.isNumber(q)})}),w=c.globals.seriesYvalues.map(function(H){return H.filter(function(q){return R.isNumber(q)})});if(c.globals.isXNumeric){var P=this.ttCtx.getElGrid().getBoundingClientRect(),B=k*(P.width/g),j=A*(P.height/b);I=(Y=this.closestInMultiArray(B,j,p,w)).index,F=Y.j,I!==null&&(p=c.globals.seriesXvalues[I],F=(Y=this.closestInArray(B,p)).index)}return c.globals.capturedSeriesIndex=I===null?-1:I,(!F||F<1)&&(F=0),c.globals.isBarHorizontal?c.globals.capturedDataPointIndex=E:c.globals.capturedDataPointIndex=F,{capturedSeries:I,j:c.globals.isBarHorizontal?E:F,hoverX:k,hoverY:A}}},{key:"closestInMultiArray",value:function(i,s,a,l){var h=this.w,c=0,d=null,g=-1;h.globals.series.length>1?c=this.getFirstActiveXArray(a):d=0;var b=a[c][0],x=Math.abs(i-b);if(a.forEach(function(k){k.forEach(function(A,F){var E=Math.abs(i-A);E<=x&&(x=E,g=F)})}),g!==-1){var v=l[c][g],_=Math.abs(s-v);d=c,l.forEach(function(k,A){var F=Math.abs(s-k[g]);F<=_&&(_=F,d=A)})}return{index:d,j:g}}},{key:"getFirstActiveXArray",value:function(i){for(var s=this.w,a=0,l=i.map(function(c,d){return c.length>0?d:-1}),h=0;h<l.length;h++)if(l[h]!==-1&&s.globals.collapsedSeriesIndices.indexOf(h)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(h)===-1){a=l[h];break}return a}},{key:"closestInArray",value:function(i,s){for(var a=s[0],l=null,h=Math.abs(i-a),c=0;c<s.length;c++){var d=Math.abs(i-s[c]);d<h&&(h=d,l=c)}return{index:l}}},{key:"isXoverlap",value:function(i){var s=[],a=this.w.globals.seriesX.filter(function(h){return h[0]!==void 0});if(a.length>0)for(var l=0;l<a.length-1;l++)a[l][i]!==void 0&&a[l+1][i]!==void 0&&a[l][i]!==a[l+1][i]&&s.push("unEqual");return s.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var i=!0,s=this.w.globals.initialSeries,a=0;a<s.length-1;a++)if(s[a].data.length!==s[a+1].data.length){i=!1;break}return i}},{key:"getBarsHeight",value:function(i){return O(i).reduce(function(s,a){return s+a.getBBox().height},0)}},{key:"getElMarkers",value:function(i){return typeof i=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(i,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var i=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(i=O(i)).sort(function(a,l){var h=Number(a.getAttribute("data:realIndex")),c=Number(l.getAttribute("data:realIndex"));return c<h?1:c>h?-1:0});var s=[];return i.forEach(function(a){s.push(a.querySelector(".apexcharts-marker"))}),s}},{key:"hasMarkers",value:function(i){return this.getElMarkers(i).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(i){var s=this.w,a=s.config.markers.hover.size;return a===void 0&&(a=s.globals.markers.size[i]+s.config.markers.hover.sizeOffset),a}},{key:"toggleAllTooltipSeriesGroups",value:function(i){var s=this.w,a=this.ttCtx;a.allTooltipSeriesGroups.length===0&&(a.allTooltipSeriesGroups=s.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var l=a.allTooltipSeriesGroups,h=0;h<l.length;h++)i==="enable"?(l[h].classList.add("apexcharts-active"),l[h].style.display=s.config.tooltip.items.display):(l[h].classList.remove("apexcharts-active"),l[h].style.display="none")}}]),L}(),Ra=function(){function L(i){u(this,L),this.w=i.w,this.ctx=i.ctx,this.ttCtx=i,this.tooltipUtil=new Cr(i)}return m(L,[{key:"drawSeriesTexts",value:function(i){var s=i.shared,a=s===void 0||s,l=i.ttItems,h=i.i,c=h===void 0?0:h,d=i.j,g=d===void 0?null:d,b=i.y1,x=i.y2,v=i.e,_=this.w;_.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:c,j:g,y1:b,y2:x,w:_}):this.toggleActiveInactiveSeries(a);var k=this.getValuesToPrint({i:c,j:g});this.printLabels({i:c,j:g,values:k,ttItems:l,shared:a,e:v});var A=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=A.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=A.getBoundingClientRect().height}},{key:"printLabels",value:function(i){var s,a=this,l=i.i,h=i.j,c=i.values,d=i.ttItems,g=i.shared,b=i.e,x=this.w,v=[],_=function(P){return x.globals.seriesGoals[P]&&x.globals.seriesGoals[P][h]&&Array.isArray(x.globals.seriesGoals[P][h])},k=c.xVal,A=c.zVal,F=c.xAxisTTVal,E="",I=x.globals.colors[l];h!==null&&x.config.plotOptions.bar.distributed&&(I=x.globals.colors[h]);for(var Y=function(P,B){var j=a.getFormatters(l);E=a.getSeriesName({fn:j.yLbTitleFormatter,index:l,seriesIndex:l,j:h}),x.config.chart.type==="treemap"&&(E=j.yLbTitleFormatter(String(x.config.series[l].data[h].x),{series:x.globals.series,seriesIndex:l,dataPointIndex:h,w:x}));var H=x.config.tooltip.inverseOrder?B:P;if(x.globals.axisCharts){var q=function(ne){var ie,de,ge,Fe;return x.globals.isRangeData?j.yLbFormatter((ie=x.globals.seriesRangeStart)===null||ie===void 0||(de=ie[ne])===null||de===void 0?void 0:de[h],{series:x.globals.seriesRangeStart,seriesIndex:ne,dataPointIndex:h,w:x})+" - "+j.yLbFormatter((ge=x.globals.seriesRangeEnd)===null||ge===void 0||(Fe=ge[ne])===null||Fe===void 0?void 0:Fe[h],{series:x.globals.seriesRangeEnd,seriesIndex:ne,dataPointIndex:h,w:x}):j.yLbFormatter(x.globals.series[ne][h],{series:x.globals.series,seriesIndex:ne,dataPointIndex:h,w:x})};if(g)j=a.getFormatters(H),E=a.getSeriesName({fn:j.yLbTitleFormatter,index:H,seriesIndex:l,j:h}),I=x.globals.colors[H],s=q(H),_(H)&&(v=x.globals.seriesGoals[H][h].map(function(ne){return{attrs:ne,val:j.yLbFormatter(ne.value,{seriesIndex:H,dataPointIndex:h,w:x})}}));else{var Z,te=b==null||(Z=b.target)===null||Z===void 0?void 0:Z.getAttribute("fill");te&&(I=te.indexOf("url")!==-1?document.querySelector(te.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):te),s=q(l),_(l)&&Array.isArray(x.globals.seriesGoals[l][h])&&(v=x.globals.seriesGoals[l][h].map(function(ne){return{attrs:ne,val:j.yLbFormatter(ne.value,{seriesIndex:l,dataPointIndex:h,w:x})}}))}}h===null&&(s=j.yLbFormatter(x.globals.series[l],r(r({},x),{},{seriesIndex:l,dataPointIndex:l}))),a.DOMHandling({i:l,t:H,j:h,ttItems:d,values:{val:s,goalVals:v,xVal:k,xAxisTTVal:F,zVal:A},seriesName:E,shared:g,pColor:I})},p=0,w=x.globals.series.length-1;p<x.globals.series.length;p++,w--)Y(p,w)}},{key:"getFormatters",value:function(i){var s,a=this.w,l=a.globals.yLabelFormatters[i];return a.globals.ttVal!==void 0?Array.isArray(a.globals.ttVal)?(l=a.globals.ttVal[i]&&a.globals.ttVal[i].formatter,s=a.globals.ttVal[i]&&a.globals.ttVal[i].title&&a.globals.ttVal[i].title.formatter):(l=a.globals.ttVal.formatter,typeof a.globals.ttVal.title.formatter=="function"&&(s=a.globals.ttVal.title.formatter)):s=a.config.tooltip.y.title.formatter,typeof l!="function"&&(l=a.globals.yLabelFormatters[0]?a.globals.yLabelFormatters[0]:function(h){return h}),typeof s!="function"&&(s=function(h){return h}),{yLbFormatter:l,yLbTitleFormatter:s}}},{key:"getSeriesName",value:function(i){var s=i.fn,a=i.index,l=i.seriesIndex,h=i.j,c=this.w;return s(String(c.globals.seriesNames[a]),{series:c.globals.series,seriesIndex:l,dataPointIndex:h,w:c})}},{key:"DOMHandling",value:function(i){i.i;var s=i.t,a=i.j,l=i.ttItems,h=i.values,c=i.seriesName,d=i.shared,g=i.pColor,b=this.w,x=this.ttCtx,v=h.val,_=h.goalVals,k=h.xVal,A=h.xAxisTTVal,F=h.zVal,E=null;E=l[s].children,b.config.tooltip.fillSeriesColor&&(l[s].style.backgroundColor=g,E[0].style.display="none"),x.showTooltipTitle&&(x.tooltipTitle===null&&(x.tooltipTitle=b.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),x.tooltipTitle.innerHTML=k),x.isXAxisTooltipEnabled&&(x.xaxisTooltipText.innerHTML=A!==""?A:k);var I=l[s].querySelector(".apexcharts-tooltip-text-y-label");I&&(I.innerHTML=c||"");var Y=l[s].querySelector(".apexcharts-tooltip-text-y-value");Y&&(Y.innerHTML=v!==void 0?v:""),E[0]&&E[0].classList.contains("apexcharts-tooltip-marker")&&(b.config.tooltip.marker.fillColors&&Array.isArray(b.config.tooltip.marker.fillColors)&&(g=b.config.tooltip.marker.fillColors[s]),E[0].style.backgroundColor=g),b.config.tooltip.marker.show||(E[0].style.display="none");var p=l[s].querySelector(".apexcharts-tooltip-text-goals-label"),w=l[s].querySelector(".apexcharts-tooltip-text-goals-value");if(_.length&&b.globals.seriesGoals[s]){var P=function(){var B="<div >",j="<div>";_.forEach(function(H,q){B+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(H.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(H.attrs.name,"</div>"),j+="<div>".concat(H.val,"</div>")}),p.innerHTML=B+"</div>",w.innerHTML=j+"</div>"};d?b.globals.seriesGoals[s][a]&&Array.isArray(b.globals.seriesGoals[s][a])?P():(p.innerHTML="",w.innerHTML=""):P()}else p.innerHTML="",w.innerHTML="";F!==null&&(l[s].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=b.config.tooltip.z.title,l[s].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=F!==void 0?F:""),d&&E[0]&&(v==null||b.globals.ancillaryCollapsedSeriesIndices.indexOf(s)>-1||b.globals.collapsedSeriesIndices.indexOf(s)>-1?E[0].parentNode.style.display="none":E[0].parentNode.style.display=b.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(i){var s=this.w;if(i)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var a=s.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");a&&(a.classList.add("apexcharts-active"),a.style.display=s.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(i){var s=i.i,a=i.j,l=this.w,h=this.ctx.series.filteredSeriesX(),c="",d="",g=null,b=null,x={series:l.globals.series,seriesIndex:s,dataPointIndex:a,w:l},v=l.globals.ttZFormatter;a===null?b=l.globals.series[s]:l.globals.isXNumeric&&l.config.chart.type!=="treemap"?(c=h[s][a],h[s].length===0&&(c=h[this.tooltipUtil.getFirstActiveXArray(h)][a])):c=l.globals.labels[a]!==void 0?l.globals.labels[a]:"";var _=c;return l.globals.isXNumeric&&l.config.xaxis.type==="datetime"?c=new Ae(this.ctx).xLabelFormat(l.globals.ttKeyFormatter,_,_,{i:void 0,dateFormatter:new Ce(this.ctx).formatDate,w:this.w}):c=l.globals.isBarHorizontal?l.globals.yLabelFormatters[0](_,x):l.globals.xLabelFormatter(_,x),l.config.tooltip.x.formatter!==void 0&&(c=l.globals.ttKeyFormatter(_,x)),l.globals.seriesZ.length>0&&l.globals.seriesZ[s].length>0&&(g=v(l.globals.seriesZ[s][a],l)),d=typeof l.config.xaxis.tooltip.formatter=="function"?l.globals.xaxisTooltipFormatter(_,x):c,{val:Array.isArray(b)?b.join(" "):b,xVal:Array.isArray(c)?c.join(" "):c,xAxisTTVal:Array.isArray(d)?d.join(" "):d,zVal:g}}},{key:"handleCustomTooltip",value:function(i){var s=i.i,a=i.j,l=i.y1,h=i.y2,c=i.w,d=this.ttCtx.getElTooltip(),g=c.config.tooltip.custom;Array.isArray(g)&&g[s]&&(g=g[s]),d.innerHTML=g({ctx:this.ctx,series:c.globals.series,seriesIndex:s,dataPointIndex:a,y1:l,y2:h,w:c})}}]),L}(),zs=function(){function L(i){u(this,L),this.ttCtx=i,this.ctx=i.ctx,this.w=i.w}return m(L,[{key:"moveXCrosshairs",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=this.ttCtx,l=this.w,h=a.getElXCrosshairs(),c=i-a.xcrosshairsWidth/2,d=l.globals.labels.slice().length;if(s!==null&&(c=l.globals.gridWidth/d*s),h===null||l.globals.isBarHorizontal||(h.setAttribute("x",c),h.setAttribute("x1",c),h.setAttribute("x2",c),h.setAttribute("y2",l.globals.gridHeight),h.classList.add("apexcharts-active")),c<0&&(c=0),c>l.globals.gridWidth&&(c=l.globals.gridWidth),a.isXAxisTooltipEnabled){var g=c;l.config.xaxis.crosshairs.width!=="tickWidth"&&l.config.xaxis.crosshairs.width!=="barWidth"||(g=c+a.xcrosshairsWidth/2),this.moveXAxisTooltip(g)}}},{key:"moveYCrosshairs",value:function(i){var s=this.ttCtx;s.ycrosshairs!==null&&V.setAttrs(s.ycrosshairs,{y1:i,y2:i}),s.ycrosshairsHidden!==null&&V.setAttrs(s.ycrosshairsHidden,{y1:i,y2:i})}},{key:"moveXAxisTooltip",value:function(i){var s=this.w,a=this.ttCtx;if(a.xaxisTooltip!==null&&a.xcrosshairsWidth!==0){a.xaxisTooltip.classList.add("apexcharts-active");var l=a.xaxisOffY+s.config.xaxis.tooltip.offsetY+s.globals.translateY+1+s.config.xaxis.offsetY;if(i-=a.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(i)){i+=s.globals.translateX;var h;h=new V(this.ctx).getTextRects(a.xaxisTooltipText.innerHTML),a.xaxisTooltipText.style.minWidth=h.width+"px",a.xaxisTooltip.style.left=i+"px",a.xaxisTooltip.style.top=l+"px"}}}},{key:"moveYAxisTooltip",value:function(i){var s=this.w,a=this.ttCtx;a.yaxisTTEls===null&&(a.yaxisTTEls=s.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var l=parseInt(a.ycrosshairsHidden.getAttribute("y1"),10),h=s.globals.translateY+l,c=a.yaxisTTEls[i].getBoundingClientRect().height,d=s.globals.translateYAxisX[i]-2;s.config.yaxis[i].opposite&&(d-=26),h-=c/2,s.globals.ignoreYAxisIndexes.indexOf(i)===-1?(a.yaxisTTEls[i].classList.add("apexcharts-active"),a.yaxisTTEls[i].style.top=h+"px",a.yaxisTTEls[i].style.left=d+s.config.yaxis[i].tooltip.offsetX+"px"):a.yaxisTTEls[i].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,l=this.w,h=this.ttCtx,c=h.getElTooltip(),d=h.tooltipRect,g=a!==null?parseFloat(a):1,b=parseFloat(i)+g+5,x=parseFloat(s)+g/2;if(b>l.globals.gridWidth/2&&(b=b-d.ttWidth-g-10),b>l.globals.gridWidth-d.ttWidth-10&&(b=l.globals.gridWidth-d.ttWidth),b<-20&&(b=-20),l.config.tooltip.followCursor){var v=h.getElGrid().getBoundingClientRect();(b=h.e.clientX-v.left)>l.globals.gridWidth/2&&(b-=h.tooltipRect.ttWidth),(x=h.e.clientY+l.globals.translateY-v.top)>l.globals.gridHeight/2&&(x-=h.tooltipRect.ttHeight)}else l.globals.isBarHorizontal||d.ttHeight/2+x>l.globals.gridHeight&&(x=l.globals.gridHeight-d.ttHeight+l.globals.translateY);isNaN(b)||(b+=l.globals.translateX,c.style.left=b+"px",c.style.top=x+"px")}},{key:"moveMarkers",value:function(i,s){var a=this.w,l=this.ttCtx;if(a.globals.markers.size[i]>0)for(var h=a.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(i,"'] .apexcharts-marker")),c=0;c<h.length;c++)parseInt(h[c].getAttribute("rel"),10)===s&&(l.marker.resetPointsSize(),l.marker.enlargeCurrentPoint(s,h[c]));else l.marker.resetPointsSize(),this.moveDynamicPointOnHover(s,i)}},{key:"moveDynamicPointOnHover",value:function(i,s){var a,l,h=this.w,c=this.ttCtx,d=h.globals.pointsArray,g=c.tooltipUtil.getHoverMarkerSize(s),b=h.config.series[s].type;if(!b||b!=="column"&&b!=="candlestick"&&b!=="boxPlot"){a=d[s][i][0],l=d[s][i][1]?d[s][i][1]:0;var x=h.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(s,"'] .apexcharts-series-markers circle"));x&&l<h.globals.gridHeight&&l>0&&(x.setAttribute("r",g),x.setAttribute("cx",a),x.setAttribute("cy",l)),this.moveXCrosshairs(a),c.fixedTooltip||this.moveTooltip(a,l,g)}}},{key:"moveDynamicPointsOnHover",value:function(i){var s,a=this.ttCtx,l=a.w,h=0,c=0,d=l.globals.pointsArray;s=new Ee(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var g=a.tooltipUtil.getHoverMarkerSize(s);d[s]&&(h=d[s][i][0],c=d[s][i][1]);var b=a.tooltipUtil.getAllMarkers();if(b!==null)for(var x=0;x<l.globals.series.length;x++){var v=d[x];if(l.globals.comboCharts&&v===void 0&&b.splice(x,0,null),v&&v.length){var _=d[x][i][1],k=void 0;if(b[x].setAttribute("cx",h),l.config.chart.type==="rangeArea"&&!l.globals.comboCharts){var A=i+l.globals.series[x].length;k=d[x][A][1],_-=Math.abs(_-k)/2}_!==null&&!isNaN(_)&&_<l.globals.gridHeight+g&&_+g>0?(b[x]&&b[x].setAttribute("r",g),b[x]&&b[x].setAttribute("cy",_)):b[x]&&b[x].setAttribute("r",0)}}this.moveXCrosshairs(h),a.fixedTooltip||this.moveTooltip(h,c||l.globals.gridHeight,g)}},{key:"moveStickyTooltipOverBars",value:function(i,s){var a=this.w,l=this.ttCtx,h=a.globals.columnSeries?a.globals.columnSeries.length:a.globals.series.length,c=h>=2&&h%2==0?Math.floor(h/2):Math.floor(h/2)+1;a.globals.isBarHorizontal&&(c=new Ee(this.ctx).getActiveConfigSeriesIndex("desc")+1);var d=a.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(c,"'] path[j='").concat(i,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(c,"'] path[j='").concat(i,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(c,"'] path[j='").concat(i,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(c,"'] path[j='").concat(i,"']"));d||typeof s!="number"||(d=a.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(s,"'] path[j='").concat(i,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(s,"'] path[j='").concat(i,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(s,"'] path[j='").concat(i,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(s,"'] path[j='").concat(i,"']")));var g=d?parseFloat(d.getAttribute("cx")):0,b=d?parseFloat(d.getAttribute("cy")):0,x=d?parseFloat(d.getAttribute("barWidth")):0,v=l.getElGrid().getBoundingClientRect(),_=d&&(d.classList.contains("apexcharts-candlestick-area")||d.classList.contains("apexcharts-boxPlot-area"));a.globals.isXNumeric?(d&&!_&&(g-=h%2!=0?x/2:0),d&&_&&a.globals.comboCharts&&(g-=x/2)):a.globals.isBarHorizontal||(g=l.xAxisTicksPositions[i-1]+l.dataPointsDividedWidth/2,isNaN(g)&&(g=l.xAxisTicksPositions[i]-l.dataPointsDividedWidth/2)),a.globals.isBarHorizontal?b-=l.tooltipRect.ttHeight:a.config.tooltip.followCursor?b=l.e.clientY-v.top-l.tooltipRect.ttHeight/2:b+l.tooltipRect.ttHeight+15>a.globals.gridHeight&&(b=a.globals.gridHeight),a.globals.isBarHorizontal||this.moveXCrosshairs(g),l.fixedTooltip||this.moveTooltip(g,b||a.globals.gridHeight)}}]),L}(),Ar=function(){function L(i){u(this,L),this.w=i.w,this.ttCtx=i,this.ctx=i.ctx,this.tooltipPosition=new zs(i)}return m(L,[{key:"drawDynamicPoints",value:function(){var i=this.w,s=new V(this.ctx),a=new We(this.ctx),l=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series");l=O(l),i.config.chart.stacked&&l.sort(function(v,_){return parseFloat(v.getAttribute("data:realIndex"))-parseFloat(_.getAttribute("data:realIndex"))});for(var h=0;h<l.length;h++){var c=l[h].querySelector(".apexcharts-series-markers-wrap");if(c!==null){var d=void 0,g="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));i.config.chart.type!=="line"&&i.config.chart.type!=="area"||i.globals.comboCharts||i.config.tooltip.intersect||(g+=" no-pointer-events");var b=a.getMarkerConfig({cssClass:g,seriesIndex:Number(c.getAttribute("data:realIndex"))});(d=s.drawMarker(0,0,b)).node.setAttribute("default-marker-size",0);var x=document.createElementNS(i.globals.SVGNS,"g");x.classList.add("apexcharts-series-markers"),x.appendChild(d.node),c.appendChild(x)}}}},{key:"enlargeCurrentPoint",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,h=this.w;h.config.chart.type!=="bubble"&&this.newPointSize(i,s);var c=s.getAttribute("cx"),d=s.getAttribute("cy");if(a!==null&&l!==null&&(c=a,d=l),this.tooltipPosition.moveXCrosshairs(c),!this.fixedTooltip){if(h.config.chart.type==="radar"){var g=this.ttCtx.getElGrid().getBoundingClientRect();c=this.ttCtx.e.clientX-g.left}this.tooltipPosition.moveTooltip(c,d,h.config.markers.hover.size)}}},{key:"enlargePoints",value:function(i){for(var s=this.w,a=this,l=this.ttCtx,h=i,c=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),d=s.config.markers.hover.size,g=0;g<c.length;g++){var b=c[g].getAttribute("rel"),x=c[g].getAttribute("index");if(d===void 0&&(d=s.globals.markers.size[x]+s.config.markers.hover.sizeOffset),h===parseInt(b,10)){a.newPointSize(h,c[g]);var v=c[g].getAttribute("cx"),_=c[g].getAttribute("cy");a.tooltipPosition.moveXCrosshairs(v),l.fixedTooltip||a.tooltipPosition.moveTooltip(v,_,d)}else a.oldPointSize(c[g])}}},{key:"newPointSize",value:function(i,s){var a=this.w,l=a.config.markers.hover.size,h=i===0?s.parentNode.firstChild:s.parentNode.lastChild;if(h.getAttribute("default-marker-size")!=="0"){var c=parseInt(h.getAttribute("index"),10);l===void 0&&(l=a.globals.markers.size[c]+a.config.markers.hover.sizeOffset),l<0&&(l=0),h.setAttribute("r",l)}}},{key:"oldPointSize",value:function(i){var s=parseFloat(i.getAttribute("default-marker-size"));i.setAttribute("r",s)}},{key:"resetPointsSize",value:function(){for(var i=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),s=0;s<i.length;s++){var a=parseFloat(i[s].getAttribute("default-marker-size"));R.isNumber(a)&&a>=0?i[s].setAttribute("r",a):i[s].setAttribute("r",0)}}}]),L}(),Sr=function(){function L(i){u(this,L),this.w=i.w;var s=this.w;this.ttCtx=i,this.isVerticalGroupedRangeBar=!s.globals.isBarHorizontal&&s.config.chart.type==="rangeBar"&&s.config.plotOptions.bar.rangeBarGroupRows}return m(L,[{key:"getAttr",value:function(i,s){return parseFloat(i.target.getAttribute(s))}},{key:"handleHeatTreeTooltip",value:function(i){var s=i.e,a=i.opt,l=i.x,h=i.y,c=i.type,d=this.ttCtx,g=this.w;if(s.target.classList.contains("apexcharts-".concat(c,"-rect"))){var b=this.getAttr(s,"i"),x=this.getAttr(s,"j"),v=this.getAttr(s,"cx"),_=this.getAttr(s,"cy"),k=this.getAttr(s,"width"),A=this.getAttr(s,"height");if(d.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:b,j:x,shared:!1,e:s}),g.globals.capturedSeriesIndex=b,g.globals.capturedDataPointIndex=x,l=v+d.tooltipRect.ttWidth/2+k,h=_+d.tooltipRect.ttHeight/2-A/2,d.tooltipPosition.moveXCrosshairs(v+k/2),l>g.globals.gridWidth/2&&(l=v-d.tooltipRect.ttWidth/2+k),d.w.config.tooltip.followCursor){var F=g.globals.dom.elWrap.getBoundingClientRect();l=g.globals.clientX-F.left-(l>g.globals.gridWidth/2?d.tooltipRect.ttWidth:0),h=g.globals.clientY-F.top-(h>g.globals.gridHeight/2?d.tooltipRect.ttHeight:0)}}return{x:l,y:h}}},{key:"handleMarkerTooltip",value:function(i){var s,a,l=i.e,h=i.opt,c=i.x,d=i.y,g=this.w,b=this.ttCtx;if(l.target.classList.contains("apexcharts-marker")){var x=parseInt(h.paths.getAttribute("cx"),10),v=parseInt(h.paths.getAttribute("cy"),10),_=parseFloat(h.paths.getAttribute("val"));if(a=parseInt(h.paths.getAttribute("rel"),10),s=parseInt(h.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,b.intersect){var k=R.findAncestor(h.paths,"apexcharts-series");k&&(s=parseInt(k.getAttribute("data:realIndex"),10))}if(b.tooltipLabels.drawSeriesTexts({ttItems:h.ttItems,i:s,j:a,shared:!b.showOnIntersect&&g.config.tooltip.shared,e:l}),l.type==="mouseup"&&b.markerClick(l,s,a),g.globals.capturedSeriesIndex=s,g.globals.capturedDataPointIndex=a,c=x,d=v+g.globals.translateY-1.4*b.tooltipRect.ttHeight,b.w.config.tooltip.followCursor){var A=b.getElGrid().getBoundingClientRect();d=b.e.clientY+g.globals.translateY-A.top}_<0&&(d=v),b.marker.enlargeCurrentPoint(a,h.paths,c,d)}return{x:c,y:d}}},{key:"handleBarTooltip",value:function(i){var s,a,l=i.e,h=i.opt,c=this.w,d=this.ttCtx,g=d.getElTooltip(),b=0,x=0,v=0,_=this.getBarTooltipXY({e:l,opt:h});s=_.i;var k=_.barHeight,A=_.j;c.globals.capturedSeriesIndex=s,c.globals.capturedDataPointIndex=A,c.globals.isBarHorizontal&&d.tooltipUtil.hasBars()||!c.config.tooltip.shared?(x=_.x,v=_.y,a=Array.isArray(c.config.stroke.width)?c.config.stroke.width[s]:c.config.stroke.width,b=x):c.globals.comboCharts||c.config.tooltip.shared||(b/=2),isNaN(v)&&(v=c.globals.svgHeight-d.tooltipRect.ttHeight);var F=parseInt(h.paths.parentNode.getAttribute("data:realIndex"),10),E=c.globals.isMultipleYAxis?c.config.yaxis[F]&&c.config.yaxis[F].reversed:c.config.yaxis[0].reversed;if(x+d.tooltipRect.ttWidth>c.globals.gridWidth&&!E?x-=d.tooltipRect.ttWidth:x<0&&(x=0),d.w.config.tooltip.followCursor){var I=d.getElGrid().getBoundingClientRect();v=d.e.clientY-I.top}d.tooltip===null&&(d.tooltip=c.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),c.config.tooltip.shared||(c.globals.comboBarCount>0?d.tooltipPosition.moveXCrosshairs(b+a/2):d.tooltipPosition.moveXCrosshairs(b)),!d.fixedTooltip&&(!c.config.tooltip.shared||c.globals.isBarHorizontal&&d.tooltipUtil.hasBars())&&(E&&(x-=d.tooltipRect.ttWidth)<0&&(x=0),!E||c.globals.isBarHorizontal&&d.tooltipUtil.hasBars()||(v=v+k-2*(c.globals.series[s][A]<0?k:0)),v=v+c.globals.translateY-d.tooltipRect.ttHeight/2,g.style.left=x+c.globals.translateX+"px",g.style.top=v+"px")}},{key:"getBarTooltipXY",value:function(i){var s=this,a=i.e,l=i.opt,h=this.w,c=null,d=this.ttCtx,g=0,b=0,x=0,v=0,_=0,k=a.target.classList;if(k.contains("apexcharts-bar-area")||k.contains("apexcharts-candlestick-area")||k.contains("apexcharts-boxPlot-area")||k.contains("apexcharts-rangebar-area")){var A=a.target,F=A.getBoundingClientRect(),E=l.elGrid.getBoundingClientRect(),I=F.height;_=F.height;var Y=F.width,p=parseInt(A.getAttribute("cx"),10),w=parseInt(A.getAttribute("cy"),10);v=parseFloat(A.getAttribute("barWidth"));var P=a.type==="touchmove"?a.touches[0].clientX:a.clientX;c=parseInt(A.getAttribute("j"),10),g=parseInt(A.parentNode.getAttribute("rel"),10)-1;var B=A.getAttribute("data-range-y1"),j=A.getAttribute("data-range-y2");h.globals.comboCharts&&(g=parseInt(A.parentNode.getAttribute("data:realIndex"),10));var H=function(Z){return h.globals.isXNumeric?p-Y/2:s.isVerticalGroupedRangeBar?p+Y/2:p-d.dataPointsDividedWidth+Y/2},q=function(){return w-d.dataPointsDividedHeight+I/2-d.tooltipRect.ttHeight/2};d.tooltipLabels.drawSeriesTexts({ttItems:l.ttItems,i:g,j:c,y1:B?parseInt(B,10):null,y2:j?parseInt(j,10):null,shared:!d.showOnIntersect&&h.config.tooltip.shared,e:a}),h.config.tooltip.followCursor?h.globals.isBarHorizontal?(b=P-E.left+15,x=q()):(b=H(),x=a.clientY-E.top-d.tooltipRect.ttHeight/2-15):h.globals.isBarHorizontal?((b=p)<d.xyRatios.baseLineInvertedY&&(b=p-d.tooltipRect.ttWidth),x=q()):(b=H(),x=w)}return{x:b,y:x,barHeight:_,barWidth:v,i:g,j:c}}}]),L}(),Pr=function(){function L(i){u(this,L),this.w=i.w,this.ttCtx=i}return m(L,[{key:"drawXaxisTooltip",value:function(){var i=this.w,s=this.ttCtx,a=i.config.xaxis.position==="bottom";s.xaxisOffY=a?i.globals.gridHeight+1:-i.globals.xAxisHeight-i.config.xaxis.axisTicks.height+3;var l=a?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",h=i.globals.dom.elWrap;s.isXAxisTooltipEnabled&&i.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(s.xaxisTooltip=document.createElement("div"),s.xaxisTooltip.setAttribute("class",l+" apexcharts-theme-"+i.config.tooltip.theme),h.appendChild(s.xaxisTooltip),s.xaxisTooltipText=document.createElement("div"),s.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),s.xaxisTooltipText.style.fontFamily=i.config.xaxis.tooltip.style.fontFamily||i.config.chart.fontFamily,s.xaxisTooltipText.style.fontSize=i.config.xaxis.tooltip.style.fontSize,s.xaxisTooltip.appendChild(s.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var i=this.w,s=this.ttCtx,a=function(h){var c=i.config.yaxis[h].opposite||i.config.yaxis[h].crosshairs.opposite;s.yaxisOffX=c?i.globals.gridWidth+1:1;var d="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(h,c?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");i.globals.yAxisSameScaleIndices.map(function(b,x){b.map(function(v,_){_===h&&(d+=i.config.yaxis[_].show?" ":" apexcharts-yaxistooltip-hidden")})});var g=i.globals.dom.elWrap;i.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(h))===null&&(s.yaxisTooltip=document.createElement("div"),s.yaxisTooltip.setAttribute("class",d+" apexcharts-theme-"+i.config.tooltip.theme),g.appendChild(s.yaxisTooltip),h===0&&(s.yaxisTooltipText=[]),s.yaxisTooltipText[h]=document.createElement("div"),s.yaxisTooltipText[h].classList.add("apexcharts-yaxistooltip-text"),s.yaxisTooltip.appendChild(s.yaxisTooltipText[h]))},l=0;l<i.config.yaxis.length;l++)a(l)}},{key:"setXCrosshairWidth",value:function(){var i=this.w,s=this.ttCtx,a=s.getElXCrosshairs();if(s.xcrosshairsWidth=parseInt(i.config.xaxis.crosshairs.width,10),i.globals.comboCharts){var l=i.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(l!==null&&i.config.xaxis.crosshairs.width==="barWidth"){var h=parseFloat(l.getAttribute("barWidth"));s.xcrosshairsWidth=h}else if(i.config.xaxis.crosshairs.width==="tickWidth"){var c=i.globals.labels.length;s.xcrosshairsWidth=i.globals.gridWidth/c}}else if(i.config.xaxis.crosshairs.width==="tickWidth"){var d=i.globals.labels.length;s.xcrosshairsWidth=i.globals.gridWidth/d}else if(i.config.xaxis.crosshairs.width==="barWidth"){var g=i.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(g!==null){var b=parseFloat(g.getAttribute("barWidth"));s.xcrosshairsWidth=b}else s.xcrosshairsWidth=1}i.globals.isBarHorizontal&&(s.xcrosshairsWidth=0),a!==null&&s.xcrosshairsWidth>0&&a.setAttribute("width",s.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var i=this.w,s=this.ttCtx;s.ycrosshairs=i.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),s.ycrosshairsHidden=i.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(i,s,a){var l=this.ttCtx,h=this.w,c=h.globals.yLabelFormatters[i];if(l.yaxisTooltips[i]){var d=l.getElGrid().getBoundingClientRect(),g=(s-d.top)*a.yRatio[i],b=h.globals.maxYArr[i]-h.globals.minYArr[i],x=h.globals.minYArr[i]+(b-g);l.tooltipPosition.moveYCrosshairs(s-d.top),l.yaxisTooltipText[i].innerHTML=c(x),l.tooltipPosition.moveYAxisTooltip(i)}}}]),L}(),Fr=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w;var s=this.w;this.tConfig=s.config.tooltip,this.tooltipUtil=new Cr(this),this.tooltipLabels=new Ra(this),this.tooltipPosition=new zs(this),this.marker=new Ar(this),this.intersect=new Sr(this),this.axesTooltip=new Pr(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!s.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return m(L,[{key:"getElTooltip",value:function(i){return i||(i=this),i.w.globals.dom.baseEl?i.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(i){var s=this.w;this.xyRatios=i,this.isXAxisTooltipEnabled=s.config.xaxis.tooltip.enabled&&s.globals.axisCharts,this.yaxisTooltips=s.config.yaxis.map(function(c,d){return!!(c.show&&c.tooltip.enabled&&s.globals.axisCharts)}),this.allTooltipSeriesGroups=[],s.globals.axisCharts||(this.showTooltipTitle=!1);var a=document.createElement("div");if(a.classList.add("apexcharts-tooltip"),s.config.tooltip.cssClass&&a.classList.add(s.config.tooltip.cssClass),a.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),s.globals.dom.elWrap.appendChild(a),s.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var l=new zt(this.ctx);this.xAxisTicksPositions=l.getXAxisTicksPositions()}if(!s.globals.comboCharts&&!this.tConfig.intersect&&s.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),s.config.markers.size!==0&&s.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),s.globals.collapsedSeries.length!==s.globals.series.length){this.dataPointsDividedHeight=s.globals.gridHeight/s.globals.dataPoints,this.dataPointsDividedWidth=s.globals.gridWidth/s.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||s.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,a.appendChild(this.tooltipTitle));var h=s.globals.series.length;(s.globals.xyCharts||s.globals.comboCharts)&&this.tConfig.shared&&(h=this.showOnIntersect?1:s.globals.series.length),this.legendLabels=s.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(h),this.addSVGEvents()}}},{key:"createTTElements",value:function(i){for(var s=this,a=this.w,l=[],h=this.getElTooltip(),c=function(g){var b=document.createElement("div");b.classList.add("apexcharts-tooltip-series-group"),b.style.order=a.config.tooltip.inverseOrder?i-g:g+1,s.tConfig.shared&&s.tConfig.enabledOnSeries&&Array.isArray(s.tConfig.enabledOnSeries)&&s.tConfig.enabledOnSeries.indexOf(g)<0&&b.classList.add("apexcharts-tooltip-series-group-hidden");var x=document.createElement("span");x.classList.add("apexcharts-tooltip-marker"),x.style.backgroundColor=a.globals.colors[g],b.appendChild(x);var v=document.createElement("div");v.classList.add("apexcharts-tooltip-text"),v.style.fontFamily=s.tConfig.style.fontFamily||a.config.chart.fontFamily,v.style.fontSize=s.tConfig.style.fontSize,["y","goals","z"].forEach(function(_){var k=document.createElement("div");k.classList.add("apexcharts-tooltip-".concat(_,"-group"));var A=document.createElement("span");A.classList.add("apexcharts-tooltip-text-".concat(_,"-label")),k.appendChild(A);var F=document.createElement("span");F.classList.add("apexcharts-tooltip-text-".concat(_,"-value")),k.appendChild(F),v.appendChild(k)}),b.appendChild(v),h.appendChild(b),l.push(b)},d=0;d<i;d++)c(d);return l}},{key:"addSVGEvents",value:function(){var i=this.w,s=i.config.chart.type,a=this.getElTooltip(),l=!(s!=="bar"&&s!=="candlestick"&&s!=="boxPlot"&&s!=="rangeBar"),h=s==="area"||s==="line"||s==="scatter"||s==="bubble"||s==="radar",c=i.globals.dom.Paper.node,d=this.getElGrid();d&&(this.seriesBound=d.getBoundingClientRect());var g,b=[],x=[],v={hoverArea:c,elGrid:d,tooltipEl:a,tooltipY:b,tooltipX:x,ttItems:this.ttItems};if(i.globals.axisCharts&&(h?g=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):l?g=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):s!=="heatmap"&&s!=="treemap"||(g=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),g&&g.length))for(var _=0;_<g.length;_++)b.push(g[_].getAttribute("cy")),x.push(g[_].getAttribute("cx"));if(i.globals.xyCharts&&!this.showOnIntersect||i.globals.comboCharts&&!this.showOnIntersect||l&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([c],v);else if(l&&!i.globals.comboCharts||h&&this.showOnIntersect)this.addDatapointEventsListeners(v);else if(!i.globals.axisCharts||s==="heatmap"||s==="treemap"){var k=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(k,v)}if(this.showOnIntersect){var A=i.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");A.length>0&&this.addPathsEventListeners(A,v),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(v)}}},{key:"drawFixedTooltipRect",value:function(){var i=this.w,s=this.getElTooltip(),a=s.getBoundingClientRect(),l=a.width+10,h=a.height+10,c=this.tConfig.fixed.offsetX,d=this.tConfig.fixed.offsetY,g=this.tConfig.fixed.position.toLowerCase();return g.indexOf("right")>-1&&(c=c+i.globals.svgWidth-l+10),g.indexOf("bottom")>-1&&(d=d+i.globals.svgHeight-h-10),s.style.left=c+"px",s.style.top=d+"px",{x:c,y:d,ttWidth:l,ttHeight:h}}},{key:"addDatapointEventsListeners",value:function(i){var s=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(s,i)}},{key:"addPathsEventListeners",value:function(i,s){for(var a=this,l=function(c){var d={paths:i[c],tooltipEl:s.tooltipEl,tooltipY:s.tooltipY,tooltipX:s.tooltipX,elGrid:s.elGrid,hoverArea:s.hoverArea,ttItems:s.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(g){return i[c].addEventListener(g,a.onSeriesHover.bind(a,d),{capture:!1,passive:!0})})},h=0;h<i.length;h++)l(h)}},{key:"onSeriesHover",value:function(i,s){var a=this,l=Date.now()-this.lastHoverTime;l>=100?this.seriesHover(i,s):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){a.seriesHover(i,s)},100-l))}},{key:"seriesHover",value:function(i,s){var a=this;this.lastHoverTime=Date.now();var l=[],h=this.w;h.config.chart.group&&(l=this.ctx.getGroupedCharts()),h.globals.axisCharts&&(h.globals.minX===-1/0&&h.globals.maxX===1/0||h.globals.dataPoints===0)||(l.length?l.forEach(function(c){var d=a.getElTooltip(c),g={paths:i.paths,tooltipEl:d,tooltipY:i.tooltipY,tooltipX:i.tooltipX,elGrid:i.elGrid,hoverArea:i.hoverArea,ttItems:c.w.globals.tooltip.ttItems};c.w.globals.minX===a.w.globals.minX&&c.w.globals.maxX===a.w.globals.maxX&&c.w.globals.tooltip.seriesHoverByContext({chartCtx:c,ttCtx:c.w.globals.tooltip,opt:g,e:s})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:i,e:s}))}},{key:"seriesHoverByContext",value:function(i){var s=i.chartCtx,a=i.ttCtx,l=i.opt,h=i.e,c=s.w,d=this.getElTooltip();d&&(a.tooltipRect={x:0,y:0,ttWidth:d.getBoundingClientRect().width,ttHeight:d.getBoundingClientRect().height},a.e=h,a.tooltipUtil.hasBars()&&!c.globals.comboCharts&&!a.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Ee(s).toggleSeriesOnHover(h,h.target.parentNode),a.fixedTooltip&&a.drawFixedTooltipRect(),c.globals.axisCharts?a.axisChartsTooltips({e:h,opt:l,tooltipRect:a.tooltipRect}):a.nonAxisChartsTooltips({e:h,opt:l,tooltipRect:a.tooltipRect}))}},{key:"axisChartsTooltips",value:function(i){var s,a,l=i.e,h=i.opt,c=this.w,d=h.elGrid.getBoundingClientRect(),g=l.type==="touchmove"?l.touches[0].clientX:l.clientX,b=l.type==="touchmove"?l.touches[0].clientY:l.clientY;if(this.clientY=b,this.clientX=g,c.globals.capturedSeriesIndex=-1,c.globals.capturedDataPointIndex=-1,b<d.top||b>d.top+d.height)this.handleMouseOut(h);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!c.config.tooltip.shared){var x=parseInt(h.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(x)<0)return void this.handleMouseOut(h)}var v=this.getElTooltip(),_=this.getElXCrosshairs(),k=c.globals.xyCharts||c.config.chart.type==="bar"&&!c.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||c.globals.comboCharts&&this.tooltipUtil.hasBars();if(l.type==="mousemove"||l.type==="touchmove"||l.type==="mouseup"){if(c.globals.collapsedSeries.length+c.globals.ancillaryCollapsedSeries.length===c.globals.series.length)return;_!==null&&_.classList.add("apexcharts-active");var A=this.yaxisTooltips.filter(function(I){return I===!0});if(this.ycrosshairs!==null&&A.length&&this.ycrosshairs.classList.add("apexcharts-active"),k&&!this.showOnIntersect)this.handleStickyTooltip(l,g,b,h);else if(c.config.chart.type==="heatmap"||c.config.chart.type==="treemap"){var F=this.intersect.handleHeatTreeTooltip({e:l,opt:h,x:s,y:a,type:c.config.chart.type});s=F.x,a=F.y,v.style.left=s+"px",v.style.top=a+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:l,opt:h}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:l,opt:h,x:s,y:a});if(this.yaxisTooltips.length)for(var E=0;E<c.config.yaxis.length;E++)this.axesTooltip.drawYaxisTooltipText(E,b,this.xyRatios);h.tooltipEl.classList.add("apexcharts-active")}else l.type!=="mouseout"&&l.type!=="touchend"||this.handleMouseOut(h)}}},{key:"nonAxisChartsTooltips",value:function(i){var s=i.e,a=i.opt,l=i.tooltipRect,h=this.w,c=a.paths.getAttribute("rel"),d=this.getElTooltip(),g=h.globals.dom.elWrap.getBoundingClientRect();if(s.type==="mousemove"||s.type==="touchmove"){d.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:parseInt(c,10)-1,shared:!1});var b=h.globals.clientX-g.left-l.ttWidth/2,x=h.globals.clientY-g.top-l.ttHeight-10;if(d.style.left=b+"px",d.style.top=x+"px",h.config.legend.tooltipHoverFormatter){var v=c-1,_=(0,h.config.legend.tooltipHoverFormatter)(this.legendLabels[v].getAttribute("data:default-text"),{seriesIndex:v,dataPointIndex:v,w:h});this.legendLabels[v].innerHTML=_}}else s.type!=="mouseout"&&s.type!=="touchend"||(d.classList.remove("apexcharts-active"),h.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(k){var A=k.getAttribute("data:default-text");k.innerHTML=decodeURIComponent(A)}))}},{key:"handleStickyTooltip",value:function(i,s,a,l){var h=this.w,c=this.tooltipUtil.getNearestValues({context:this,hoverArea:l.hoverArea,elGrid:l.elGrid,clientX:s,clientY:a}),d=c.j,g=c.capturedSeries;h.globals.collapsedSeriesIndices.includes(g)&&(g=null);var b=l.elGrid.getBoundingClientRect();if(c.hoverX<0||c.hoverX>b.width)this.handleMouseOut(l);else if(g!==null)this.handleStickyCapturedSeries(i,g,l,d);else if(this.tooltipUtil.isXoverlap(d)||h.globals.isBarHorizontal){var x=h.globals.series.findIndex(function(v,_){return!h.globals.collapsedSeriesIndices.includes(_)});this.create(i,this,x,d,l.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(i,s,a,l){var h=this.w;if(!this.tConfig.shared&&h.globals.series[s][l]===null)return void this.handleMouseOut(a);if(h.globals.series[s][l]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(l)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(i,this,s,l,a.ttItems):this.create(i,this,s,l,a.ttItems,!1);else if(this.tooltipUtil.isXoverlap(l)){var c=h.globals.series.findIndex(function(d,g){return!h.globals.collapsedSeriesIndices.includes(g)});this.create(i,this,c,l,a.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var i=this.w,s=new V(this.ctx),a=i.globals.dom.Paper.select(".apexcharts-bar-area"),l=0;l<a.length;l++)s.pathMouseLeave(a[l])}},{key:"handleMouseOut",value:function(i){var s=this.w,a=this.getElXCrosshairs();if(i.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),s.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),a!==null&&a.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=s.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var l=0;l<this.yaxisTTEls.length;l++)this.yaxisTTEls[l].classList.remove("apexcharts-active")}s.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(h){var c=h.getAttribute("data:default-text");h.innerHTML=decodeURIComponent(c)})}},{key:"markerClick",value:function(i,s,a){var l=this.w;typeof l.config.chart.events.markerClick=="function"&&l.config.chart.events.markerClick(i,this.ctx,{seriesIndex:s,dataPointIndex:a,w:l}),this.ctx.events.fireEvent("markerClick",[i,this.ctx,{seriesIndex:s,dataPointIndex:a,w:l}])}},{key:"create",value:function(i,s,a,l,h){var c,d,g,b,x,v,_,k,A,F,E,I,Y,p,w,P,B=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,j=this.w,H=s;i.type==="mouseup"&&this.markerClick(i,a,l),B===null&&(B=this.tConfig.shared);var q=this.tooltipUtil.hasMarkers(a),Z=this.tooltipUtil.getElBars();if(j.config.legend.tooltipHoverFormatter){var te=j.config.legend.tooltipHoverFormatter,ne=Array.from(this.legendLabels);ne.forEach(function(Jt){var $i=Jt.getAttribute("data:default-text");Jt.innerHTML=decodeURIComponent($i)});for(var ie=0;ie<ne.length;ie++){var de=ne[ie],ge=parseInt(de.getAttribute("i"),10),Fe=decodeURIComponent(de.getAttribute("data:default-text")),Oe=te(Fe,{seriesIndex:B?ge:a,dataPointIndex:l,w:j});if(B)de.innerHTML=j.globals.collapsedSeriesIndices.indexOf(ge)<0?Oe:Fe;else if(de.innerHTML=ge===a?Oe:Fe,a===ge)break}}var Xe=r(r({ttItems:h,i:a,j:l},((c=j.globals.seriesRange)===null||c===void 0||(d=c[a])===null||d===void 0||(g=d[l])===null||g===void 0||(b=g.y[0])===null||b===void 0?void 0:b.y1)!==void 0&&{y1:(x=j.globals.seriesRange)===null||x===void 0||(v=x[a])===null||v===void 0||(_=v[l])===null||_===void 0||(k=_.y[0])===null||k===void 0?void 0:k.y1}),((A=j.globals.seriesRange)===null||A===void 0||(F=A[a])===null||F===void 0||(E=F[l])===null||E===void 0||(I=E.y[0])===null||I===void 0?void 0:I.y2)!==void 0&&{y2:(Y=j.globals.seriesRange)===null||Y===void 0||(p=Y[a])===null||p===void 0||(w=p[l])===null||w===void 0||(P=w.y[0])===null||P===void 0?void 0:P.y2});if(B){if(H.tooltipLabels.drawSeriesTexts(r(r({},Xe),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),q)j.globals.markers.largestSize>0?H.marker.enlargePoints(l):H.tooltipPosition.moveDynamicPointsOnHover(l);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(Z),this.barSeriesHeight>0)){var st=new V(this.ctx),Ke=j.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(l,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(l,a);for(var nt=0;nt<Ke.length;nt++)st.pathMouseEnter(Ke[nt])}}else H.tooltipLabels.drawSeriesTexts(r({shared:!1},Xe)),this.tooltipUtil.hasBars()&&H.tooltipPosition.moveStickyTooltipOverBars(l,a),q&&H.tooltipPosition.moveMarkers(a,l)}}]),L}(),W=function(){function L(i){u(this,L),this.w=i.w,this.barCtx=i,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return m(L,[{key:"handleBarDataLabels",value:function(i){var s=i.x,a=i.y,l=i.y1,h=i.y2,c=i.i,d=i.j,g=i.realIndex,b=i.groupIndex,x=i.series,v=i.barHeight,_=i.barWidth,k=i.barXPosition,A=i.barYPosition,F=i.visibleSeries,E=i.renderedPath,I=this.w,Y=new V(this.barCtx.ctx),p=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[g]:this.barCtx.strokeWidth,w=s+parseFloat(_*F),P=a+parseFloat(v*F);I.globals.isXNumeric&&!I.globals.isBarHorizontal&&(w=s+parseFloat(_*(F+1)),P=a+parseFloat(v*(F+1))-p);var B,j=null,H=s,q=a,Z={},te=I.config.dataLabels,ne=this.barCtx.barOptions.dataLabels,ie=this.barCtx.barOptions.dataLabels.total;A!==void 0&&this.barCtx.isRangeBar&&(P=A,q=A),k!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(w=k,H=k);var de=te.offsetX,ge=te.offsetY,Fe={width:0,height:0};if(I.config.dataLabels.enabled){var Oe=this.barCtx.series[c][d];Fe=Y.getTextRects(I.globals.yLabelFormatters[0](Oe),parseFloat(te.style.fontSize))}var Xe={x:s,y:a,i:c,j:d,realIndex:g,groupIndex:b||-1,renderedPath:E,bcx:w,bcy:P,barHeight:v,barWidth:_,textRects:Fe,strokeWidth:p,dataLabelsX:H,dataLabelsY:q,dataLabelsConfig:te,barDataLabelsConfig:ne,barTotalDataLabelsConfig:ie,offX:de,offY:ge};return Z=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(Xe):this.calculateColumnsDataLabelsPosition(Xe),E.attr({cy:Z.bcy,cx:Z.bcx,j:d,val:x[c][d],barHeight:v,barWidth:_}),B=this.drawCalculatedDataLabels({x:Z.dataLabelsX,y:Z.dataLabelsY,val:this.barCtx.isRangeBar?[l,h]:x[c][d],i:g,j:d,barWidth:_,barHeight:v,textRects:Fe,dataLabelsConfig:te}),I.config.chart.stacked&&ie.enabled&&(j=this.drawTotalDataLabels({x:Z.totalDataLabelsX,y:Z.totalDataLabelsY,realIndex:g,textAnchor:Z.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:g,j:d}),dataLabelsConfig:te,barTotalDataLabelsConfig:ie})),{dataLabels:B,totalDataLabels:j}}},{key:"getStackedTotalDataLabel",value:function(i){var s=i.realIndex,a=i.j,l=this.w,h=this.barCtx.stackedSeriesTotals[a];return this.totalFormatter&&(h=this.totalFormatter(h,r(r({},l),{},{seriesIndex:s,dataPointIndex:a,w:l}))),h}},{key:"calculateColumnsDataLabelsPosition",value:function(i){var s,a,l=this.w,h=i.i,c=i.j,d=i.realIndex,g=i.groupIndex,b=i.y,x=i.bcx,v=i.barWidth,_=i.barHeight,k=i.textRects,A=i.dataLabelsX,F=i.dataLabelsY,E=i.dataLabelsConfig,I=i.barDataLabelsConfig,Y=i.barTotalDataLabelsConfig,p=i.strokeWidth,w=i.offX,P=i.offY;_=Math.abs(_);var B=l.config.plotOptions.bar.dataLabels.orientation==="vertical",j=this.barCtx.barHelpers.getZeroValueEncounters({i:h,j:c}).zeroEncounters;x=x-p/2+(g!==-1?g*v:0);var H=l.globals.gridWidth/l.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?A+=v/2:(A=l.globals.isXNumeric?x-v/2+w:x-H+v/2+w,j>0&&l.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(A-=v*j)),B&&(A=A+k.height/2-p/2-2);var q=this.barCtx.series[h][c]<0,Z=b;switch(this.barCtx.isReversed&&(Z=b-_+(q?2*_:0),b-=_),I.position){case"center":F=B?q?Z-_/2+P:Z+_/2-P:q?Z-_/2+k.height/2+P:Z+_/2+k.height/2-P;break;case"bottom":F=B?q?Z-_+P:Z+_-P:q?Z-_+k.height+p+P:Z+_-k.height/2+p-P;break;case"top":F=B?q?Z+P:Z-P:q?Z-k.height/2-P:Z+k.height+P}if(this.barCtx.lastActiveBarSerieIndex===d&&Y.enabled){var te=new V(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:d,j:c}),E.fontSize);s=q?Z-te.height/2-P-Y.offsetY+18:Z+te.height+P+Y.offsetY-18,a=A+Y.offsetX}return l.config.chart.stacked||(F<0?F=0+p:F+k.height/3>l.globals.gridHeight&&(F=l.globals.gridHeight-p)),{bcx:x,bcy:b,dataLabelsX:A,dataLabelsY:F,totalDataLabelsX:a,totalDataLabelsY:s,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(i){var s=this.w,a=i.x,l=i.i,h=i.j,c=i.realIndex,d=i.groupIndex,g=i.bcy,b=i.barHeight,x=i.barWidth,v=i.textRects,_=i.dataLabelsX,k=i.strokeWidth,A=i.dataLabelsConfig,F=i.barDataLabelsConfig,E=i.barTotalDataLabelsConfig,I=i.offX,Y=i.offY,p=s.globals.gridHeight/s.globals.dataPoints;x=Math.abs(x);var w,P,B=(g+=d!==-1?d*b:0)-(this.barCtx.isRangeBar?0:p)+b/2+v.height/2+Y-3,j="start",H=this.barCtx.series[l][h]<0,q=a;switch(this.barCtx.isReversed&&(q=a+x-(H?2*x:0),a=s.globals.gridWidth-x),F.position){case"center":_=H?q+x/2-I:Math.max(v.width/2,q-x/2)+I;break;case"bottom":_=H?q+x-k-Math.round(v.width/2)-I:q-x+k+Math.round(v.width/2)+I;break;case"top":_=H?q-k+Math.round(v.width/2)-I:q-k-Math.round(v.width/2)+I}if(this.barCtx.lastActiveBarSerieIndex===c&&E.enabled){var Z=new V(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:c,j:h}),A.fontSize);H?(w=q-k+Math.round(Z.width/2)-I-E.offsetX-15,j="end"):w=q-k-Math.round(Z.width/2)+I+E.offsetX+15,P=B+E.offsetY}return s.config.chart.stacked||(_<0?_=_+v.width+k:_+v.width/2>s.globals.gridWidth&&(_=s.globals.gridWidth-v.width-k)),{bcx:a,bcy:g,dataLabelsX:_,dataLabelsY:B,totalDataLabelsX:w,totalDataLabelsY:P,totalDataLabelsAnchor:j}}},{key:"drawCalculatedDataLabels",value:function(i){var s=i.x,a=i.y,l=i.val,h=i.i,c=i.j,d=i.textRects,g=i.barHeight,b=i.barWidth,x=i.dataLabelsConfig,v=this.w,_="rotate(0)";v.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(_="rotate(-90, ".concat(s,", ").concat(a,")"));var k=new At(this.barCtx.ctx),A=new V(this.barCtx.ctx),F=x.formatter,E=null,I=v.globals.collapsedSeriesIndices.indexOf(h)>-1;if(x.enabled&&!I){E=A.group({class:"apexcharts-data-labels",transform:_});var Y="";l!==void 0&&(Y=F(l,r(r({},v),{},{seriesIndex:h,dataPointIndex:c,w:v}))),!l&&v.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(Y="");var p=v.globals.series[h][c]<0,w=v.config.plotOptions.bar.dataLabels.position;v.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(w==="top"&&(x.textAnchor=p?"end":"start"),w==="center"&&(x.textAnchor="middle"),w==="bottom"&&(x.textAnchor=p?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&b<A.getTextRects(Y,parseFloat(x.style.fontSize)).width&&(Y=""),v.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?d.width/1.6>Math.abs(b)&&(Y=""):d.height/1.6>Math.abs(g)&&(Y=""));var P=r({},x);this.barCtx.isHorizontal&&l<0&&(x.textAnchor==="start"?P.textAnchor="end":x.textAnchor==="end"&&(P.textAnchor="start")),k.plotDataLabelsText({x:s,y:a,text:Y,i:h,j:c,parent:E,dataLabelsConfig:P,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return E}},{key:"drawTotalDataLabels",value:function(i){var s,a=i.x,l=i.y,h=i.val,c=i.realIndex,d=i.textAnchor,g=i.barTotalDataLabelsConfig,b=new V(this.barCtx.ctx);return g.enabled&&a!==void 0&&l!==void 0&&this.barCtx.lastActiveBarSerieIndex===c&&(s=b.drawText({x:a,y:l,foreColor:g.style.color,text:h,textAnchor:d,fontFamily:g.style.fontFamily,fontSize:g.style.fontSize,fontWeight:g.style.fontWeight})),s}}]),L}(),$=function(){function L(i){u(this,L),this.w=i.w,this.barCtx=i}return m(L,[{key:"initVariables",value:function(i){var s=this.w;this.barCtx.series=i,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var a=0;a<i.length;a++)if(i[a].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=i[a].length),s.globals.isXNumeric)for(var l=0;l<i[a].length;l++)s.globals.seriesX[a][l]>s.globals.minX&&s.globals.seriesX[a][l]<s.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=s.globals.dataPoints;this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],s.globals.comboCharts||this.checkZeroSeries({series:i})}},{key:"initialPositions",value:function(){var i,s,a,l,h,c,d,g,b=this.w,x=b.globals.dataPoints;this.barCtx.isRangeBar&&(x=b.globals.labels.length);var v=this.barCtx.seriesLen;if(b.config.plotOptions.bar.rangeBarGroupRows&&(v=1),this.barCtx.isHorizontal)h=(a=b.globals.gridHeight/x)/v,b.globals.isXNumeric&&(h=(a=b.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),h=h*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(h=parseInt(this.barCtx.barOptions.barHeight,10)),g=this.barCtx.baseLineInvertedY+b.globals.padHorizontal+(this.barCtx.isReversed?b.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(g=b.globals.gridWidth/2),s=(a-h*this.barCtx.seriesLen)/2;else{if(l=b.globals.gridWidth/this.barCtx.visibleItems,b.config.xaxis.convertedCatToNumeric&&(l=b.globals.gridWidth/b.globals.dataPoints),c=l/v*parseInt(this.barCtx.barOptions.columnWidth,10)/100,b.globals.isXNumeric){var _=this.barCtx.xRatio;b.config.xaxis.convertedCatToNumeric&&(_=this.barCtx.initialXRatio),b.globals.minXDiff&&b.globals.minXDiff!==.5&&b.globals.minXDiff/_>0&&(l=b.globals.minXDiff/_),(c=l/v*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(c=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(c=parseInt(this.barCtx.barOptions.columnWidth,10)),d=b.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?b.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),i=b.globals.padHorizontal+(l-c*this.barCtx.seriesLen)/2}return{x:i,y:s,yDivision:a,xDivision:l,barHeight:h,barWidth:c,zeroH:d,zeroW:g}}},{key:"initializeStackedPrevVars",value:function(i){var s=i.w;s.globals.hasSeriesGroups?s.globals.seriesGroups.forEach(function(a){i[a]||(i[a]={}),i[a].prevY=[],i[a].prevX=[],i[a].prevYF=[],i[a].prevXF=[],i[a].prevYVal=[],i[a].prevXVal=[]}):(i.prevY=[],i.prevX=[],i.prevYF=[],i.prevXF=[],i.prevYVal=[],i.prevXVal=[])}},{key:"initializeStackedXYVars",value:function(i){var s=i.w;s.globals.hasSeriesGroups?s.globals.seriesGroups.forEach(function(a){i[a]||(i[a]={}),i[a].xArrj=[],i[a].xArrjF=[],i[a].xArrjVal=[],i[a].yArrj=[],i[a].yArrjF=[],i[a].yArrjVal=[]}):(i.xArrj=[],i.xArrjF=[],i.xArrjVal=[],i.yArrj=[],i.yArrjF=[],i.yArrjVal=[])}},{key:"getPathFillColor",value:function(i,s,a,l){var h,c,d,g,b=this.w,x=new je(this.barCtx.ctx),v=null,_=this.barCtx.barOptions.distributed?a:s;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(k){i[s][a]>=k.from&&i[s][a]<=k.to&&(v=k.color)}),b.config.series[s].data[a]&&b.config.series[s].data[a].fillColor&&(v=b.config.series[s].data[a].fillColor),x.fillPath({seriesNumber:this.barCtx.barOptions.distributed?_:l,dataPointIndex:a,color:v,value:i[s][a],fillConfig:(h=b.config.series[s].data[a])===null||h===void 0?void 0:h.fill,fillType:(c=b.config.series[s].data[a])!==null&&c!==void 0&&(d=c.fill)!==null&&d!==void 0&&d.type?(g=b.config.series[s].data[a])===null||g===void 0?void 0:g.fill.type:b.config.fill.type})}},{key:"getStrokeWidth",value:function(i,s,a){var l=0,h=this.w;return this.barCtx.series[i][s]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,h.config.stroke.show&&(this.barCtx.isNullValue||(l=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[a]:this.barCtx.strokeWidth)),l}},{key:"shouldApplyRadius",value:function(i){var s=this.w,a=!1;return s.config.plotOptions.bar.borderRadius>0&&(s.config.chart.stacked&&s.config.plotOptions.bar.borderRadiusWhenStacked==="last"?this.barCtx.lastActiveBarSerieIndex===i&&(a=!0):a=!0),a}},{key:"barBackground",value:function(i){var s=i.j,a=i.i,l=i.x1,h=i.x2,c=i.y1,d=i.y2,g=i.elSeries,b=this.w,x=new V(this.barCtx.ctx),v=new Ee(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&v===a){s>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(s%=this.barCtx.barOptions.colors.backgroundBarColors.length);var _=this.barCtx.barOptions.colors.backgroundBarColors[s],k=x.drawRect(l!==void 0?l:0,c!==void 0?c:0,h!==void 0?h:b.globals.gridWidth,d!==void 0?d:b.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,_,this.barCtx.barOptions.colors.backgroundBarOpacity);g.add(k),k.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(i){var s,a=i.barWidth,l=i.barXPosition,h=i.y1,c=i.y2,d=i.strokeWidth,g=i.seriesGroup,b=i.realIndex,x=i.i,v=i.j,_=i.w,k=new V(this.barCtx.ctx);(d=Array.isArray(d)?d[b]:d)||(d=0);var A=a,F=l;(s=_.config.series[b].data[v])!==null&&s!==void 0&&s.columnWidthOffset&&(F=l-_.config.series[b].data[v].columnWidthOffset/2,A=a+_.config.series[b].data[v].columnWidthOffset);var E=F,I=F+A;h+=.001,c+=.001;var Y=k.move(E,h),p=k.move(E,h),w=k.line(I-d,h);if(_.globals.previousPaths.length>0&&(p=this.barCtx.getPreviousPath(b,v,!1)),Y=Y+k.line(E,c)+k.line(I-d,c)+k.line(I-d,h)+(_.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),p=p+k.line(E,h)+w+w+w+w+w+k.line(E,h)+(_.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(b)&&(Y=k.roundPathCorners(Y,_.config.plotOptions.bar.borderRadius)),_.config.chart.stacked){var P=this.barCtx;_.globals.hasSeriesGroups&&g&&(P=this.barCtx[g]),P.yArrj.push(c),P.yArrjF.push(Math.abs(h-c)),P.yArrjVal.push(this.barCtx.series[x][v])}return{pathTo:Y,pathFrom:p}}},{key:"getBarpaths",value:function(i){var s,a=i.barYPosition,l=i.barHeight,h=i.x1,c=i.x2,d=i.strokeWidth,g=i.seriesGroup,b=i.realIndex,x=i.i,v=i.j,_=i.w,k=new V(this.barCtx.ctx);(d=Array.isArray(d)?d[b]:d)||(d=0);var A=a,F=l;(s=_.config.series[b].data[v])!==null&&s!==void 0&&s.barHeightOffset&&(A=a-_.config.series[b].data[v].barHeightOffset/2,F=l+_.config.series[b].data[v].barHeightOffset);var E=A,I=A+F;h+=.001,c+=.001;var Y=k.move(h,E),p=k.move(h,E);_.globals.previousPaths.length>0&&(p=this.barCtx.getPreviousPath(b,v,!1));var w=k.line(h,I-d);if(Y=Y+k.line(c,E)+k.line(c,I-d)+w+(_.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),p=p+k.line(h,E)+w+w+w+w+w+k.line(h,E)+(_.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(b)&&(Y=k.roundPathCorners(Y,_.config.plotOptions.bar.borderRadius)),_.config.chart.stacked){var P=this.barCtx;_.globals.hasSeriesGroups&&g&&(P=this.barCtx[g]),P.xArrj.push(c),P.xArrjF.push(Math.abs(h-c)),P.xArrjVal.push(this.barCtx.series[x][v])}return{pathTo:Y,pathFrom:p}}},{key:"checkZeroSeries",value:function(i){for(var s=i.series,a=this.w,l=0;l<s.length;l++){for(var h=0,c=0;c<s[a.globals.maxValsInArrayIndex].length;c++)h+=s[l][c];h===0&&this.barCtx.zeroSerieses.push(l)}}},{key:"getXForValue",value:function(i,s){var a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?s:null;return i!=null&&(a=s+i/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?i/this.barCtx.invertedYRatio:0)),a}},{key:"getYForValue",value:function(i,s){var a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?s:null;return i!=null&&(a=s-i/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?i/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),a}},{key:"getGoalValues",value:function(i,s,a,l,h){var c=this,d=this.w,g=[],b=function(_,k){var A;g.push((y(A={},i,i==="x"?c.getXForValue(_,s,!1):c.getYForValue(_,a,!1)),y(A,"attrs",k),A))};if(d.globals.seriesGoals[l]&&d.globals.seriesGoals[l][h]&&Array.isArray(d.globals.seriesGoals[l][h])&&d.globals.seriesGoals[l][h].forEach(function(_){b(_.value,_)}),this.barCtx.barOptions.isDumbbell&&d.globals.seriesRange.length){var x=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:d.globals.colors,v={strokeHeight:i==="x"?0:d.globals.markers.size[l],strokeWidth:i==="x"?d.globals.markers.size[l]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(x[l])?x[l][0]:x[l]};b(d.globals.seriesRangeStart[l][h],v),b(d.globals.seriesRangeEnd[l][h],r(r({},v),{},{strokeColor:Array.isArray(x[l])?x[l][1]:x[l]}))}return g}},{key:"drawGoalLine",value:function(i){var s=i.barXPosition,a=i.barYPosition,l=i.goalX,h=i.goalY,c=i.barWidth,d=i.barHeight,g=new V(this.barCtx.ctx),b=g.group({className:"apexcharts-bar-goals-groups"});b.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:b.node}),b.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var x=null;return this.barCtx.isHorizontal?Array.isArray(l)&&l.forEach(function(v){var _=v.attrs.strokeHeight!==void 0?v.attrs.strokeHeight:d/2,k=a+_+d/2;x=g.drawLine(v.x,k-2*_,v.x,k,v.attrs.strokeColor?v.attrs.strokeColor:void 0,v.attrs.strokeDashArray,v.attrs.strokeWidth?v.attrs.strokeWidth:2,v.attrs.strokeLineCap),b.add(x)}):Array.isArray(h)&&h.forEach(function(v){var _=v.attrs.strokeWidth!==void 0?v.attrs.strokeWidth:c/2,k=s+_+c/2;x=g.drawLine(k-2*_,v.y,k,v.y,v.attrs.strokeColor?v.attrs.strokeColor:void 0,v.attrs.strokeDashArray,v.attrs.strokeHeight?v.attrs.strokeHeight:2,v.attrs.strokeLineCap),b.add(x)}),b}},{key:"drawBarShadow",value:function(i){var s=i.prevPaths,a=i.currPaths,l=i.color,h=this.w,c=s.x,d=s.x1,g=s.barYPosition,b=a.x,x=a.x1,v=a.barYPosition,_=g+a.barHeight,k=new V(this.barCtx.ctx),A=new R,F=k.move(d,_)+k.line(c,_)+k.line(b,v)+k.line(x,v)+k.line(d,_)+(h.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z");return k.drawPath({d:F,fill:A.shadeColor(.5,R.rgb2hex(l)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(i){var s=i.i,a=i.j,l=this.w,h=0,c=0;return l.globals.seriesPercent.forEach(function(d,g){d[a]&&h++,g<s&&d[a]===0&&c++}),{nonZeroColumns:h,zeroEncounters:c}}}]),L}(),Q=function(){function L(i,s){u(this,L),this.ctx=i,this.w=i.w;var a=this.w;this.barOptions=a.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=a.config.stroke.width,this.isNullValue=!1,this.isRangeBar=a.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!a.globals.isBarHorizontal&&a.globals.seriesRange.length&&a.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=s,this.xyRatios!==null&&(this.xRatio=s.xRatio,this.initialXRatio=s.initialXRatio,this.yRatio=s.yRatio,this.invertedXRatio=s.invertedXRatio,this.invertedYRatio=s.invertedYRatio,this.baseLineY=s.baseLineY,this.baseLineInvertedY=s.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.pathArr=[];var l=new Ee(this.ctx);this.lastActiveBarSerieIndex=l.getActiveConfigSeriesIndex("desc",["bar","column"]);var h=l.getBarSeriesIndices(),c=new se(this.ctx);this.stackedSeriesTotals=c.getStackedSeriesTotals(this.w.config.series.map(function(d,g){return h.indexOf(g)===-1?g:-1}).filter(function(d){return d!==-1})),this.barHelpers=new $(this)}return m(L,[{key:"draw",value:function(i,s){var a=this.w,l=new V(this.ctx),h=new se(this.ctx,a);i=h.getLogSeries(i),this.series=i,this.yRatio=h.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i);var c=l.group({class:"apexcharts-bar-series apexcharts-plot-series"});a.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var d=0,g=0;d<i.length;d++,g++){var b,x,v,_,k=void 0,A=void 0,F=[],E=[],I=a.globals.comboCharts?s[d]:d,Y=l.group({class:"apexcharts-series",rel:d+1,seriesName:R.escapeString(a.globals.seriesNames[I]),"data:realIndex":I});this.ctx.series.addCollapsedClassToSeries(Y,I),i[d].length>0&&(this.visibleI=this.visibleI+1);var p=0,w=0;this.yRatio.length>1&&(this.yaxisIndex=I),this.isReversed=a.config.yaxis[this.yaxisIndex]&&a.config.yaxis[this.yaxisIndex].reversed;var P=this.barHelpers.initialPositions();A=P.y,p=P.barHeight,x=P.yDivision,_=P.zeroW,k=P.x,w=P.barWidth,b=P.xDivision,v=P.zeroH,this.horizontal||E.push(k+w/2);var B=l.group({class:"apexcharts-datalabels","data:realIndex":I});a.globals.delayedElements.push({el:B.node}),B.node.classList.add("apexcharts-element-hidden");var j=l.group({class:"apexcharts-bar-goals-markers"}),H=l.group({class:"apexcharts-bar-shadows"});a.globals.delayedElements.push({el:H.node}),H.node.classList.add("apexcharts-element-hidden");for(var q=0;q<a.globals.dataPoints;q++){var Z=this.barHelpers.getStrokeWidth(d,q,I),te=null,ne={indexes:{i:d,j:q,realIndex:I,bc:g},x:k,y:A,strokeWidth:Z,elSeries:Y};this.isHorizontal?(te=this.drawBarPaths(r(r({},ne),{},{barHeight:p,zeroW:_,yDivision:x})),w=this.series[d][q]/this.invertedYRatio):(te=this.drawColumnPaths(r(r({},ne),{},{xDivision:b,barWidth:w,zeroH:v})),p=this.series[d][q]/this.yRatio[this.yaxisIndex]);var ie=this.barHelpers.getPathFillColor(i,d,q,I);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&q>0){var de=this.barHelpers.drawBarShadow({color:typeof ie=="string"&&(ie==null?void 0:ie.indexOf("url"))===-1?ie:R.hexToRgba(a.globals.colors[d]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:te});de&&H.add(de)}this.pathArr.push(te);var ge=this.barHelpers.drawGoalLine({barXPosition:te.barXPosition,barYPosition:te.barYPosition,goalX:te.goalX,goalY:te.goalY,barHeight:p,barWidth:w});ge&&j.add(ge),A=te.y,k=te.x,q>0&&E.push(k+w/2),F.push(A),this.renderSeries({realIndex:I,pathFill:ie,j:q,i:d,pathFrom:te.pathFrom,pathTo:te.pathTo,strokeWidth:Z,elSeries:Y,x:k,y:A,series:i,barHeight:te.barHeight?te.barHeight:p,barWidth:te.barWidth?te.barWidth:w,elDataLabelsWrap:B,elGoalsMarkers:j,elBarShadows:H,visibleSeries:this.visibleI,type:"bar"})}a.globals.seriesXvalues[I]=E,a.globals.seriesYvalues[I]=F,c.add(Y)}return c}},{key:"renderSeries",value:function(i){var s=i.realIndex,a=i.pathFill,l=i.lineFill,h=i.j,c=i.i,d=i.groupIndex,g=i.pathFrom,b=i.pathTo,x=i.strokeWidth,v=i.elSeries,_=i.x,k=i.y,A=i.y1,F=i.y2,E=i.series,I=i.barHeight,Y=i.barWidth,p=i.barXPosition,w=i.barYPosition,P=i.elDataLabelsWrap,B=i.elGoalsMarkers,j=i.elBarShadows,H=i.visibleSeries,q=i.type,Z=this.w,te=new V(this.ctx);l||(l=this.barOptions.distributed?Z.globals.stroke.colors[h]:Z.globals.stroke.colors[s]),Z.config.series[c].data[h]&&Z.config.series[c].data[h].strokeColor&&(l=Z.config.series[c].data[h].strokeColor),this.isNullValue&&(a="none");var ne=h/Z.config.chart.animations.animateGradually.delay*(Z.config.chart.animations.speed/Z.globals.dataPoints)/2.4,ie=te.renderPaths({i:c,j:h,realIndex:s,pathFrom:g,pathTo:b,stroke:l,strokeWidth:x,strokeLineCap:Z.config.stroke.lineCap,fill:a,animationDelay:ne,initialSpeed:Z.config.chart.animations.speed,dataChangeSpeed:Z.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(q,"-area")});ie.attr("clip-path","url(#gridRectMask".concat(Z.globals.cuid,")"));var de=Z.config.forecastDataPoints;de.count>0&&h>=Z.globals.dataPoints-de.count&&(ie.node.setAttribute("stroke-dasharray",de.dashArray),ie.node.setAttribute("stroke-width",de.strokeWidth),ie.node.setAttribute("fill-opacity",de.fillOpacity)),A!==void 0&&F!==void 0&&(ie.attr("data-range-y1",A),ie.attr("data-range-y2",F)),new N(this.ctx).setSelectionFilter(ie,s,h),v.add(ie);var ge=new W(this).handleBarDataLabels({x:_,y:k,y1:A,y2:F,i:c,j:h,series:E,realIndex:s,groupIndex:d,barHeight:I,barWidth:Y,barXPosition:p,barYPosition:w,renderedPath:ie,visibleSeries:H});return ge.dataLabels!==null&&P.add(ge.dataLabels),ge.totalDataLabels&&P.add(ge.totalDataLabels),v.add(P),B&&v.add(B),j&&v.add(j),v}},{key:"drawBarPaths",value:function(i){var s,a=i.indexes,l=i.barHeight,h=i.strokeWidth,c=i.zeroW,d=i.x,g=i.y,b=i.yDivision,x=i.elSeries,v=this.w,_=a.i,k=a.j;if(v.globals.isXNumeric)s=(g=(v.globals.seriesX[_][k]-v.globals.minX)/this.invertedXRatio-l)+l*this.visibleI;else if(v.config.plotOptions.bar.hideZeroBarsWhenGrouped){var A=0,F=0;v.globals.seriesPercent.forEach(function(I,Y){I[k]&&A++,Y<_&&I[k]===0&&F++}),A>0&&(l=this.seriesLen*l/A),s=g+l*this.visibleI,s-=l*F}else s=g+l*this.visibleI;this.isFunnel&&(c-=(this.barHelpers.getXForValue(this.series[_][k],c)-c)/2),d=this.barHelpers.getXForValue(this.series[_][k],c);var E=this.barHelpers.getBarpaths({barYPosition:s,barHeight:l,x1:c,x2:d,strokeWidth:h,series:this.series,realIndex:a.realIndex,i:_,j:k,w:v});return v.globals.isXNumeric||(g+=b),this.barHelpers.barBackground({j:k,i:_,y1:s-l*this.visibleI,y2:l*this.seriesLen,elSeries:x}),{pathTo:E.pathTo,pathFrom:E.pathFrom,x1:c,x:d,y:g,goalX:this.barHelpers.getGoalValues("x",c,null,_,k),barYPosition:s,barHeight:l}}},{key:"drawColumnPaths",value:function(i){var s,a=i.indexes,l=i.x,h=i.y,c=i.xDivision,d=i.barWidth,g=i.zeroH,b=i.strokeWidth,x=i.elSeries,v=this.w,_=a.realIndex,k=a.i,A=a.j,F=a.bc;if(v.globals.isXNumeric){var E=_;v.globals.seriesX[_].length||(E=v.globals.maxValsInArrayIndex),v.globals.seriesX[E][A]&&(l=(v.globals.seriesX[E][A]-v.globals.minX)/this.xRatio-d*this.seriesLen/2),s=l+d*this.visibleI}else if(v.config.plotOptions.bar.hideZeroBarsWhenGrouped){var I=this.barHelpers.getZeroValueEncounters({i:k,j:A}),Y=I.nonZeroColumns,p=I.zeroEncounters;Y>0&&(d=this.seriesLen*d/Y),s=l+d*this.visibleI,s-=d*p}else s=l+d*this.visibleI;h=this.barHelpers.getYForValue(this.series[k][A],g);var w=this.barHelpers.getColumnPaths({barXPosition:s,barWidth:d,y1:g,y2:h,strokeWidth:b,series:this.series,realIndex:a.realIndex,i:k,j:A,w:v});return v.globals.isXNumeric||(l+=c),this.barHelpers.barBackground({bc:F,j:A,i:k,x1:s-b/2-d*this.visibleI,x2:d*this.seriesLen+b/2,elSeries:x}),{pathTo:w.pathTo,pathFrom:w.pathFrom,x:l,y:h,goalY:this.barHelpers.getGoalValues("y",null,g,k,A),barXPosition:s,barWidth:d}}},{key:"getPreviousPath",value:function(i,s){for(var a,l=this.w,h=0;h<l.globals.previousPaths.length;h++){var c=l.globals.previousPaths[h];c.paths&&c.paths.length>0&&parseInt(c.realIndex,10)===parseInt(i,10)&&l.globals.previousPaths[h].paths[s]!==void 0&&(a=l.globals.previousPaths[h].paths[s].d)}return a}}]),L}(),ae=function(L){D(s,Q);var i=S(s);function s(){return u(this,s),i.apply(this,arguments)}return m(s,[{key:"draw",value:function(a,l){var h=this,c=this.w;this.graphics=new V(this.ctx),this.bar=new Q(this.ctx,this.xyRatios);var d=new se(this.ctx,c);a=d.getLogSeries(a),this.yRatio=d.getLogYRatios(this.yRatio),this.barHelpers.initVariables(a),c.config.chart.stackType==="100%"&&(a=c.globals.seriesPercent.slice()),this.series=a,this.barHelpers.initializeStackedPrevVars(this);for(var g=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),b=0,x=0,v=function(A,F){var E=void 0,I=void 0,Y=void 0,p=void 0,w=-1;h.groupCtx=h,c.globals.seriesGroups.forEach(function(Ke,nt){Ke.indexOf(c.config.series[A].name)>-1&&(w=nt)}),w!==-1&&(h.groupCtx=h[c.globals.seriesGroups[w]]);var P=[],B=[],j=c.globals.comboCharts?l[A]:A;h.yRatio.length>1&&(h.yaxisIndex=j),h.isReversed=c.config.yaxis[h.yaxisIndex]&&c.config.yaxis[h.yaxisIndex].reversed;var H=h.graphics.group({class:"apexcharts-series",seriesName:R.escapeString(c.globals.seriesNames[j]),rel:A+1,"data:realIndex":j});h.ctx.series.addCollapsedClassToSeries(H,j);var q=h.graphics.group({class:"apexcharts-datalabels","data:realIndex":j}),Z=h.graphics.group({class:"apexcharts-bar-goals-markers"}),te=0,ne=0,ie=h.initialPositions(b,x,E,I,Y,p);x=ie.y,te=ie.barHeight,I=ie.yDivision,p=ie.zeroW,b=ie.x,ne=ie.barWidth,E=ie.xDivision,Y=ie.zeroH,h.barHelpers.initializeStackedXYVars(h),h.groupCtx.prevY.length===1&&h.groupCtx.prevY[0].every(function(Ke){return isNaN(Ke)})&&(h.groupCtx.prevY[0]=h.groupCtx.prevY[0].map(function(Ke){return Y}),h.groupCtx.prevYF[0]=h.groupCtx.prevYF[0].map(function(Ke){return 0}));for(var de=0;de<c.globals.dataPoints;de++){var ge=h.barHelpers.getStrokeWidth(A,de,j),Fe={indexes:{i:A,j:de,realIndex:j,bc:F},strokeWidth:ge,x:b,y:x,elSeries:H,groupIndex:w,seriesGroup:c.globals.seriesGroups[w]},Oe=null;h.isHorizontal?(Oe=h.drawStackedBarPaths(r(r({},Fe),{},{zeroW:p,barHeight:te,yDivision:I})),ne=h.series[A][de]/h.invertedYRatio):(Oe=h.drawStackedColumnPaths(r(r({},Fe),{},{xDivision:E,barWidth:ne,zeroH:Y})),te=h.series[A][de]/h.yRatio[h.yaxisIndex]);var Xe=h.barHelpers.drawGoalLine({barXPosition:Oe.barXPosition,barYPosition:Oe.barYPosition,goalX:Oe.goalX,goalY:Oe.goalY,barHeight:te,barWidth:ne});Xe&&Z.add(Xe),x=Oe.y,b=Oe.x,P.push(b),B.push(x);var st=h.barHelpers.getPathFillColor(a,A,de,j);H=h.renderSeries({realIndex:j,pathFill:st,j:de,i:A,groupIndex:w,pathFrom:Oe.pathFrom,pathTo:Oe.pathTo,strokeWidth:ge,elSeries:H,x:b,y:x,series:a,barHeight:te,barWidth:ne,elDataLabelsWrap:q,elGoalsMarkers:Z,type:"bar",visibleSeries:0})}c.globals.seriesXvalues[j]=P,c.globals.seriesYvalues[j]=B,h.groupCtx.prevY.push(h.groupCtx.yArrj),h.groupCtx.prevYF.push(h.groupCtx.yArrjF),h.groupCtx.prevYVal.push(h.groupCtx.yArrjVal),h.groupCtx.prevX.push(h.groupCtx.xArrj),h.groupCtx.prevXF.push(h.groupCtx.xArrjF),h.groupCtx.prevXVal.push(h.groupCtx.xArrjVal),g.add(H)},_=0,k=0;_<a.length;_++,k++)v(_,k);return g}},{key:"initialPositions",value:function(a,l,h,c,d,g){var b,x,v,_,k=this.w;return this.isHorizontal?(v=(v=c=k.globals.gridHeight/k.globals.dataPoints)*parseInt(k.config.plotOptions.bar.barHeight,10)/100,String(k.config.plotOptions.bar.barHeight).indexOf("%")===-1&&(v=parseInt(k.config.plotOptions.bar.barHeight,10)),g=this.baseLineInvertedY+k.globals.padHorizontal+(this.isReversed?k.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),l=(c-v)/2):(_=h=k.globals.gridWidth/k.globals.dataPoints,_=k.globals.isXNumeric&&k.globals.dataPoints>1?(h=k.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:_*parseInt(k.config.plotOptions.bar.columnWidth,10)/100,String(k.config.plotOptions.bar.columnWidth).indexOf("%")===-1&&(_=parseInt(k.config.plotOptions.bar.columnWidth,10)),d=k.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?k.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),a=k.globals.padHorizontal+(h-_)/2),{x:a,y:l,yDivision:c,xDivision:h,barHeight:(b=k.globals.seriesGroups)!==null&&b!==void 0&&b.length?v/k.globals.seriesGroups.length:v,barWidth:(x=k.globals.seriesGroups)!==null&&x!==void 0&&x.length?_/k.globals.seriesGroups.length:_,zeroH:d,zeroW:g}}},{key:"drawStackedBarPaths",value:function(a){for(var l,h=a.indexes,c=a.barHeight,d=a.strokeWidth,g=a.zeroW,b=a.x,x=a.y,v=a.groupIndex,_=a.seriesGroup,k=a.yDivision,A=a.elSeries,F=this.w,E=x+(v!==-1?v*c:0),I=h.i,Y=h.j,p=0,w=0;w<this.groupCtx.prevXF.length;w++)p+=this.groupCtx.prevXF[w][Y];var P=I;if(_&&(P=_.indexOf(F.config.series[I].name)),P>0){var B=g;this.groupCtx.prevXVal[P-1][Y]<0?B=this.series[I][Y]>=0?this.groupCtx.prevX[P-1][Y]+p-2*(this.isReversed?p:0):this.groupCtx.prevX[P-1][Y]:this.groupCtx.prevXVal[P-1][Y]>=0&&(B=this.series[I][Y]>=0?this.groupCtx.prevX[P-1][Y]:this.groupCtx.prevX[P-1][Y]-p+2*(this.isReversed?p:0)),l=B}else l=g;b=this.series[I][Y]===null?l:l+this.series[I][Y]/this.invertedYRatio-2*(this.isReversed?this.series[I][Y]/this.invertedYRatio:0);var j=this.barHelpers.getBarpaths({barYPosition:E,barHeight:c,x1:l,x2:b,strokeWidth:d,series:this.series,realIndex:h.realIndex,seriesGroup:_,i:I,j:Y,w:F});return this.barHelpers.barBackground({j:Y,i:I,y1:E,y2:c,elSeries:A}),x+=k,{pathTo:j.pathTo,pathFrom:j.pathFrom,goalX:this.barHelpers.getGoalValues("x",g,null,I,Y),barYPosition:E,x:b,y:x}}},{key:"drawStackedColumnPaths",value:function(a){var l=a.indexes,h=a.x,c=a.y,d=a.xDivision,g=a.barWidth,b=a.zeroH,x=a.groupIndex,v=a.seriesGroup,_=a.elSeries,k=this.w,A=l.i,F=l.j,E=l.bc;if(k.globals.isXNumeric){var I=k.globals.seriesX[A][F];I||(I=0),h=(I-k.globals.minX)/this.xRatio-g/2,k.globals.seriesGroups.length&&(h=(I-k.globals.minX)/this.xRatio-g/2*k.globals.seriesGroups.length)}for(var Y,p=h+(x!==-1?x*g:0),w=0,P=0;P<this.groupCtx.prevYF.length;P++)w+=isNaN(this.groupCtx.prevYF[P][F])?0:this.groupCtx.prevYF[P][F];var B=A;if(v&&(B=v.indexOf(k.config.series[A].name)),B>0&&!k.globals.isXNumeric||B>0&&k.globals.isXNumeric&&k.globals.seriesX[A-1][F]===k.globals.seriesX[A][F]){var j,H,q,Z=Math.min(this.yRatio.length+1,A+1);if(this.groupCtx.prevY[B-1]!==void 0&&this.groupCtx.prevY[B-1].length)for(var te=1;te<Z;te++){var ne;if(!isNaN((ne=this.groupCtx.prevY[B-te])===null||ne===void 0?void 0:ne[F])){q=this.groupCtx.prevY[B-te][F];break}}for(var ie=1;ie<Z;ie++){var de,ge;if(((de=this.groupCtx.prevYVal[B-ie])===null||de===void 0?void 0:de[F])<0){H=this.series[A][F]>=0?q-w+2*(this.isReversed?w:0):q;break}if(((ge=this.groupCtx.prevYVal[B-ie])===null||ge===void 0?void 0:ge[F])>=0){H=this.series[A][F]>=0?q:q+w-2*(this.isReversed?w:0);break}}H===void 0&&(H=k.globals.gridHeight),Y=(j=this.groupCtx.prevYF[0])!==null&&j!==void 0&&j.every(function(Oe){return Oe===0})&&this.groupCtx.prevYF.slice(1,B).every(function(Oe){return Oe.every(function(Xe){return isNaN(Xe)})})?b:H}else Y=b;c=this.series[A][F]?Y-this.series[A][F]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[A][F]/this.yRatio[this.yaxisIndex]:0):Y;var Fe=this.barHelpers.getColumnPaths({barXPosition:p,barWidth:g,y1:Y,y2:c,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:v,realIndex:l.realIndex,i:A,j:F,w:k});return this.barHelpers.barBackground({bc:E,j:F,i:A,x1:p,x2:g,elSeries:_}),h+=d,{pathTo:Fe.pathTo,pathFrom:Fe.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,b,A,F),barXPosition:p,x:k.globals.isXNumeric?h-d:h,y:c}}}]),s}(),le=function(L){D(s,Q);var i=S(s);function s(){return u(this,s),i.apply(this,arguments)}return m(s,[{key:"draw",value:function(a,l,h){var c=this,d=this.w,g=new V(this.ctx),b=d.globals.comboCharts?l:d.config.chart.type,x=new je(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=d.config.plotOptions.bar.horizontal;var v=new se(this.ctx,d);a=v.getLogSeries(a),this.series=a,this.yRatio=v.getLogYRatios(this.yRatio),this.barHelpers.initVariables(a);for(var _=g.group({class:"apexcharts-".concat(b,"-series apexcharts-plot-series")}),k=function(F){c.isBoxPlot=d.config.chart.type==="boxPlot"||d.config.series[F].type==="boxPlot";var E,I,Y,p,w=void 0,P=void 0,B=[],j=[],H=d.globals.comboCharts?h[F]:F,q=g.group({class:"apexcharts-series",seriesName:R.escapeString(d.globals.seriesNames[H]),rel:F+1,"data:realIndex":H});c.ctx.series.addCollapsedClassToSeries(q,H),a[F].length>0&&(c.visibleI=c.visibleI+1);var Z,te;c.yRatio.length>1&&(c.yaxisIndex=H);var ne=c.barHelpers.initialPositions();P=ne.y,Z=ne.barHeight,I=ne.yDivision,p=ne.zeroW,w=ne.x,te=ne.barWidth,E=ne.xDivision,Y=ne.zeroH,j.push(w+te/2);for(var ie=g.group({class:"apexcharts-datalabels","data:realIndex":H}),de=function(Fe){var Oe=c.barHelpers.getStrokeWidth(F,Fe,H),Xe=null,st={indexes:{i:F,j:Fe,realIndex:H},x:w,y:P,strokeWidth:Oe,elSeries:q};Xe=c.isHorizontal?c.drawHorizontalBoxPaths(r(r({},st),{},{yDivision:I,barHeight:Z,zeroW:p})):c.drawVerticalBoxPaths(r(r({},st),{},{xDivision:E,barWidth:te,zeroH:Y})),P=Xe.y,w=Xe.x,Fe>0&&j.push(w+te/2),B.push(P),Xe.pathTo.forEach(function(Ke,nt){var Jt=!c.isBoxPlot&&c.candlestickOptions.wick.useFillColor?Xe.color[nt]:d.globals.stroke.colors[F],$i=x.fillPath({seriesNumber:H,dataPointIndex:Fe,color:Xe.color[nt],value:a[F][Fe]});c.renderSeries({realIndex:H,pathFill:$i,lineFill:Jt,j:Fe,i:F,pathFrom:Xe.pathFrom,pathTo:Ke,strokeWidth:Oe,elSeries:q,x:w,y:P,series:a,barHeight:Z,barWidth:te,elDataLabelsWrap:ie,visibleSeries:c.visibleI,type:d.config.chart.type})})},ge=0;ge<d.globals.dataPoints;ge++)de(ge);d.globals.seriesXvalues[H]=j,d.globals.seriesYvalues[H]=B,_.add(q)},A=0;A<a.length;A++)k(A);return _}},{key:"drawVerticalBoxPaths",value:function(a){var l=a.indexes,h=a.x;a.y;var c=a.xDivision,d=a.barWidth,g=a.zeroH,b=a.strokeWidth,x=this.w,v=new V(this.ctx),_=l.i,k=l.j,A=!0,F=x.config.plotOptions.candlestick.colors.upward,E=x.config.plotOptions.candlestick.colors.downward,I="";this.isBoxPlot&&(I=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var Y=this.yRatio[this.yaxisIndex],p=l.realIndex,w=this.getOHLCValue(p,k),P=g,B=g;w.o>w.c&&(A=!1);var j=Math.min(w.o,w.c),H=Math.max(w.o,w.c),q=w.m;x.globals.isXNumeric&&(h=(x.globals.seriesX[p][k]-x.globals.minX)/this.xRatio-d/2);var Z=h+d*this.visibleI;this.series[_][k]===void 0||this.series[_][k]===null?(j=g,H=g):(j=g-j/Y,H=g-H/Y,P=g-w.h/Y,B=g-w.l/Y,q=g-w.m/Y);var te=v.move(Z,g),ne=v.move(Z+d/2,j);return x.globals.previousPaths.length>0&&(ne=this.getPreviousPath(p,k,!0)),te=this.isBoxPlot?[v.move(Z,j)+v.line(Z+d/2,j)+v.line(Z+d/2,P)+v.line(Z+d/4,P)+v.line(Z+d-d/4,P)+v.line(Z+d/2,P)+v.line(Z+d/2,j)+v.line(Z+d,j)+v.line(Z+d,q)+v.line(Z,q)+v.line(Z,j+b/2),v.move(Z,q)+v.line(Z+d,q)+v.line(Z+d,H)+v.line(Z+d/2,H)+v.line(Z+d/2,B)+v.line(Z+d-d/4,B)+v.line(Z+d/4,B)+v.line(Z+d/2,B)+v.line(Z+d/2,H)+v.line(Z,H)+v.line(Z,q)+"z"]:[v.move(Z,H)+v.line(Z+d/2,H)+v.line(Z+d/2,P)+v.line(Z+d/2,H)+v.line(Z+d,H)+v.line(Z+d,j)+v.line(Z+d/2,j)+v.line(Z+d/2,B)+v.line(Z+d/2,j)+v.line(Z,j)+v.line(Z,H-b/2)],ne+=v.move(Z,j),x.globals.isXNumeric||(h+=c),{pathTo:te,pathFrom:ne,x:h,y:H,barXPosition:Z,color:this.isBoxPlot?I:A?[F]:[E]}}},{key:"drawHorizontalBoxPaths",value:function(a){var l=a.indexes;a.x;var h=a.y,c=a.yDivision,d=a.barHeight,g=a.zeroW,b=a.strokeWidth,x=this.w,v=new V(this.ctx),_=l.i,k=l.j,A=this.boxOptions.colors.lower;this.isBoxPlot&&(A=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var F=this.invertedYRatio,E=l.realIndex,I=this.getOHLCValue(E,k),Y=g,p=g,w=Math.min(I.o,I.c),P=Math.max(I.o,I.c),B=I.m;x.globals.isXNumeric&&(h=(x.globals.seriesX[E][k]-x.globals.minX)/this.invertedXRatio-d/2);var j=h+d*this.visibleI;this.series[_][k]===void 0||this.series[_][k]===null?(w=g,P=g):(w=g+w/F,P=g+P/F,Y=g+I.h/F,p=g+I.l/F,B=g+I.m/F);var H=v.move(g,j),q=v.move(w,j+d/2);return x.globals.previousPaths.length>0&&(q=this.getPreviousPath(E,k,!0)),H=[v.move(w,j)+v.line(w,j+d/2)+v.line(Y,j+d/2)+v.line(Y,j+d/2-d/4)+v.line(Y,j+d/2+d/4)+v.line(Y,j+d/2)+v.line(w,j+d/2)+v.line(w,j+d)+v.line(B,j+d)+v.line(B,j)+v.line(w+b/2,j),v.move(B,j)+v.line(B,j+d)+v.line(P,j+d)+v.line(P,j+d/2)+v.line(p,j+d/2)+v.line(p,j+d-d/4)+v.line(p,j+d/4)+v.line(p,j+d/2)+v.line(P,j+d/2)+v.line(P,j)+v.line(B,j)+"z"],q+=v.move(w,j),x.globals.isXNumeric||(h+=c),{pathTo:H,pathFrom:q,x:P,y:h,barYPosition:j,color:A}}},{key:"getOHLCValue",value:function(a,l){var h=this.w;return{o:this.isBoxPlot?h.globals.seriesCandleH[a][l]:h.globals.seriesCandleO[a][l],h:this.isBoxPlot?h.globals.seriesCandleO[a][l]:h.globals.seriesCandleH[a][l],m:h.globals.seriesCandleM[a][l],l:this.isBoxPlot?h.globals.seriesCandleC[a][l]:h.globals.seriesCandleL[a][l],c:this.isBoxPlot?h.globals.seriesCandleL[a][l]:h.globals.seriesCandleC[a][l]}}}]),s}(),ue=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w}return m(L,[{key:"checkColorRange",value:function(){var i=this.w,s=!1,a=i.config.plotOptions[i.config.chart.type];return a.colorScale.ranges.length>0&&a.colorScale.ranges.map(function(l,h){l.from<=0&&(s=!0)}),s}},{key:"getShadeColor",value:function(i,s,a,l){var h=this.w,c=1,d=h.config.plotOptions[i].shadeIntensity,g=this.determineColor(i,s,a);h.globals.hasNegs||l?c=h.config.plotOptions[i].reverseNegativeShade?g.percent<0?g.percent/100*(1.25*d):(1-g.percent/100)*(1.25*d):g.percent<=0?1-(1+g.percent/100)*d:(1-g.percent/100)*d:(c=1-g.percent/100,i==="treemap"&&(c=(1-g.percent/100)*(1.25*d)));var b=g.color,x=new R;return h.config.plotOptions[i].enableShades&&(b=this.w.config.theme.mode==="dark"?R.hexToRgba(x.shadeColor(-1*c,g.color),h.config.fill.opacity):R.hexToRgba(x.shadeColor(c,g.color),h.config.fill.opacity)),{color:b,colorProps:g}}},{key:"determineColor",value:function(i,s,a){var l=this.w,h=l.globals.series[s][a],c=l.config.plotOptions[i],d=c.colorScale.inverse?a:s;c.distributed&&l.config.chart.type==="treemap"&&(d=a);var g=l.globals.colors[d],b=null,x=Math.min.apply(Math,O(l.globals.series[s])),v=Math.max.apply(Math,O(l.globals.series[s]));c.distributed||i!=="heatmap"||(x=l.globals.minY,v=l.globals.maxY),c.colorScale.min!==void 0&&(x=c.colorScale.min<l.globals.minY?c.colorScale.min:l.globals.minY,v=c.colorScale.max>l.globals.maxY?c.colorScale.max:l.globals.maxY);var _=Math.abs(v)+Math.abs(x),k=100*h/(_===0?_-1e-6:_);return c.colorScale.ranges.length>0&&c.colorScale.ranges.map(function(A,F){if(h>=A.from&&h<=A.to){g=A.color,b=A.foreColor?A.foreColor:null,x=A.from,v=A.to;var E=Math.abs(v)+Math.abs(x);k=100*h/(E===0?E-1e-6:E)}}),{color:g,foreColor:b,percent:k}}},{key:"calculateDataLabels",value:function(i){var s=i.text,a=i.x,l=i.y,h=i.i,c=i.j,d=i.colorProps,g=i.fontSize,b=this.w.config.dataLabels,x=new V(this.ctx),v=new At(this.ctx),_=null;if(b.enabled){_=x.group({class:"apexcharts-data-labels"});var k=b.offsetX,A=b.offsetY,F=a+k,E=l+parseFloat(b.style.fontSize)/3+A;v.plotDataLabelsText({x:F,y:E,text:s,i:h,j:c,color:d.foreColor,parent:_,fontSize:g,dataLabelsConfig:b})}return _}},{key:"addListeners",value:function(i){var s=new V(this.ctx);i.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this,i)),i.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this,i)),i.node.addEventListener("mousedown",s.pathMouseDown.bind(this,i))}}]),L}(),ce=function(){function L(i,s){u(this,L),this.ctx=i,this.w=i.w,this.xRatio=s.xRatio,this.yRatio=s.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new ue(i),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return m(L,[{key:"draw",value:function(i){var s=this.w,a=new V(this.ctx),l=a.group({class:"apexcharts-heatmap"});l.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")"));var h=s.globals.gridWidth/s.globals.dataPoints,c=s.globals.gridHeight/s.globals.series.length,d=0,g=!1;this.negRange=this.helpers.checkColorRange();var b=i.slice();s.config.yaxis[0].reversed&&(g=!0,b.reverse());for(var x=g?0:b.length-1;g?x<b.length:x>=0;g?x++:x--){var v=a.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:R.escapeString(s.globals.seriesNames[x]),rel:x+1,"data:realIndex":x});if(this.ctx.series.addCollapsedClassToSeries(v,x),s.config.chart.dropShadow.enabled){var _=s.config.chart.dropShadow;new N(this.ctx).dropShadow(v,_,x)}for(var k=0,A=s.config.plotOptions.heatmap.shadeIntensity,F=0;F<b[x].length;F++){var E=this.helpers.getShadeColor(s.config.chart.type,x,F,this.negRange),I=E.color,Y=E.colorProps;s.config.fill.type==="image"&&(I=new je(this.ctx).fillPath({seriesNumber:x,dataPointIndex:F,opacity:s.globals.hasNegs?Y.percent<0?1-(1+Y.percent/100):A+Y.percent/100:Y.percent/100,patternID:R.randomId(),width:s.config.fill.image.width?s.config.fill.image.width:h,height:s.config.fill.image.height?s.config.fill.image.height:c}));var p=this.rectRadius,w=a.drawRect(k,d,h,c,p);if(w.attr({cx:k,cy:d}),w.node.classList.add("apexcharts-heatmap-rect"),v.add(w),w.attr({fill:I,i:x,index:x,j:F,val:b[x][F],"stroke-width":this.strokeWidth,stroke:s.config.plotOptions.heatmap.useFillColorAsStroke?I:s.globals.stroke.colors[0],color:I}),this.helpers.addListeners(w),s.config.chart.animations.enabled&&!s.globals.dataChanged){var P=1;s.globals.resized||(P=s.config.chart.animations.speed),this.animateHeatMap(w,k,d,h,c,P)}if(s.globals.dataChanged){var B=1;if(this.dynamicAnim.enabled&&s.globals.shouldAnimate){B=this.dynamicAnim.speed;var j=s.globals.previousPaths[x]&&s.globals.previousPaths[x][F]&&s.globals.previousPaths[x][F].color;j||(j="rgba(255, 255, 255, 0)"),this.animateHeatColor(w,R.isColorHex(j)?j:R.rgb2hex(j),R.isColorHex(I)?I:R.rgb2hex(I),B)}}var H=(0,s.config.dataLabels.formatter)(s.globals.series[x][F],{value:s.globals.series[x][F],seriesIndex:x,dataPointIndex:F,w:s}),q=this.helpers.calculateDataLabels({text:H,x:k+h/2,y:d+c/2,i:x,j:F,colorProps:Y,series:b});q!==null&&v.add(q),k+=h}d+=c,l.add(v)}var Z=s.globals.yAxisScale[0].result.slice();return s.config.yaxis[0].reversed?Z.unshift(""):Z.push(""),s.globals.yAxisScale[0].result=Z,l}},{key:"animateHeatMap",value:function(i,s,a,l,h,c){var d=new U(this.ctx);d.animateRect(i,{x:s+l/2,y:a+h/2,width:0,height:0},{x:s,y:a,width:l,height:h},c,function(){d.animationCompleted(i)})}},{key:"animateHeatColor",value:function(i,s,a,l){i.attr({fill:s}).animate(l).attr({fill:a})}}]),L}(),Se=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w}return m(L,[{key:"drawYAxisTexts",value:function(i,s,a,l){var h=this.w,c=h.config.yaxis[0],d=h.globals.yLabelFormatters[0];return new V(this.ctx).drawText({x:i+c.labels.offsetX,y:s+c.labels.offsetY,text:d(l,a),textAnchor:"middle",fontSize:c.labels.style.fontSize,fontFamily:c.labels.style.fontFamily,foreColor:Array.isArray(c.labels.style.colors)?c.labels.style.colors[a]:c.labels.style.colors})}}]),L}(),Ve=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w;var s=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=s.globals.stroke.colors!==void 0?s.globals.stroke.colors:s.globals.colors,this.defaultSize=Math.min(s.globals.gridWidth,s.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=s.globals.gridWidth/2,s.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(s.config.plotOptions.pie.endAngle-s.config.plotOptions.pie.startAngle),this.initialAngle=s.config.plotOptions.pie.startAngle%this.fullAngle,s.globals.radialSize=this.defaultSize/2.05-s.config.stroke.width-(s.config.chart.sparkline.enabled?0:s.config.chart.dropShadow.blur),this.donutSize=s.globals.radialSize*parseInt(s.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return m(L,[{key:"draw",value:function(i){var s=this,a=this.w,l=new V(this.ctx);if(this.ret=l.group({class:"apexcharts-pie"}),a.globals.noData)return this.ret;for(var h=0,c=0;c<i.length;c++)h+=R.negToZero(i[c]);var d=[],g=l.group();h===0&&(h=1e-5),i.forEach(function(j){s.maxY=Math.max(s.maxY,j)}),a.config.yaxis[0].max&&(this.maxY=a.config.yaxis[0].max),a.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret);for(var b=0;b<i.length;b++){var x=this.fullAngle*R.negToZero(i[b])/h;d.push(x),this.chartType==="polarArea"?(d[b]=this.fullAngle/i.length,this.sliceSizes.push(a.globals.radialSize*i[b]/this.maxY)):this.sliceSizes.push(a.globals.radialSize)}if(a.globals.dataChanged){for(var v,_=0,k=0;k<a.globals.previousPaths.length;k++)_+=R.negToZero(a.globals.previousPaths[k]);for(var A=0;A<a.globals.previousPaths.length;A++)v=this.fullAngle*R.negToZero(a.globals.previousPaths[A])/_,this.prevSectorAngleArr.push(v)}this.donutSize<0&&(this.donutSize=0);var F=a.config.plotOptions.pie.customScale,E=a.globals.gridWidth/2,I=a.globals.gridHeight/2,Y=E-a.globals.gridWidth/2*F,p=I-a.globals.gridHeight/2*F;if(this.chartType==="donut"){var w=l.drawCircle(this.donutSize);w.attr({cx:this.centerX,cy:this.centerY,fill:a.config.plotOptions.pie.donut.background?a.config.plotOptions.pie.donut.background:"transparent"}),g.add(w)}var P=this.drawArcs(d,i);if(this.sliceLabels.forEach(function(j){P.add(j)}),g.attr({transform:"translate(".concat(Y,", ").concat(p,") scale(").concat(F,")")}),g.add(P),this.ret.add(g),this.donutDataLabels.show){var B=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:Y,translateY:p});this.ret.add(B)}return a.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(i,s){var a=this.w,l=new N(this.ctx),h=new V(this.ctx),c=new je(this.ctx),d=h.group({class:"apexcharts-slices"}),g=this.initialAngle,b=this.initialAngle,x=this.initialAngle,v=this.initialAngle;this.strokeWidth=a.config.stroke.show?a.config.stroke.width:0;for(var _=0;_<i.length;_++){var k=h.group({class:"apexcharts-series apexcharts-pie-series",seriesName:R.escapeString(a.globals.seriesNames[_]),rel:_+1,"data:realIndex":_});d.add(k),b=v,x=(g=x)+i[_],v=b+this.prevSectorAngleArr[_];var A=x<g?this.fullAngle+x-g:x-g,F=c.fillPath({seriesNumber:_,size:this.sliceSizes[_],value:s[_]}),E=this.getChangedPath(b,v),I=h.drawPath({d:E,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[_]:this.lineColorArr,strokeWidth:0,fill:F,fillOpacity:a.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(_)});if(I.attr({index:0,j:_}),l.setSelectionFilter(I,0,_),a.config.chart.dropShadow.enabled){var Y=a.config.chart.dropShadow;l.dropShadow(I,Y,_)}this.addListeners(I,this.donutDataLabels),V.setAttrs(I.node,{"data:angle":A,"data:startAngle":g,"data:strokeWidth":this.strokeWidth,"data:value":s[_]});var p={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?p=R.polarToCartesian(this.centerX,this.centerY,a.globals.radialSize/1.25+a.config.plotOptions.pie.dataLabels.offset,(g+A/2)%this.fullAngle):this.chartType==="donut"&&(p=R.polarToCartesian(this.centerX,this.centerY,(a.globals.radialSize+this.donutSize)/2+a.config.plotOptions.pie.dataLabels.offset,(g+A/2)%this.fullAngle)),k.add(I);var w=0;if(!this.initialAnim||a.globals.resized||a.globals.dataChanged?this.animBeginArr.push(0):((w=A/this.fullAngle*a.config.chart.animations.speed)===0&&(w=1),this.animDur=w+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&a.globals.dataChanged?this.animatePaths(I,{size:this.sliceSizes[_],endAngle:x,startAngle:g,prevStartAngle:b,prevEndAngle:v,animateStartingPos:!0,i:_,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:a.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(I,{size:this.sliceSizes[_],endAngle:x,startAngle:g,i:_,totalItems:i.length-1,animBeginArr:this.animBeginArr,dur:w}),a.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&I.click(this.pieClicked.bind(this,_)),a.globals.selectedDataPoints[0]!==void 0&&a.globals.selectedDataPoints[0].indexOf(_)>-1&&this.pieClicked(_),a.config.dataLabels.enabled){var P=p.x,B=p.y,j=100*A/this.fullAngle+"%";if(A!==0&&a.config.plotOptions.pie.dataLabels.minAngleToShowLabel<i[_]){var H=a.config.dataLabels.formatter;H!==void 0&&(j=H(a.globals.seriesPercent[_][0],{seriesIndex:_,w:a}));var q=a.globals.dataLabels.style.colors[_],Z=h.group({class:"apexcharts-datalabels"}),te=h.drawText({x:P,y:B,text:j,textAnchor:"middle",fontSize:a.config.dataLabels.style.fontSize,fontFamily:a.config.dataLabels.style.fontFamily,fontWeight:a.config.dataLabels.style.fontWeight,foreColor:q});if(Z.add(te),a.config.dataLabels.dropShadow.enabled){var ne=a.config.dataLabels.dropShadow;l.dropShadow(te,ne)}te.node.classList.add("apexcharts-pie-label"),a.config.chart.animations.animate&&a.globals.resized===!1&&(te.node.classList.add("apexcharts-pie-label-delay"),te.node.style.animationDelay=a.config.chart.animations.speed/940+"s"),this.sliceLabels.push(Z)}}}return d}},{key:"addListeners",value:function(i,s){var a=new V(this.ctx);i.node.addEventListener("mouseenter",a.pathMouseEnter.bind(this,i)),i.node.addEventListener("mouseleave",a.pathMouseLeave.bind(this,i)),i.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,i.node,s)),i.node.addEventListener("mousedown",a.pathMouseDown.bind(this,i)),this.donutDataLabels.total.showAlways||(i.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,i.node,s)),i.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,i.node,s)))}},{key:"animatePaths",value:function(i,s){var a=this.w,l=s.endAngle<s.startAngle?this.fullAngle+s.endAngle-s.startAngle:s.endAngle-s.startAngle,h=l,c=s.startAngle,d=s.startAngle;s.prevStartAngle!==void 0&&s.prevEndAngle!==void 0&&(c=s.prevEndAngle,h=s.prevEndAngle<s.prevStartAngle?this.fullAngle+s.prevEndAngle-s.prevStartAngle:s.prevEndAngle-s.prevStartAngle),s.i===a.config.series.length-1&&(l+d>this.fullAngle?s.endAngle=s.endAngle-(l+d):l+d<this.fullAngle&&(s.endAngle=s.endAngle+(this.fullAngle-(l+d)))),l===this.fullAngle&&(l=this.fullAngle-.01),this.animateArc(i,c,d,l,h,s)}},{key:"animateArc",value:function(i,s,a,l,h,c){var d,g=this,b=this.w,x=new U(this.ctx),v=c.size;(isNaN(s)||isNaN(h))&&(s=a,h=l,c.dur=0);var _=l,k=a,A=s<a?this.fullAngle+s-a:s-a;b.globals.dataChanged&&c.shouldSetPrevPaths&&c.prevEndAngle&&(d=g.getPiePath({me:g,startAngle:c.prevStartAngle,angle:c.prevEndAngle<c.prevStartAngle?this.fullAngle+c.prevEndAngle-c.prevStartAngle:c.prevEndAngle-c.prevStartAngle,size:v}),i.attr({d})),c.dur!==0?i.animate(c.dur,b.globals.easing,c.animBeginArr[c.i]).afterAll(function(){g.chartType!=="pie"&&g.chartType!=="donut"&&g.chartType!=="polarArea"||this.animate(b.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":g.strokeWidth}),c.i===b.config.series.length-1&&x.animationCompleted(i)}).during(function(F){_=A+(l-A)*F,c.animateStartingPos&&(_=h+(l-h)*F,k=s-h+(a-(s-h))*F),d=g.getPiePath({me:g,startAngle:k,angle:_,size:v}),i.node.setAttribute("data:pathOrig",d),i.attr({d})}):(d=g.getPiePath({me:g,startAngle:k,angle:l,size:v}),c.isTrack||(b.globals.animationEnded=!0),i.node.setAttribute("data:pathOrig",d),i.attr({d,"stroke-width":g.strokeWidth}))}},{key:"pieClicked",value:function(i){var s,a=this.w,l=this,h=l.sliceSizes[i]+(a.config.plotOptions.pie.expandOnClick?4:0),c=a.globals.dom.Paper.select(".apexcharts-".concat(l.chartType.toLowerCase(),"-slice-").concat(i)).members[0];if(c.attr("data:pieClicked")!=="true"){var d=a.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(d,function(v){v.setAttribute("data:pieClicked","false");var _=v.getAttribute("data:pathOrig");_&&v.setAttribute("d",_)}),c.attr("data:pieClicked","true");var g=parseInt(c.attr("data:startAngle"),10),b=parseInt(c.attr("data:angle"),10);s=l.getPiePath({me:l,startAngle:g,angle:b,size:h}),b!==360&&c.plot(s)}else{c.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(c.node,this.donutDataLabels);var x=c.attr("data:pathOrig");c.attr({d:x})}}},{key:"getChangedPath",value:function(i,s){var a="";return this.dynamicAnim&&this.w.globals.dataChanged&&(a=this.getPiePath({me:this,startAngle:i,angle:s-i,size:this.size})),a}},{key:"getPiePath",value:function(i){var s=i.me,a=i.startAngle,l=i.angle,h=i.size,c=a,d=Math.PI*(c-90)/180,g=l+a;Math.ceil(g)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(g=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(g)>this.fullAngle&&(g-=this.fullAngle);var b=Math.PI*(g-90)/180,x=s.centerX+h*Math.cos(d),v=s.centerY+h*Math.sin(d),_=s.centerX+h*Math.cos(b),k=s.centerY+h*Math.sin(b),A=R.polarToCartesian(s.centerX,s.centerY,s.donutSize,g),F=R.polarToCartesian(s.centerX,s.centerY,s.donutSize,c),E=l>180?1:0,I=["M",x,v,"A",h,h,0,E,1,_,k];return s.chartType==="donut"?[].concat(I,["L",A.x,A.y,"A",s.donutSize,s.donutSize,0,E,0,F.x,F.y,"L",x,v,"z"]).join(" "):s.chartType==="pie"||s.chartType==="polarArea"?[].concat(I,["L",s.centerX,s.centerY,"L",x,v]).join(" "):[].concat(I).join(" ")}},{key:"drawPolarElements",value:function(i){var s=this.w,a=new vi(this.ctx),l=new V(this.ctx),h=new Se(this.ctx),c=l.group(),d=l.group(),g=a.niceScale(0,Math.ceil(this.maxY),s.config.yaxis[0].tickAmount,0,!0),b=g.result.reverse(),x=g.result.length;this.maxY=g.niceMax;for(var v=s.globals.radialSize,_=v/(x-1),k=0;k<x-1;k++){var A=l.drawCircle(v);if(A.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":s.config.plotOptions.polarArea.rings.strokeWidth,stroke:s.config.plotOptions.polarArea.rings.strokeColor}),s.config.yaxis[0].show){var F=h.drawYAxisTexts(this.centerX,this.centerY-v+parseInt(s.config.yaxis[0].labels.style.fontSize,10)/2,k,b[k]);d.add(F)}c.add(A),v-=_}this.drawSpokes(i),i.add(c),i.add(d)}},{key:"renderInnerDataLabels",value:function(i,s){var a=this.w,l=new V(this.ctx),h=l.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(s.translateX?s.translateX:0,", ").concat(s.translateY?s.translateY:0,") scale(").concat(a.config.plotOptions.pie.customScale,")")}),c=i.total.show;h.node.style.opacity=s.opacity;var d,g,b=s.centerX,x=s.centerY;d=i.name.color===void 0?a.globals.colors[0]:i.name.color;var v=i.name.fontSize,_=i.name.fontFamily,k=i.name.fontWeight;g=i.value.color===void 0?a.config.chart.foreColor:i.value.color;var A=i.value.formatter,F="",E="";if(c?(d=i.total.color,v=i.total.fontSize,_=i.total.fontFamily,k=i.total.fontWeight,E=i.total.label,F=i.total.formatter(a)):a.globals.series.length===1&&(F=A(a.globals.series[0],a),E=a.globals.seriesNames[0]),E&&(E=i.name.formatter(E,i.total.show,a)),i.name.show){var I=l.drawText({x:b,y:x+parseFloat(i.name.offsetY),text:E,textAnchor:"middle",foreColor:d,fontSize:v,fontWeight:k,fontFamily:_});I.node.classList.add("apexcharts-datalabel-label"),h.add(I)}if(i.value.show){var Y=i.name.show?parseFloat(i.value.offsetY)+16:i.value.offsetY,p=l.drawText({x:b,y:x+Y,text:F,textAnchor:"middle",foreColor:g,fontWeight:i.value.fontWeight,fontSize:i.value.fontSize,fontFamily:i.value.fontFamily});p.node.classList.add("apexcharts-datalabel-value"),h.add(p)}return h}},{key:"printInnerLabels",value:function(i,s,a,l){var h,c=this.w;l?h=i.name.color===void 0?c.globals.colors[parseInt(l.parentNode.getAttribute("rel"),10)-1]:i.name.color:c.globals.series.length>1&&i.total.show&&(h=i.total.color);var d=c.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),g=c.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");a=(0,i.value.formatter)(a,c),l||typeof i.total.formatter!="function"||(a=i.total.formatter(c));var b=s===i.total.label;s=i.name.formatter(s,b,c),d!==null&&(d.textContent=s),g!==null&&(g.textContent=a),d!==null&&(d.style.fill=h)}},{key:"printDataLabelsInner",value:function(i,s){var a=this.w,l=i.getAttribute("data:value"),h=a.globals.seriesNames[parseInt(i.parentNode.getAttribute("rel"),10)-1];a.globals.series.length>1&&this.printInnerLabels(s,h,l,i);var c=a.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");c!==null&&(c.style.opacity=1)}},{key:"drawSpokes",value:function(i){var s=this,a=this.w,l=new V(this.ctx),h=a.config.plotOptions.polarArea.spokes;if(h.strokeWidth!==0){for(var c=[],d=360/a.globals.series.length,g=0;g<a.globals.series.length;g++)c.push(R.polarToCartesian(this.centerX,this.centerY,a.globals.radialSize,a.config.plotOptions.pie.startAngle+d*g));c.forEach(function(b,x){var v=l.drawLine(b.x,b.y,s.centerX,s.centerY,Array.isArray(h.connectorColors)?h.connectorColors[x]:h.connectorColors);i.add(v)})}}},{key:"revertDataLabelsInner",value:function(i,s,a){var l=this,h=this.w,c=h.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),d=!1,g=h.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),b=function(_){var k=_.makeSliceOut,A=_.printLabel;Array.prototype.forEach.call(g,function(F){F.getAttribute("data:pieClicked")==="true"&&(k&&(d=!0),A&&l.printDataLabelsInner(F,s))})};if(b({makeSliceOut:!0,printLabel:!1}),s.total.show&&h.globals.series.length>1)d&&!s.total.showAlways?b({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(s,s.total.label,s.total.formatter(h));else if(b({makeSliceOut:!1,printLabel:!0}),!d)if(h.globals.selectedDataPoints.length&&h.globals.series.length>1)if(h.globals.selectedDataPoints[0].length>0){var x=h.globals.selectedDataPoints[0],v=h.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(x));this.printDataLabelsInner(v,s)}else c&&h.globals.selectedDataPoints.length&&h.globals.selectedDataPoints[0].length===0&&(c.style.opacity=0);else c&&h.globals.series.length>1&&(c.style.opacity=0)}}]),L}(),wt=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var s=this.w;this.graphics=new V(this.ctx),this.lineColorArr=s.globals.stroke.colors!==void 0?s.globals.stroke.colors:s.globals.colors,this.defaultSize=s.globals.svgHeight<s.globals.svgWidth?s.globals.gridHeight+1.5*s.globals.goldenPadding:s.globals.gridWidth,this.isLog=s.config.yaxis[0].logarithmic,this.coreUtils=new se(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(s.globals.maxY,0):s.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):s.globals.minY,this.polygons=s.config.plotOptions.radar.polygons,this.strokeWidth=s.config.stroke.show?s.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-s.config.chart.dropShadow.blur,s.config.xaxis.labels.show&&(this.size=this.size-s.globals.xAxisLabelsWidth/1.75),s.config.plotOptions.radar.size!==void 0&&(this.size=s.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return m(L,[{key:"draw",value:function(i){var s=this,a=this.w,l=new je(this.ctx),h=[],c=new At(this.ctx);i.length&&(this.dataPointsLen=i[a.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var d=a.globals.gridWidth/2,g=a.globals.gridHeight/2,b=d+a.config.plotOptions.radar.offsetX,x=g+a.config.plotOptions.radar.offsetY,v=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(b||0,", ").concat(x||0,")")}),_=[],k=null,A=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),i.forEach(function(E,I){var Y=E.length===a.globals.dataPoints,p=s.graphics.group().attr({class:"apexcharts-series","data:longestSeries":Y,seriesName:R.escapeString(a.globals.seriesNames[I]),rel:I+1,"data:realIndex":I});s.dataRadiusOfPercent[I]=[],s.dataRadius[I]=[],s.angleArr[I]=[],E.forEach(function(ie,de){var ge=Math.abs(s.maxValue-s.minValue);ie+=Math.abs(s.minValue),s.isLog&&(ie=s.coreUtils.getLogVal(ie,0)),s.dataRadiusOfPercent[I][de]=ie/ge,s.dataRadius[I][de]=s.dataRadiusOfPercent[I][de]*s.size,s.angleArr[I][de]=de*s.disAngle}),_=s.getDataPointsPos(s.dataRadius[I],s.angleArr[I]);var w=s.createPaths(_,{x:0,y:0});k=s.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),A=s.graphics.group({class:"apexcharts-datalabels","data:realIndex":I}),a.globals.delayedElements.push({el:k.node,index:I});var P={i:I,realIndex:I,animationDelay:I,initialSpeed:a.config.chart.animations.speed,dataChangeSpeed:a.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:a.globals.stroke.colors[I],strokeLineCap:a.config.stroke.lineCap},B=null;a.globals.previousPaths.length>0&&(B=s.getPreviousPath(I));for(var j=0;j<w.linePathsTo.length;j++){var H=s.graphics.renderPaths(r(r({},P),{},{pathFrom:B===null?w.linePathsFrom[j]:B,pathTo:w.linePathsTo[j],strokeWidth:Array.isArray(s.strokeWidth)?s.strokeWidth[I]:s.strokeWidth,fill:"none",drawShadow:!1}));p.add(H);var q=l.fillPath({seriesNumber:I}),Z=s.graphics.renderPaths(r(r({},P),{},{pathFrom:B===null?w.areaPathsFrom[j]:B,pathTo:w.areaPathsTo[j],strokeWidth:0,fill:q,drawShadow:!1}));if(a.config.chart.dropShadow.enabled){var te=new N(s.ctx),ne=a.config.chart.dropShadow;te.dropShadow(Z,Object.assign({},ne,{noUserSpaceOnUse:!0}),I)}p.add(Z)}E.forEach(function(ie,de){var ge=new We(s.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:I,dataPointIndex:de}),Fe=s.graphics.drawMarker(_[de].x,_[de].y,ge);Fe.attr("rel",de),Fe.attr("j",de),Fe.attr("index",I),Fe.node.setAttribute("default-marker-size",ge.pSize);var Oe=s.graphics.group({class:"apexcharts-series-markers"});Oe&&Oe.add(Fe),k.add(Oe),p.add(k);var Xe=a.config.dataLabels;if(Xe.enabled){var st=Xe.formatter(a.globals.series[I][de],{seriesIndex:I,dataPointIndex:de,w:a});c.plotDataLabelsText({x:_[de].x,y:_[de].y,text:st,textAnchor:"middle",i:I,j:I,parent:A,offsetCorrection:!1,dataLabelsConfig:r({},Xe)})}p.add(A)}),h.push(p)}),this.drawPolygons({parent:v}),a.config.xaxis.labels.show){var F=this.drawXAxisTexts();v.add(F)}return h.forEach(function(E){v.add(E)}),v.add(this.yaxisLabels),v}},{key:"drawPolygons",value:function(i){for(var s=this,a=this.w,l=i.parent,h=new Se(this.ctx),c=a.globals.yAxisScale[0].result.reverse(),d=c.length,g=[],b=this.size/(d-1),x=0;x<d;x++)g[x]=b*x;g.reverse();var v=[],_=[];g.forEach(function(k,A){var F=R.getPolygonPos(k,s.dataPointsLen),E="";F.forEach(function(I,Y){if(A===0){var p=s.graphics.drawLine(I.x,I.y,0,0,Array.isArray(s.polygons.connectorColors)?s.polygons.connectorColors[Y]:s.polygons.connectorColors);_.push(p)}Y===0&&s.yaxisLabelsTextsPos.push({x:I.x,y:I.y}),E+=I.x+","+I.y+" "}),v.push(E)}),v.forEach(function(k,A){var F=s.polygons.strokeColors,E=s.polygons.strokeWidth,I=s.graphics.drawPolygon(k,Array.isArray(F)?F[A]:F,Array.isArray(E)?E[A]:E,a.globals.radarPolygons.fill.colors[A]);l.add(I)}),_.forEach(function(k){l.add(k)}),a.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(k,A){var F=h.drawYAxisTexts(k.x,k.y,A,c[A]);s.yaxisLabels.add(F)})}},{key:"drawXAxisTexts",value:function(){var i=this,s=this.w,a=s.config.xaxis.labels,l=this.graphics.group({class:"apexcharts-xaxis"}),h=R.getPolygonPos(this.size,this.dataPointsLen);return s.globals.labels.forEach(function(c,d){var g=s.config.xaxis.labels.formatter,b=new At(i.ctx);if(h[d]){var x=i.getTextPos(h[d],i.size),v=g(c,{seriesIndex:-1,dataPointIndex:d,w:s});b.plotDataLabelsText({x:x.newX,y:x.newY,text:v,textAnchor:x.textAnchor,i:d,j:d,parent:l,color:Array.isArray(a.style.colors)&&a.style.colors[d]?a.style.colors[d]:"#a8a8a8",dataLabelsConfig:r({textAnchor:x.textAnchor,dropShadow:{enabled:!1}},a),offsetCorrection:!1})}}),l}},{key:"createPaths",value:function(i,s){var a=this,l=[],h=[],c=[],d=[];if(i.length){h=[this.graphics.move(s.x,s.y)],d=[this.graphics.move(s.x,s.y)];var g=this.graphics.move(i[0].x,i[0].y),b=this.graphics.move(i[0].x,i[0].y);i.forEach(function(x,v){g+=a.graphics.line(x.x,x.y),b+=a.graphics.line(x.x,x.y),v===i.length-1&&(g+="Z",b+="Z")}),l.push(g),c.push(b)}return{linePathsFrom:h,linePathsTo:l,areaPathsFrom:d,areaPathsTo:c}}},{key:"getTextPos",value:function(i,s){var a="middle",l=i.x,h=i.y;return Math.abs(i.x)>=10?i.x>0?(a="start",l+=10):i.x<0&&(a="end",l-=10):a="middle",Math.abs(i.y)>=s-10&&(i.y<0?h-=10:i.y>0&&(h+=10)),{textAnchor:a,newX:l,newY:h}}},{key:"getPreviousPath",value:function(i){for(var s=this.w,a=null,l=0;l<s.globals.previousPaths.length;l++){var h=s.globals.previousPaths[l];h.paths.length>0&&parseInt(h.realIndex,10)===parseInt(i,10)&&s.globals.previousPaths[l].paths[0]!==void 0&&(a=s.globals.previousPaths[l].paths[0].d)}return a}},{key:"getDataPointsPos",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;i=i||[],s=s||[];for(var l=[],h=0;h<a;h++){var c={};c.x=i[h]*Math.sin(s[h]),c.y=-i[h]*Math.cos(s[h]),l.push(c)}return l}}]),L}(),ct=function(L){D(s,Ve);var i=S(s);function s(a){var l;u(this,s),(l=i.call(this,a)).ctx=a,l.w=a.w,l.animBeginArr=[0],l.animDur=0;var h=l.w;return l.startAngle=h.config.plotOptions.radialBar.startAngle,l.endAngle=h.config.plotOptions.radialBar.endAngle,l.totalAngle=Math.abs(h.config.plotOptions.radialBar.endAngle-h.config.plotOptions.radialBar.startAngle),l.trackStartAngle=h.config.plotOptions.radialBar.track.startAngle,l.trackEndAngle=h.config.plotOptions.radialBar.track.endAngle,l.donutDataLabels=l.w.config.plotOptions.radialBar.dataLabels,l.radialDataLabels=l.donutDataLabels,l.trackStartAngle||(l.trackStartAngle=l.startAngle),l.trackEndAngle||(l.trackEndAngle=l.endAngle),l.endAngle===360&&(l.endAngle=359.99),l.margin=parseInt(h.config.plotOptions.radialBar.track.margin,10),l}return m(s,[{key:"draw",value:function(a){var l=this.w,h=new V(this.ctx),c=h.group({class:"apexcharts-radialbar"});if(l.globals.noData)return c;var d=h.group(),g=this.defaultSize/2,b=l.globals.gridWidth/2,x=this.defaultSize/2.05;l.config.chart.sparkline.enabled||(x=x-l.config.stroke.width-l.config.chart.dropShadow.blur);var v=l.globals.fill.colors;if(l.config.plotOptions.radialBar.track.show){var _=this.drawTracks({size:x,centerX:b,centerY:g,colorArr:v,series:a});d.add(_)}var k=this.drawArcs({size:x,centerX:b,centerY:g,colorArr:v,series:a}),A=360;l.config.plotOptions.radialBar.startAngle<0&&(A=this.totalAngle);var F=(360-A)/360;if(l.globals.radialSize=x-x*F,this.radialDataLabels.value.show){var E=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);l.globals.radialSize+=E*F}return d.add(k.g),l.config.plotOptions.radialBar.hollow.position==="front"&&(k.g.add(k.elHollow),k.dataLabels&&k.g.add(k.dataLabels)),c.add(d),c}},{key:"drawTracks",value:function(a){var l=this.w,h=new V(this.ctx),c=h.group({class:"apexcharts-tracks"}),d=new N(this.ctx),g=new je(this.ctx),b=this.getStrokeWidth(a);a.size=a.size-b/2;for(var x=0;x<a.series.length;x++){var v=h.group({class:"apexcharts-radialbar-track apexcharts-track"});c.add(v),v.attr({rel:x+1}),a.size=a.size-b-this.margin;var _=l.config.plotOptions.radialBar.track,k=g.fillPath({seriesNumber:0,size:a.size,fillColors:Array.isArray(_.background)?_.background[x]:_.background,solid:!0}),A=this.trackStartAngle,F=this.trackEndAngle;Math.abs(F)+Math.abs(A)>=360&&(F=360-Math.abs(this.startAngle)-.1);var E=h.drawPath({d:"",stroke:k,strokeWidth:b*parseInt(_.strokeWidth,10)/100,fill:"none",strokeOpacity:_.opacity,classes:"apexcharts-radialbar-area"});if(_.dropShadow.enabled){var I=_.dropShadow;d.dropShadow(E,I)}v.add(E),E.attr("id","apexcharts-radialbarTrack-"+x),this.animatePaths(E,{centerX:a.centerX,centerY:a.centerY,endAngle:F,startAngle:A,size:a.size,i:x,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:l.globals.easing})}return c}},{key:"drawArcs",value:function(a){var l=this.w,h=new V(this.ctx),c=new je(this.ctx),d=new N(this.ctx),g=h.group(),b=this.getStrokeWidth(a);a.size=a.size-b/2;var x=l.config.plotOptions.radialBar.hollow.background,v=a.size-b*a.series.length-this.margin*a.series.length-b*parseInt(l.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,_=v-l.config.plotOptions.radialBar.hollow.margin;l.config.plotOptions.radialBar.hollow.image!==void 0&&(x=this.drawHollowImage(a,g,v,x));var k=this.drawHollow({size:_,centerX:a.centerX,centerY:a.centerY,fill:x||"transparent"});if(l.config.plotOptions.radialBar.hollow.dropShadow.enabled){var A=l.config.plotOptions.radialBar.hollow.dropShadow;d.dropShadow(k,A)}var F=1;!this.radialDataLabels.total.show&&l.globals.series.length>1&&(F=0);var E=null;this.radialDataLabels.show&&(E=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:v,centerX:a.centerX,centerY:a.centerY,opacity:F})),l.config.plotOptions.radialBar.hollow.position==="back"&&(g.add(k),E&&g.add(E));var I=!1;l.config.plotOptions.radialBar.inverseOrder&&(I=!0);for(var Y=I?a.series.length-1:0;I?Y>=0:Y<a.series.length;I?Y--:Y++){var p=h.group({class:"apexcharts-series apexcharts-radial-series",seriesName:R.escapeString(l.globals.seriesNames[Y])});g.add(p),p.attr({rel:Y+1,"data:realIndex":Y}),this.ctx.series.addCollapsedClassToSeries(p,Y),a.size=a.size-b-this.margin;var w=c.fillPath({seriesNumber:Y,size:a.size,value:a.series[Y]}),P=this.startAngle,B=void 0,j=R.negToZero(a.series[Y]>100?100:a.series[Y])/100,H=Math.round(this.totalAngle*j)+this.startAngle,q=void 0;l.globals.dataChanged&&(B=this.startAngle,q=Math.round(this.totalAngle*R.negToZero(l.globals.previousPaths[Y])/100)+B),Math.abs(H)+Math.abs(P)>=360&&(H-=.01),Math.abs(q)+Math.abs(B)>=360&&(q-=.01);var Z=H-P,te=Array.isArray(l.config.stroke.dashArray)?l.config.stroke.dashArray[Y]:l.config.stroke.dashArray,ne=h.drawPath({d:"",stroke:w,strokeWidth:b,fill:"none",fillOpacity:l.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+Y,strokeDashArray:te});if(V.setAttrs(ne.node,{"data:angle":Z,"data:value":a.series[Y]}),l.config.chart.dropShadow.enabled){var ie=l.config.chart.dropShadow;d.dropShadow(ne,ie,Y)}d.setSelectionFilter(ne,0,Y),this.addListeners(ne,this.radialDataLabels),p.add(ne),ne.attr({index:0,j:Y});var de=0;!this.initialAnim||l.globals.resized||l.globals.dataChanged||(de=l.config.chart.animations.speed),l.globals.dataChanged&&(de=l.config.chart.animations.dynamicAnimation.speed),this.animDur=de/(1.2*a.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(ne,{centerX:a.centerX,centerY:a.centerY,endAngle:H,startAngle:P,prevEndAngle:q,prevStartAngle:B,size:a.size,i:Y,totalItems:2,animBeginArr:this.animBeginArr,dur:de,shouldSetPrevPaths:!0,easing:l.globals.easing})}return{g,elHollow:k,dataLabels:E}}},{key:"drawHollow",value:function(a){var l=new V(this.ctx).drawCircle(2*a.size);return l.attr({class:"apexcharts-radialbar-hollow",cx:a.centerX,cy:a.centerY,r:a.size,fill:a.fill}),l}},{key:"drawHollowImage",value:function(a,l,h,c){var d=this.w,g=new je(this.ctx),b=R.randomId(),x=d.config.plotOptions.radialBar.hollow.image;if(d.config.plotOptions.radialBar.hollow.imageClipped)g.clippedImgArea({width:h,height:h,image:x,patternID:"pattern".concat(d.globals.cuid).concat(b)}),c="url(#pattern".concat(d.globals.cuid).concat(b,")");else{var v=d.config.plotOptions.radialBar.hollow.imageWidth,_=d.config.plotOptions.radialBar.hollow.imageHeight;if(v===void 0&&_===void 0){var k=d.globals.dom.Paper.image(x).loaded(function(F){this.move(a.centerX-F.width/2+d.config.plotOptions.radialBar.hollow.imageOffsetX,a.centerY-F.height/2+d.config.plotOptions.radialBar.hollow.imageOffsetY)});l.add(k)}else{var A=d.globals.dom.Paper.image(x).loaded(function(F){this.move(a.centerX-v/2+d.config.plotOptions.radialBar.hollow.imageOffsetX,a.centerY-_/2+d.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(v,_)});l.add(A)}}return c}},{key:"getStrokeWidth",value:function(a){var l=this.w;return a.size*(100-parseInt(l.config.plotOptions.radialBar.hollow.size,10))/100/(a.series.length+1)-this.margin}}]),s}(),$t=function(L){D(s,Q);var i=S(s);function s(){return u(this,s),i.apply(this,arguments)}return m(s,[{key:"draw",value:function(a,l){var h=this.w,c=new V(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=a,this.seriesRangeStart=h.globals.seriesRangeStart,this.seriesRangeEnd=h.globals.seriesRangeEnd,this.barHelpers.initVariables(a);for(var d=c.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),g=0;g<a.length;g++){var b,x,v,_,k=void 0,A=void 0,F=h.globals.comboCharts?l[g]:g,E=c.group({class:"apexcharts-series",seriesName:R.escapeString(h.globals.seriesNames[F]),rel:g+1,"data:realIndex":F});this.ctx.series.addCollapsedClassToSeries(E,F),a[g].length>0&&(this.visibleI=this.visibleI+1);var I=0,Y=0;this.yRatio.length>1&&(this.yaxisIndex=F);var p=this.barHelpers.initialPositions();A=p.y,_=p.zeroW,k=p.x,Y=p.barWidth,I=p.barHeight,b=p.xDivision,x=p.yDivision,v=p.zeroH;for(var w=c.group({class:"apexcharts-datalabels","data:realIndex":F}),P=c.group({class:"apexcharts-rangebar-goals-markers"}),B=0;B<h.globals.dataPoints;B++){var j,H=this.barHelpers.getStrokeWidth(g,B,F),q=this.seriesRangeStart[g][B],Z=this.seriesRangeEnd[g][B],te=null,ne=null,ie=null,de={x:k,y:A,strokeWidth:H,elSeries:E},ge=this.seriesLen;if(h.config.plotOptions.bar.rangeBarGroupRows&&(ge=1),h.config.series[g].data[B]===void 0)break;if(this.isHorizontal){ie=A+I*this.visibleI;var Fe=(x-I*ge)/2;if(h.config.series[g].data[B].x){var Oe=this.detectOverlappingBars({i:g,j:B,barYPosition:ie,srty:Fe,barHeight:I,yDivision:x,initPositions:p});I=Oe.barHeight,ie=Oe.barYPosition}Y=(te=this.drawRangeBarPaths(r({indexes:{i:g,j:B,realIndex:F},barHeight:I,barYPosition:ie,zeroW:_,yDivision:x,y1:q,y2:Z},de))).barWidth}else{h.globals.isXNumeric&&(k=(h.globals.seriesX[g][B]-h.globals.minX)/this.xRatio-Y/2),ne=k+Y*this.visibleI;var Xe=(b-Y*ge)/2;if(h.config.series[g].data[B].x){var st=this.detectOverlappingBars({i:g,j:B,barXPosition:ne,srtx:Xe,barWidth:Y,xDivision:b,initPositions:p});Y=st.barWidth,ne=st.barXPosition}I=(te=this.drawRangeColumnPaths(r({indexes:{i:g,j:B,realIndex:F},barWidth:Y,barXPosition:ne,zeroH:v,xDivision:b},de))).barHeight}var Ke=this.barHelpers.drawGoalLine({barXPosition:te.barXPosition,barYPosition:ie,goalX:te.goalX,goalY:te.goalY,barHeight:I,barWidth:Y});Ke&&P.add(Ke),A=te.y,k=te.x;var nt=this.barHelpers.getPathFillColor(a,g,B,F),Jt=h.globals.stroke.colors[F];this.renderSeries((y(j={realIndex:F,pathFill:nt,lineFill:Jt,j:B,i:g,x:k,y:A,y1:q,y2:Z,pathFrom:te.pathFrom,pathTo:te.pathTo,strokeWidth:H,elSeries:E,series:a,barHeight:I,barWidth:Y,barXPosition:ne,barYPosition:ie},"barWidth",Y),y(j,"elDataLabelsWrap",w),y(j,"elGoalsMarkers",P),y(j,"visibleSeries",this.visibleI),y(j,"type","rangebar"),j))}d.add(E)}return d}},{key:"detectOverlappingBars",value:function(a){var l=a.i,h=a.j,c=a.barYPosition,d=a.barXPosition,g=a.srty,b=a.srtx,x=a.barHeight,v=a.barWidth,_=a.yDivision,k=a.xDivision,A=a.initPositions,F=this.w,E=[],I=F.config.series[l].data[h].rangeName,Y=F.config.series[l].data[h].x,p=Array.isArray(Y)?Y.join(" "):Y,w=F.globals.labels.map(function(B){return Array.isArray(B)?B.join(" "):B}).indexOf(p),P=F.globals.seriesRange[l].findIndex(function(B){return B.x===p&&B.overlaps.length>0});return this.isHorizontal?(c=F.config.plotOptions.bar.rangeBarGroupRows?g+_*w:g+x*this.visibleI+_*w,P>-1&&!F.config.plotOptions.bar.rangeBarOverlap&&(E=F.globals.seriesRange[l][P].overlaps).indexOf(I)>-1&&(c=(x=A.barHeight/E.length)*this.visibleI+_*(100-parseInt(this.barOptions.barHeight,10))/100/2+x*(this.visibleI+E.indexOf(I))+_*w)):(w>-1&&(d=F.config.plotOptions.bar.rangeBarGroupRows?b+k*w:b+v*this.visibleI+k*w),P>-1&&!F.config.plotOptions.bar.rangeBarOverlap&&(E=F.globals.seriesRange[l][P].overlaps).indexOf(I)>-1&&(d=(v=A.barWidth/E.length)*this.visibleI+k*(100-parseInt(this.barOptions.barWidth,10))/100/2+v*(this.visibleI+E.indexOf(I))+k*w)),{barYPosition:c,barXPosition:d,barHeight:x,barWidth:v}}},{key:"drawRangeColumnPaths",value:function(a){var l=a.indexes,h=a.x,c=a.xDivision,d=a.barWidth,g=a.barXPosition,b=a.zeroH,x=this.w,v=l.i,_=l.j,k=this.yRatio[this.yaxisIndex],A=l.realIndex,F=this.getRangeValue(A,_),E=Math.min(F.start,F.end),I=Math.max(F.start,F.end);this.series[v][_]===void 0||this.series[v][_]===null?E=b:(E=b-E/k,I=b-I/k);var Y=Math.abs(I-E),p=this.barHelpers.getColumnPaths({barXPosition:g,barWidth:d,y1:E,y2:I,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:l.realIndex,i:A,j:_,w:x});return x.globals.isXNumeric||(h+=c),{pathTo:p.pathTo,pathFrom:p.pathFrom,barHeight:Y,x:h,y:I,goalY:this.barHelpers.getGoalValues("y",null,b,v,_),barXPosition:g}}},{key:"drawRangeBarPaths",value:function(a){var l=a.indexes,h=a.y,c=a.y1,d=a.y2,g=a.yDivision,b=a.barHeight,x=a.barYPosition,v=a.zeroW,_=this.w,k=v+c/this.invertedYRatio,A=v+d/this.invertedYRatio,F=Math.abs(A-k),E=this.barHelpers.getBarpaths({barYPosition:x,barHeight:b,x1:k,x2:A,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:l.realIndex,realIndex:l.realIndex,j:l.j,w:_});return _.globals.isXNumeric||(h+=g),{pathTo:E.pathTo,pathFrom:E.pathFrom,barWidth:F,x:A,goalX:this.barHelpers.getGoalValues("x",v,null,l.realIndex,l.j),y:h}}},{key:"getRangeValue",value:function(a,l){var h=this.w;return{start:h.globals.seriesRangeStart[a][l],end:h.globals.seriesRangeEnd[a][l]}}}]),s}(),Pt=function(){function L(i){u(this,L),this.w=i.w,this.lineCtx=i}return m(L,[{key:"sameValueSeriesFix",value:function(i,s){var a=this.w;if((a.config.fill.type==="gradient"||a.config.fill.type[i]==="gradient")&&new se(this.lineCtx.ctx,a).seriesHaveSameValues(i)){var l=s[i].slice();l[l.length-1]=l[l.length-1]+1e-6,s[i]=l}return s}},{key:"calculatePoints",value:function(i){var s=i.series,a=i.realIndex,l=i.x,h=i.y,c=i.i,d=i.j,g=i.prevY,b=this.w,x=[],v=[];if(d===0){var _=this.lineCtx.categoryAxisCorrection+b.config.markers.offsetX;b.globals.isXNumeric&&(_=(b.globals.seriesX[a][0]-b.globals.minX)/this.lineCtx.xRatio+b.config.markers.offsetX),x.push(_),v.push(R.isNumber(s[c][0])?g+b.config.markers.offsetY:null),x.push(l+b.config.markers.offsetX),v.push(R.isNumber(s[c][d+1])?h+b.config.markers.offsetY:null)}else x.push(l+b.config.markers.offsetX),v.push(R.isNumber(s[c][d+1])?h+b.config.markers.offsetY:null);return{x,y:v}}},{key:"checkPreviousPaths",value:function(i){for(var s=i.pathFromLine,a=i.pathFromArea,l=i.realIndex,h=this.w,c=0;c<h.globals.previousPaths.length;c++){var d=h.globals.previousPaths[c];(d.type==="line"||d.type==="area")&&d.paths.length>0&&parseInt(d.realIndex,10)===parseInt(l,10)&&(d.type==="line"?(this.lineCtx.appendPathFrom=!1,s=h.globals.previousPaths[c].paths[0].d):d.type==="area"&&(this.lineCtx.appendPathFrom=!1,a=h.globals.previousPaths[c].paths[0].d,h.config.stroke.show&&h.globals.previousPaths[c].paths[1]&&(s=h.globals.previousPaths[c].paths[1].d)))}return{pathFromLine:s,pathFromArea:a}}},{key:"determineFirstPrevY",value:function(i){var s,a=i.i,l=i.series,h=i.prevY,c=i.lineYPosition,d=this.w;if(((s=l[a])===null||s===void 0?void 0:s[0])!==void 0)h=(c=d.config.chart.stacked&&a>0?this.lineCtx.prevSeriesY[a-1][0]:this.lineCtx.zeroY)-l[a][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?l[a][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(d.config.chart.stacked&&a>0&&l[a][0]===void 0){for(var g=a-1;g>=0;g--)if(l[g][0]!==null&&l[g][0]!==void 0){h=c=this.lineCtx.prevSeriesY[g][0];break}}return{prevY:h,lineYPosition:c}}}]),L}(),Kt=function(L){for(var i,s,a,l,h=function(x){for(var v=[],_=x[0],k=x[1],A=v[0]=it(_,k),F=1,E=x.length-1;F<E;F++)_=k,k=x[F+1],v[F]=.5*(A+(A=it(_,k)));return v[F]=A,v}(L),c=L.length-1,d=[],g=0;g<c;g++)a=it(L[g],L[g+1]),Math.abs(a)<1e-6?h[g]=h[g+1]=0:(l=(i=h[g]/a)*i+(s=h[g+1]/a)*s)>9&&(l=3*a/Math.sqrt(l),h[g]=l*i,h[g+1]=l*s);for(var b=0;b<=c;b++)l=(L[Math.min(c,b+1)][0]-L[Math.max(0,b-1)][0])/(6*(1+h[b]*h[b])),d.push([l||0,h[b]*l||0]);return d},oi=function(L){for(var i="",s=0;s<L.length;s++){var a=L[s],l=a.length;l>4?(i+="C".concat(a[0],", ").concat(a[1]),i+=", ".concat(a[2],", ").concat(a[3]),i+=", ".concat(a[4],", ").concat(a[5])):l>2&&(i+="S".concat(a[0],", ").concat(a[1]),i+=", ".concat(a[2],", ").concat(a[3]))}return i},Tr=function(L){var i=Kt(L),s=L[1],a=L[0],l=[],h=i[1],c=i[0];l.push(a,[a[0]+c[0],a[1]+c[1],s[0]-h[0],s[1]-h[1],s[0],s[1]]);for(var d=2,g=i.length;d<g;d++){var b=L[d],x=i[d];l.push([b[0]-x[0],b[1]-x[1],b[0],b[1]])}return l};function it(L,i){return(i[1]-L[1])/(i[0]-L[0])}var li=function(){function L(i,s,a){u(this,L),this.ctx=i,this.w=i.w,this.xyRatios=s,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||a,this.scatter=new yt(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Pt(this),this.markers=new We(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return m(L,[{key:"draw",value:function(i,s,a,l){var h=this.w,c=new V(this.ctx),d=h.globals.comboCharts?s:h.config.chart.type,g=c.group({class:"apexcharts-".concat(d,"-series apexcharts-plot-series")}),b=new se(this.ctx,h);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,i=b.getLogSeries(i),this.yRatio=b.getLogYRatios(this.yRatio);for(var x=[],v=0;v<i.length;v++){i=this.lineHelpers.sameValueSeriesFix(v,i);var _=h.globals.comboCharts?a[v]:v;this._initSerieVariables(i,v,_);var k=[],A=[],F=[],E=h.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,_),h.globals.isXNumeric&&h.globals.seriesX.length>0&&(E=(h.globals.seriesX[_][0]-h.globals.minX)/this.xRatio),F.push(E);var I=E,Y=this.zeroY,p=this.zeroY;Y=this.lineHelpers.determineFirstPrevY({i:v,series:i,prevY:Y,lineYPosition:0}).prevY,h.config.stroke.curve==="smooth"&&i[v][0]===null?k.push(null):k.push(Y),d==="rangeArea"&&(p=this.lineHelpers.determineFirstPrevY({i:v,series:l,prevY:p,lineYPosition:0}).prevY,A.push(p));var w={type:d,series:i,realIndex:_,i:v,x:E,y:1,pathsFrom:this._calculatePathsFrom({type:d,series:i,i:v,realIndex:_,prevX:I,prevY:Y,prevY2:p}),linePaths:[],areaPaths:[],seriesIndex:a,lineYPosition:0,xArrj:F,yArrj:k,y2Arrj:A,seriesRangeEnd:l},P=this._iterateOverDataPoints(r(r({},w),{},{iterations:d==="rangeArea"?i[v].length-1:void 0,isRangeStart:!0}));if(d==="rangeArea"){var B=this._calculatePathsFrom({series:l,i:v,realIndex:_,prevX:I,prevY:p}),j=this._iterateOverDataPoints(r(r({},w),{},{series:l,pathsFrom:B,iterations:l[v].length-1,isRangeStart:!1}));P.linePaths[0]=j.linePath+P.linePath,P.pathFromLine=j.pathFromLine+P.pathFromLine}this._handlePaths({type:d,realIndex:_,i:v,paths:P}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),x.push(this.elSeries)}if(h.config.chart.stacked)for(var H=x.length;H>0;H--)g.add(x[H-1]);else for(var q=0;q<x.length;q++)g.add(x[q]);return g}},{key:"_initSerieVariables",value:function(i,s,a){var l=this.w,h=new V(this.ctx);this.xDivision=l.globals.gridWidth/(l.globals.dataPoints-(l.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(l.config.stroke.width)?l.config.stroke.width[a]:l.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=a),this.isReversed=l.config.yaxis[this.yaxisIndex]&&l.config.yaxis[this.yaxisIndex].reversed,this.zeroY=l.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?l.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>l.globals.gridHeight||l.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=l.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=h.group({class:"apexcharts-series",seriesName:R.escapeString(l.globals.seriesNames[a])}),this.elPointsMain=h.group({class:"apexcharts-series-markers-wrap","data:realIndex":a}),this.elDataLabelsWrap=h.group({class:"apexcharts-datalabels","data:realIndex":a});var c=i[s].length===l.globals.dataPoints;this.elSeries.attr({"data:longestSeries":c,rel:s+1,"data:realIndex":a}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(i){var s,a,l,h,c=i.type,d=i.series,g=i.i,b=i.realIndex,x=i.prevX,v=i.prevY,_=i.prevY2,k=this.w,A=new V(this.ctx);if(d[g][0]===null){for(var F=0;F<d[g].length;F++)if(d[g][F]!==null){x=this.xDivision*F,v=this.zeroY-d[g][F]/this.yRatio[this.yaxisIndex],s=A.move(x,v),a=A.move(x,this.areaBottomY);break}}else s=A.move(x,v),c==="rangeArea"&&(s=A.move(x,_)+A.line(x,v)),a=A.move(x,this.areaBottomY)+A.line(x,v);if(l=A.move(-1,this.zeroY)+A.line(-1,this.zeroY),h=A.move(-1,this.zeroY)+A.line(-1,this.zeroY),k.globals.previousPaths.length>0){var E=this.lineHelpers.checkPreviousPaths({pathFromLine:l,pathFromArea:h,realIndex:b});l=E.pathFromLine,h=E.pathFromArea}return{prevX:x,prevY:v,linePath:s,areaPath:a,pathFromLine:l,pathFromArea:h}}},{key:"_handlePaths",value:function(i){var s=i.type,a=i.realIndex,l=i.i,h=i.paths,c=this.w,d=new V(this.ctx),g=new je(this.ctx);this.prevSeriesY.push(h.yArrj),c.globals.seriesXvalues[a]=h.xArrj,c.globals.seriesYvalues[a]=h.yArrj;var b=c.config.forecastDataPoints;if(b.count>0&&s!=="rangeArea"){var x=c.globals.seriesXvalues[a][c.globals.seriesXvalues[a].length-b.count-1],v=d.drawRect(x,0,c.globals.gridWidth,c.globals.gridHeight,0);c.globals.dom.elForecastMask.appendChild(v.node);var _=d.drawRect(0,0,x,c.globals.gridHeight,0);c.globals.dom.elNonForecastMask.appendChild(_.node)}this.pointsChart||c.globals.delayedElements.push({el:this.elPointsMain.node,index:a});var k={i:l,realIndex:a,animationDelay:l,initialSpeed:c.config.chart.animations.speed,dataChangeSpeed:c.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(s)};if(s==="area")for(var A=g.fillPath({seriesNumber:a}),F=0;F<h.areaPaths.length;F++){var E=d.renderPaths(r(r({},k),{},{pathFrom:h.pathFromArea,pathTo:h.areaPaths[F],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:A}));this.elSeries.add(E)}if(c.config.stroke.show&&!this.pointsChart){var I=null;if(s==="line")I=g.fillPath({seriesNumber:a,i:l});else if(c.config.stroke.fill.type==="solid")I=c.globals.stroke.colors[a];else{var Y=c.config.fill;c.config.fill=c.config.stroke.fill,I=g.fillPath({seriesNumber:a,i:l}),c.config.fill=Y}for(var p=0;p<h.linePaths.length;p++){var w=I;s==="rangeArea"&&(w=g.fillPath({seriesNumber:a}));var P=r(r({},k),{},{pathFrom:h.pathFromLine,pathTo:h.linePaths[p],stroke:I,strokeWidth:this.strokeWidth,strokeLineCap:c.config.stroke.lineCap,fill:s==="rangeArea"?w:"none"}),B=d.renderPaths(P);if(this.elSeries.add(B),B.attr("fill-rule","evenodd"),b.count>0&&s!=="rangeArea"){var j=d.renderPaths(P);j.node.setAttribute("stroke-dasharray",b.dashArray),b.strokeWidth&&j.node.setAttribute("stroke-width",b.strokeWidth),this.elSeries.add(j),j.attr("clip-path","url(#forecastMask".concat(c.globals.cuid,")")),B.attr("clip-path","url(#nonForecastMask".concat(c.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(i){var s=this,a=i.type,l=i.series,h=i.iterations,c=i.realIndex,d=i.i,g=i.x,b=i.y,x=i.pathsFrom,v=i.linePaths,_=i.areaPaths,k=i.seriesIndex,A=i.lineYPosition,F=i.xArrj,E=i.yArrj,I=i.y2Arrj,Y=i.isRangeStart,p=i.seriesRangeEnd,w=this.w,P=new V(this.ctx),B=this.yRatio,j=x.prevY,H=x.linePath,q=x.areaPath,Z=x.pathFromLine,te=x.pathFromArea,ne=R.isNumber(w.globals.minYArr[c])?w.globals.minYArr[c]:w.globals.minY;h||(h=w.globals.dataPoints>1?w.globals.dataPoints-1:w.globals.dataPoints);for(var ie=function(Ke,nt){return nt-Ke/B[s.yaxisIndex]+2*(s.isReversed?Ke/B[s.yaxisIndex]:0)},de=b,ge=0;ge<h;ge++){var Fe=l[d][ge+1]===void 0||l[d][ge+1]===null;if(w.globals.isXNumeric){var Oe=w.globals.seriesX[c][ge+1];w.globals.seriesX[c][ge+1]===void 0&&(Oe=w.globals.seriesX[c][h-1]),g=(Oe-w.globals.minX)/this.xRatio}else g+=this.xDivision;w.config.chart.stacked?d>0&&w.globals.collapsedSeries.length<w.config.series.length-1?A=this.prevSeriesY[function(Ke){for(var nt=Ke,Jt=0;Jt<w.globals.series.length;Jt++)if(w.globals.collapsedSeriesIndices.indexOf(Ke)>-1){nt--;break}return nt>=0?nt:0}(d-1)][ge+1]:A=this.zeroY:A=this.zeroY,Fe?b=ie(ne,A):(b=ie(l[d][ge+1],A),a==="rangeArea"&&(de=ie(p[d][ge+1],A))),F.push(g),Fe&&w.config.stroke.curve==="smooth"?E.push(null):E.push(b),I.push(de);var Xe=this.lineHelpers.calculatePoints({series:l,x:g,y:b,realIndex:c,i:d,j:ge,prevY:j}),st=this._createPaths({type:a,series:l,i:d,realIndex:c,j:ge,x:g,y:b,y2:de,xArrj:F,yArrj:E,y2Arrj:I,linePath:H,areaPath:q,linePaths:v,areaPaths:_,seriesIndex:k,isRangeStart:Y});_=st.areaPaths,v=st.linePaths,q=st.areaPath,H=st.linePath,!this.appendPathFrom||w.config.stroke.curve==="smooth"&&a==="rangeArea"||(Z+=P.line(g,this.zeroY),te+=P.line(g,this.zeroY)),this.handleNullDataPoints(l,Xe,d,ge,c),this._handleMarkersAndLabels({type:a,pointsPos:Xe,i:d,j:ge,realIndex:c,isRangeStart:Y})}return{yArrj:E,xArrj:F,pathFromArea:te,areaPaths:_,pathFromLine:Z,linePaths:v,linePath:H,areaPath:q}}},{key:"_handleMarkersAndLabels",value:function(i){var s=i.type,a=i.pointsPos,l=i.isRangeStart,h=i.i,c=i.j,d=i.realIndex,g=this.w,b=new At(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,c,{realIndex:d,pointsPos:a,zRatio:this.zRatio,elParent:this.elPointsMain});else{g.globals.series[h].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var x=this.markers.plotChartMarkers(a,d,c+1);x!==null&&this.elPointsMain.add(x)}var v=b.drawDataLabel({type:s,isRangeStart:l,pos:a,i:d,j:c+1});v!==null&&this.elDataLabelsWrap.add(v)}},{key:"_createPaths",value:function(i){var s=i.type,a=i.series,l=i.i,h=i.realIndex,c=i.j,d=i.x,g=i.y,b=i.xArrj,x=i.yArrj,v=i.y2,_=i.y2Arrj,k=i.linePath,A=i.areaPath,F=i.linePaths,E=i.areaPaths,I=i.seriesIndex,Y=i.isRangeStart,p=this.w,w=new V(this.ctx),P=p.config.stroke.curve,B=this.areaBottomY;if(Array.isArray(p.config.stroke.curve)&&(P=Array.isArray(I)?p.config.stroke.curve[I[l]]:p.config.stroke.curve[l]),s==="rangeArea"&&(p.globals.hasNullValues||p.config.forecastDataPoints.count>0)&&P==="smooth"&&(P="straight"),P==="smooth"){if(s==="rangeArea"?b.length===p.globals.dataPoints:c===a[l].length-2){var j=b.map(function(de,ge){return[b[ge],x[ge]]}).filter(function(de){return de[1]!==null}),H=Tr(j);if(k+=oi(H),a[l][0]===null?A=k:A+=oi(H),s==="rangeArea"&&Y){k+=w.line(b[b.length-1],_[_.length-1]);var q=b.slice().reverse(),Z=_.slice().reverse(),te=q.map(function(de,ge){return[q[ge],Z[ge]]}),ne=Tr(te);A=k+=oi(ne)}else A+=w.line(j[j.length-1][0],B)+w.line(j[0][0],B)+w.move(j[0][0],j[0][1])+"z";F.push(k),E.push(A)}}else{if(a[l][c+1]===null){k+=w.move(d,g);var ie=p.globals.isXNumeric?(p.globals.seriesX[h][c]-p.globals.minX)/this.xRatio:d-this.xDivision;A=A+w.line(ie,B)+w.move(d,g)+"z"}a[l][c]===null&&(k+=w.move(d,g),A+=w.move(d,B)),P==="stepline"?(k=k+w.line(d,null,"H")+w.line(null,g,"V"),A=A+w.line(d,null,"H")+w.line(null,g,"V")):P==="straight"&&(k+=w.line(d,g),A+=w.line(d,g)),c===a[l].length-2&&(A=A+w.line(d,B)+w.move(d,g)+"z",s==="rangeArea"&&Y?k=k+w.line(d,v)+w.move(d,v)+"z":(F.push(k),E.push(A)))}return{linePaths:F,areaPaths:E,linePath:k,areaPath:A}}},{key:"handleNullDataPoints",value:function(i,s,a,l,h){var c=this.w;if(i[a][l]===null&&c.config.markers.showNullDataPoints||i[a].length===1){var d=this.markers.plotChartMarkers(s,h,l+1,this.strokeWidth-c.config.markers.strokeWidth/2,!0);d!==null&&this.elPointsMain.add(d)}}}]),L}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function L(d,g,b,x){this.xoffset=d,this.yoffset=g,this.height=x,this.width=b,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(v){var _,k=[],A=this.xoffset,F=this.yoffset,E=h(v)/this.height,I=h(v)/this.width;if(this.width>=this.height)for(_=0;_<v.length;_++)k.push([A,F,A+E,F+v[_]/E]),F+=v[_]/E;else for(_=0;_<v.length;_++)k.push([A,F,A+v[_]/I,F+I]),A+=v[_]/I;return k},this.cutArea=function(v){var _;if(this.width>=this.height){var k=v/this.height,A=this.width-k;_=new L(this.xoffset+k,this.yoffset,A,this.height)}else{var F=v/this.width,E=this.height-F;_=new L(this.xoffset,this.yoffset+F,this.width,E)}return _}}function i(d,g,b,x,v){x=x===void 0?0:x,v=v===void 0?0:v;var _=s(function(k,A){var F,E=[],I=A/h(k);for(F=0;F<k.length;F++)E[F]=k[F]*I;return E}(d,g*b),[],new L(x,v,g,b),[]);return function(k){var A,F,E=[];for(A=0;A<k.length;A++)for(F=0;F<k[A].length;F++)E.push(k[A][F]);return E}(_)}function s(d,g,b,x){var v,_,k;if(d.length!==0)return v=b.shortestEdge(),function(A,F,E){var I;if(A.length===0)return!0;(I=A.slice()).push(F);var Y=a(A,E),p=a(I,E);return Y>=p}(g,_=d[0],v)?(g.push(_),s(d.slice(1),g,b,x)):(k=b.cutArea(h(g),x),x.push(b.getCoordinates(g)),s(d,[],k,x)),x;x.push(b.getCoordinates(g))}function a(d,g){var b=Math.min.apply(Math,d),x=Math.max.apply(Math,d),v=h(d);return Math.max(Math.pow(g,2)*x/Math.pow(v,2),Math.pow(v,2)/(Math.pow(g,2)*b))}function l(d){return d&&d.constructor===Array}function h(d){var g,b=0;for(g=0;g<d.length;g++)b+=d[g];return b}function c(d){var g,b=0;if(l(d[0]))for(g=0;g<d.length;g++)b+=c(d[g]);else b=h(d);return b}return function d(g,b,x,v,_){v=v===void 0?0:v,_=_===void 0?0:_;var k,A,F=[],E=[];if(l(g[0])){for(A=0;A<g.length;A++)F[A]=c(g[A]);for(k=i(F,b,x,v,_),A=0;A<g.length;A++)E.push(d(g[A],k[A][2]-k[A][0],k[A][3]-k[A][1],k[A][0],k[A][1]))}else E=i(g,b,x,v,_);return E}}();var Mt,Wt,Yi=function(){function L(i,s){u(this,L),this.ctx=i,this.w=i.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new ue(i),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return m(L,[{key:"draw",value:function(i){var s=this,a=this.w,l=new V(this.ctx),h=new je(this.ctx),c=l.group({class:"apexcharts-treemap"});if(a.globals.noData)return c;var d=[];return i.forEach(function(g){var b=g.map(function(x){return Math.abs(x)});d.push(b)}),this.negRange=this.helpers.checkColorRange(),a.config.series.forEach(function(g,b){g.data.forEach(function(x){Array.isArray(s.labels[b])||(s.labels[b]=[]),s.labels[b].push(x.x)})}),window.TreemapSquared.generate(d,a.globals.gridWidth,a.globals.gridHeight).forEach(function(g,b){var x=l.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:R.escapeString(a.globals.seriesNames[b]),rel:b+1,"data:realIndex":b});if(a.config.chart.dropShadow.enabled){var v=a.config.chart.dropShadow;new N(s.ctx).dropShadow(c,v,b)}var _=l.group({class:"apexcharts-data-labels"});g.forEach(function(k,A){var F=k[0],E=k[1],I=k[2],Y=k[3],p=l.drawRect(F,E,I-F,Y-E,0,"#fff",1,s.strokeWidth,a.config.plotOptions.treemap.useFillColorAsStroke?P:a.globals.stroke.colors[b]);p.attr({cx:F,cy:E,index:b,i:b,j:A,width:I-F,height:Y-E});var w=s.helpers.getShadeColor(a.config.chart.type,b,A,s.negRange),P=w.color;a.config.series[b].data[A]!==void 0&&a.config.series[b].data[A].fillColor&&(P=a.config.series[b].data[A].fillColor);var B=h.fillPath({color:P,seriesNumber:b,dataPointIndex:A});p.node.classList.add("apexcharts-treemap-rect"),p.attr({fill:B}),s.helpers.addListeners(p);var j={x:F+(I-F)/2,y:E+(Y-E)/2,width:0,height:0},H={x:F,y:E,width:I-F,height:Y-E};if(a.config.chart.animations.enabled&&!a.globals.dataChanged){var q=1;a.globals.resized||(q=a.config.chart.animations.speed),s.animateTreemap(p,j,H,q)}if(a.globals.dataChanged){var Z=1;s.dynamicAnim.enabled&&a.globals.shouldAnimate&&(Z=s.dynamicAnim.speed,a.globals.previousPaths[b]&&a.globals.previousPaths[b][A]&&a.globals.previousPaths[b][A].rect&&(j=a.globals.previousPaths[b][A].rect),s.animateTreemap(p,j,H,Z))}var te=s.getFontSize(k),ne=a.config.dataLabels.formatter(s.labels[b][A],{value:a.globals.series[b][A],seriesIndex:b,dataPointIndex:A,w:a});a.config.plotOptions.treemap.dataLabels.format==="truncate"&&(te=parseInt(a.config.dataLabels.style.fontSize,10),ne=s.truncateLabels(ne,te,F,E,I,Y));var ie=s.helpers.calculateDataLabels({text:ne,x:(F+I)/2,y:(E+Y)/2+s.strokeWidth/2+te/3,i:b,j:A,colorProps:w,fontSize:te,series:i});a.config.dataLabels.enabled&&ie&&s.rotateToFitLabel(ie,te,ne,F,E,I,Y),x.add(p),ie!==null&&x.add(ie)}),x.add(_),c.add(x)}),c}},{key:"getFontSize",value:function(i){var s=this.w,a,l,h,c,d=function g(b){var x,v=0;if(Array.isArray(b[0]))for(x=0;x<b.length;x++)v+=g(b[x]);else for(x=0;x<b.length;x++)v+=b[x].length;return v}(this.labels)/function g(b){var x,v=0;if(Array.isArray(b[0]))for(x=0;x<b.length;x++)v+=g(b[x]);else for(x=0;x<b.length;x++)v+=1;return v}(this.labels);return a=i[2]-i[0],l=i[3]-i[1],h=a*l,c=Math.pow(h,.5),Math.min(c/d,parseInt(s.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(i,s,a,l,h,c,d){var g=new V(this.ctx),b=g.getTextRects(a,s);if(b.width+this.w.config.stroke.width+5>c-l&&b.width<=d-h){var x=g.rotateAroundCenter(i.node);i.node.setAttribute("transform","rotate(-90 ".concat(x.x," ").concat(x.y,") translate(").concat(b.height/3,")"))}}},{key:"truncateLabels",value:function(i,s,a,l,h,c){var d=new V(this.ctx),g=d.getTextRects(i,s).width+this.w.config.stroke.width+5>h-a&&c-l>h-a?c-l:h-a,b=d.getTextBasedOnMaxWidth({text:i,maxWidth:g,fontSize:s});return i.length!==b.length&&g/s<5?"":b}},{key:"animateTreemap",value:function(i,s,a,l){var h=new U(this.ctx);h.animateRect(i,{x:s.x,y:s.y,width:s.width,height:s.height},{x:a.x,y:a.y,width:a.width,height:a.height},l,function(){h.animationCompleted(i)})}}]),L}(),ji=86400,yh=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return m(L,[{key:"calculateTimeScaleTicks",value:function(i,s){var a=this,l=this.w;if(l.globals.allSeriesCollapsed)return l.globals.labels=[],l.globals.timescaleLabels=[],[];var h=new Ce(this.ctx),c=(s-i)/864e5;this.determineInterval(c),l.globals.disableZoomIn=!1,l.globals.disableZoomOut=!1,c<.00011574074074074075?l.globals.disableZoomIn=!0:c>5e4&&(l.globals.disableZoomOut=!0);var d=h.getTimeUnitsfromTimestamp(i,s,this.utc),g=l.globals.gridWidth/c,b=g/24,x=b/60,v=x/60,_=Math.floor(24*c),k=Math.floor(1440*c),A=Math.floor(c*ji),F=Math.floor(c),E=Math.floor(c/30),I=Math.floor(c/365),Y={minMillisecond:d.minMillisecond,minSecond:d.minSecond,minMinute:d.minMinute,minHour:d.minHour,minDate:d.minDate,minMonth:d.minMonth,minYear:d.minYear},p={firstVal:Y,currentMillisecond:Y.minMillisecond,currentSecond:Y.minSecond,currentMinute:Y.minMinute,currentHour:Y.minHour,currentMonthDate:Y.minDate,currentDate:Y.minDate,currentMonth:Y.minMonth,currentYear:Y.minYear,daysWidthOnXAxis:g,hoursWidthOnXAxis:b,minutesWidthOnXAxis:x,secondsWidthOnXAxis:v,numberOfSeconds:A,numberOfMinutes:k,numberOfHours:_,numberOfDays:F,numberOfMonths:E,numberOfYears:I};switch(this.tickInterval){case"years":this.generateYearScale(p);break;case"months":case"half_year":this.generateMonthScale(p);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(p);break;case"hours":this.generateHourScale(p);break;case"minutes_fives":case"minutes":this.generateMinuteScale(p);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(p)}var w=this.timeScaleArray.map(function(P){var B={position:P.position,unit:P.unit,year:P.year,day:P.day?P.day:1,hour:P.hour?P.hour:0,month:P.month+1};return P.unit==="month"?r(r({},B),{},{day:1,value:P.value+1}):P.unit==="day"||P.unit==="hour"?r(r({},B),{},{value:P.value}):P.unit==="minute"?r(r({},B),{},{value:P.value,minute:P.value}):P.unit==="second"?r(r({},B),{},{value:P.value,minute:P.minute,second:P.second}):P});return w.filter(function(P){var B=1,j=Math.ceil(l.globals.gridWidth/120),H=P.value;l.config.xaxis.tickAmount!==void 0&&(j=l.config.xaxis.tickAmount),w.length>j&&(B=Math.floor(w.length/j));var q=!1,Z=!1;switch(a.tickInterval){case"years":P.unit==="year"&&(q=!0);break;case"half_year":B=7,P.unit==="year"&&(q=!0);break;case"months":B=1,P.unit==="year"&&(q=!0);break;case"months_fortnight":B=15,P.unit!=="year"&&P.unit!=="month"||(q=!0),H===30&&(Z=!0);break;case"months_days":B=10,P.unit==="month"&&(q=!0),H===30&&(Z=!0);break;case"week_days":B=8,P.unit==="month"&&(q=!0);break;case"days":B=1,P.unit==="month"&&(q=!0);break;case"hours":P.unit==="day"&&(q=!0);break;case"minutes_fives":case"seconds_fives":H%5!=0&&(Z=!0);break;case"seconds_tens":H%10!=0&&(Z=!0)}if(a.tickInterval==="hours"||a.tickInterval==="minutes_fives"||a.tickInterval==="seconds_tens"||a.tickInterval==="seconds_fives"){if(!Z)return!0}else if((H%B==0||q)&&!Z)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(i,s){var a=this.w,l=this.formatDates(i),h=this.removeOverlappingTS(l);a.globals.timescaleLabels=h.slice(),new Ri(this.ctx).plotCoords()}},{key:"determineInterval",value:function(i){var s=24*i,a=60*s;switch(!0){case i/365>5:this.tickInterval="years";break;case i>800:this.tickInterval="half_year";break;case i>180:this.tickInterval="months";break;case i>90:this.tickInterval="months_fortnight";break;case i>60:this.tickInterval="months_days";break;case i>30:this.tickInterval="week_days";break;case i>2:this.tickInterval="days";break;case s>2.4:this.tickInterval="hours";break;case a>15:this.tickInterval="minutes_fives";break;case a>5:this.tickInterval="minutes";break;case a>1:this.tickInterval="seconds_tens";break;case 60*a>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(i){var s=i.firstVal,a=i.currentMonth,l=i.currentYear,h=i.daysWidthOnXAxis,c=i.numberOfYears,d=s.minYear,g=0,b=new Ce(this.ctx),x="year";if(s.minDate>1||s.minMonth>0){var v=b.determineRemainingDaysOfYear(s.minYear,s.minMonth,s.minDate);g=(b.determineDaysOfYear(s.minYear)-v+1)*h,d=s.minYear+1,this.timeScaleArray.push({position:g,value:d,unit:x,year:d,month:R.monthMod(a+1)})}else s.minDate===1&&s.minMonth===0&&this.timeScaleArray.push({position:g,value:d,unit:x,year:l,month:R.monthMod(a+1)});for(var _=d,k=g,A=0;A<c;A++)_++,k=b.determineDaysOfYear(_-1)*h+k,this.timeScaleArray.push({position:k,value:_,unit:x,year:_,month:1})}},{key:"generateMonthScale",value:function(i){var s=i.firstVal,a=i.currentMonthDate,l=i.currentMonth,h=i.currentYear,c=i.daysWidthOnXAxis,d=i.numberOfMonths,g=l,b=0,x=new Ce(this.ctx),v="month",_=0;if(s.minDate>1){b=(x.determineDaysOfMonths(l+1,s.minYear)-a+1)*c,g=R.monthMod(l+1);var k=h+_,A=R.monthMod(g),F=g;g===0&&(v="year",F=k,A=1,k+=_+=1),this.timeScaleArray.push({position:b,value:F,unit:v,year:k,month:A})}else this.timeScaleArray.push({position:b,value:g,unit:v,year:h,month:R.monthMod(l)});for(var E=g+1,I=b,Y=0,p=1;Y<d;Y++,p++){(E=R.monthMod(E))===0?(v="year",_+=1):v="month";var w=this._getYear(h,E,_);I=x.determineDaysOfMonths(E,w)*c+I;var P=E===0?w:E;this.timeScaleArray.push({position:I,value:P,unit:v,year:w,month:E===0?1:E}),E++}}},{key:"generateDayScale",value:function(i){var s=i.firstVal,a=i.currentMonth,l=i.currentYear,h=i.hoursWidthOnXAxis,c=i.numberOfDays,d=new Ce(this.ctx),g="day",b=s.minDate+1,x=b,v=function(p,w,P){return p>d.determineDaysOfMonths(w+1,P)&&(x=1,g="month",k=w+=1),w},_=(24-s.minHour)*h,k=b,A=v(x,a,l);s.minHour===0&&s.minDate===1?(_=0,k=R.monthMod(s.minMonth),g="month",x=s.minDate):s.minDate!==1&&s.minHour===0&&s.minMinute===0&&(_=0,b=s.minDate,k=b,A=v(x=b,a,l)),this.timeScaleArray.push({position:_,value:k,unit:g,year:this._getYear(l,A,0),month:R.monthMod(A),day:x});for(var F=_,E=0;E<c;E++){g="day",A=v(x+=1,A,this._getYear(l,A,0));var I=this._getYear(l,A,0);F=24*h+F;var Y=x===1?R.monthMod(A):x;this.timeScaleArray.push({position:F,value:Y,unit:g,year:I,month:R.monthMod(A),day:Y})}}},{key:"generateHourScale",value:function(i){var s=i.firstVal,a=i.currentDate,l=i.currentMonth,h=i.currentYear,c=i.minutesWidthOnXAxis,d=i.numberOfHours,g=new Ce(this.ctx),b="hour",x=function(B,j){return B>g.determineDaysOfMonths(j+1,h)&&(E=1,j+=1),{month:j,date:E}},v=function(B,j){return B>g.determineDaysOfMonths(j+1,h)?j+=1:j},_=60-(s.minMinute+s.minSecond/60),k=_*c,A=s.minHour+1,F=A;_===60&&(k=0,F=(A=s.minHour)+1);var E=a;F>=24&&(F=0,E+=1,b="day");var I=x(E,l).month;I=v(E,I),this.timeScaleArray.push({position:k,value:A,unit:b,day:E,hour:F,year:h,month:R.monthMod(I)}),F++;for(var Y=k,p=0;p<d;p++){b="hour",F>=24&&(F=0,b="day",I=x(E+=1,I).month,I=v(E,I));var w=this._getYear(h,I,0);Y=60*c+Y;var P=F===0?E:F;this.timeScaleArray.push({position:Y,value:P,unit:b,hour:F,day:E,year:w,month:R.monthMod(I)}),F++}}},{key:"generateMinuteScale",value:function(i){for(var s=i.currentMillisecond,a=i.currentSecond,l=i.currentMinute,h=i.currentHour,c=i.currentDate,d=i.currentMonth,g=i.currentYear,b=i.minutesWidthOnXAxis,x=i.secondsWidthOnXAxis,v=i.numberOfMinutes,_=l+1,k=c,A=d,F=g,E=h,I=(60-a-s/1e3)*x,Y=0;Y<v;Y++)_>=60&&(_=0,(E+=1)===24&&(E=0)),this.timeScaleArray.push({position:I,value:_,unit:"minute",hour:E,minute:_,day:k,year:this._getYear(F,A,0),month:R.monthMod(A)}),I+=b,_++}},{key:"generateSecondScale",value:function(i){for(var s=i.currentMillisecond,a=i.currentSecond,l=i.currentMinute,h=i.currentHour,c=i.currentDate,d=i.currentMonth,g=i.currentYear,b=i.secondsWidthOnXAxis,x=i.numberOfSeconds,v=a+1,_=l,k=c,A=d,F=g,E=h,I=(1e3-s)/1e3*b,Y=0;Y<x;Y++)v>=60&&(v=0,++_>=60&&(_=0,++E===24&&(E=0))),this.timeScaleArray.push({position:I,value:v,unit:"second",hour:E,minute:_,second:v,day:k,year:this._getYear(F,A,0),month:R.monthMod(A)}),I+=b,v++}},{key:"createRawDateString",value:function(i,s){var a=i.year;return i.month===0&&(i.month=1),a+="-"+("0"+i.month.toString()).slice(-2),i.unit==="day"?a+=i.unit==="day"?"-"+("0"+s).slice(-2):"-01":a+="-"+("0"+(i.day?i.day:"1")).slice(-2),i.unit==="hour"?a+=i.unit==="hour"?"T"+("0"+s).slice(-2):"T00":a+="T"+("0"+(i.hour?i.hour:"0")).slice(-2),i.unit==="minute"?a+=":"+("0"+s).slice(-2):a+=":"+(i.minute?("0"+i.minute).slice(-2):"00"),i.unit==="second"?a+=":"+("0"+s).slice(-2):a+=":00",this.utc&&(a+=".000Z"),a}},{key:"formatDates",value:function(i){var s=this,a=this.w;return i.map(function(l){var h=l.value.toString(),c=new Ce(s.ctx),d=s.createRawDateString(l,h),g=c.getDate(c.parseDate(d));if(s.utc||(g=c.getDate(c.parseDateWithTimezone(d))),a.config.xaxis.labels.format===void 0){var b="dd MMM",x=a.config.xaxis.labels.datetimeFormatter;l.unit==="year"&&(b=x.year),l.unit==="month"&&(b=x.month),l.unit==="day"&&(b=x.day),l.unit==="hour"&&(b=x.hour),l.unit==="minute"&&(b=x.minute),l.unit==="second"&&(b=x.second),h=c.formatDate(g,b)}else h=c.formatDate(g,a.config.xaxis.labels.format);return{dateString:d,position:l.position,value:h,unit:l.unit,year:l.year,month:l.month}})}},{key:"removeOverlappingTS",value:function(i){var s,a=this,l=new V(this.ctx),h=!1;i.length>0&&i[0].value&&i.every(function(g){return g.value.length===i[0].value.length})&&(h=!0,s=l.getTextRects(i[0].value).width);var c=0,d=i.map(function(g,b){if(b>0&&a.w.config.xaxis.labels.hideOverlappingLabels){var x=h?s:l.getTextRects(i[c].value).width,v=i[c].position;return g.position>v+x+10?(c=b,g):null}return g});return d=d.filter(function(g){return g!==null})}},{key:"_getYear",value:function(i,s,a){return i+Math.floor(s/12)+a}}]),L}(),wh=function(){function L(i,s){u(this,L),this.ctx=s,this.w=s.w,this.el=i}return m(L,[{key:"setupElements",value:function(){var i=this.w.globals,s=this.w.config,a=s.chart.type;i.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(a)>-1,i.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(a)>-1,i.isBarHorizontal=(s.chart.type==="bar"||s.chart.type==="rangeBar"||s.chart.type==="boxPlot")&&s.plotOptions.bar.horizontal,i.chartClass=".apexcharts"+i.chartID,i.dom.baseEl=this.el,i.dom.elWrap=document.createElement("div"),V.setAttrs(i.dom.elWrap,{id:i.chartClass.substring(1),class:"apexcharts-canvas "+i.chartClass.substring(1)}),this.el.appendChild(i.dom.elWrap),i.dom.Paper=new window.SVG.Doc(i.dom.elWrap),i.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(s.chart.offsetX,", ").concat(s.chart.offsetY,")")}),i.dom.Paper.node.style.background=s.theme.mode==="dark"&&s.chart.background==="transparent"?"rgba(0, 0, 0, 0.8)":s.chart.background,this.setSVGDimensions(),i.dom.elLegendForeign=document.createElementNS(i.SVGNS,"foreignObject"),V.setAttrs(i.dom.elLegendForeign,{x:0,y:0,width:i.svgWidth,height:i.svgHeight}),i.dom.elLegendWrap=document.createElement("div"),i.dom.elLegendWrap.classList.add("apexcharts-legend"),i.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),i.dom.elLegendForeign.appendChild(i.dom.elLegendWrap),i.dom.Paper.node.appendChild(i.dom.elLegendForeign),i.dom.elGraphical=i.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),i.dom.elDefs=i.dom.Paper.defs(),i.dom.Paper.add(i.dom.elGraphical),i.dom.elGraphical.add(i.dom.elDefs)}},{key:"plotChartType",value:function(i,s){var a=this.w,l=a.config,h=a.globals,c={series:[],i:[]},d={series:[],i:[]},g={series:[],i:[]},b={series:[],i:[]},x={series:[],i:[]},v={series:[],i:[]},_={series:[],i:[]},k={series:[],i:[]},A={series:[],seriesRangeEnd:[],i:[]};h.series.map(function(j,H){var q=0;i[H].type!==void 0?(i[H].type==="column"||i[H].type==="bar"?(h.series.length>1&&l.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),x.series.push(j),x.i.push(H),q++,a.globals.columnSeries=x.series):i[H].type==="area"?(d.series.push(j),d.i.push(H),q++):i[H].type==="line"?(c.series.push(j),c.i.push(H),q++):i[H].type==="scatter"?(g.series.push(j),g.i.push(H)):i[H].type==="bubble"?(b.series.push(j),b.i.push(H),q++):i[H].type==="candlestick"?(v.series.push(j),v.i.push(H),q++):i[H].type==="boxPlot"?(_.series.push(j),_.i.push(H),q++):i[H].type==="rangeBar"?(k.series.push(j),k.i.push(H),q++):i[H].type==="rangeArea"?(A.series.push(h.seriesRangeStart[H]),A.seriesRangeEnd.push(h.seriesRangeEnd[H]),A.i.push(H),q++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble/candlestick/boxPlot/rangeBar/rangeArea"),q>1&&(h.comboCharts=!0)):(c.series.push(j),c.i.push(H))});var F=new li(this.ctx,s),E=new le(this.ctx,s);this.ctx.pie=new Ve(this.ctx);var I=new ct(this.ctx);this.ctx.rangeBar=new $t(this.ctx,s);var Y=new wt(this.ctx),p=[];if(h.comboCharts){if(d.series.length>0&&p.push(F.draw(d.series,"area",d.i)),x.series.length>0)if(a.config.chart.stacked){var w=new ae(this.ctx,s);p.push(w.draw(x.series,x.i))}else this.ctx.bar=new Q(this.ctx,s),p.push(this.ctx.bar.draw(x.series,x.i));if(A.series.length>0&&p.push(F.draw(A.series,"rangeArea",A.i,A.seriesRangeEnd)),c.series.length>0&&p.push(F.draw(c.series,"line",c.i)),v.series.length>0&&p.push(E.draw(v.series,"candlestick",v.i)),_.series.length>0&&p.push(E.draw(_.series,"boxPlot",_.i)),k.series.length>0&&p.push(this.ctx.rangeBar.draw(k.series,k.i)),g.series.length>0){var P=new li(this.ctx,s,!0);p.push(P.draw(g.series,"scatter",g.i))}if(b.series.length>0){var B=new li(this.ctx,s,!0);p.push(B.draw(b.series,"bubble",b.i))}}else switch(l.chart.type){case"line":p=F.draw(h.series,"line");break;case"area":p=F.draw(h.series,"area");break;case"bar":l.chart.stacked?p=new ae(this.ctx,s).draw(h.series):(this.ctx.bar=new Q(this.ctx,s),p=this.ctx.bar.draw(h.series));break;case"candlestick":p=new le(this.ctx,s).draw(h.series,"candlestick");break;case"boxPlot":p=new le(this.ctx,s).draw(h.series,l.chart.type);break;case"rangeBar":p=this.ctx.rangeBar.draw(h.series);break;case"rangeArea":p=F.draw(h.seriesRangeStart,"rangeArea",void 0,h.seriesRangeEnd);break;case"heatmap":p=new ce(this.ctx,s).draw(h.series);break;case"treemap":p=new Yi(this.ctx,s).draw(h.series);break;case"pie":case"donut":case"polarArea":p=this.ctx.pie.draw(h.series);break;case"radialBar":p=I.draw(h.series);break;case"radar":p=Y.draw(h.series);break;default:p=F.draw(h.series)}return p}},{key:"setSVGDimensions",value:function(){var i=this.w.globals,s=this.w.config;i.svgWidth=s.chart.width,i.svgHeight=s.chart.height;var a=R.getDimensions(this.el),l=s.chart.width.toString().split(/[0-9]+/g).pop();l==="%"?R.isNumber(a[0])&&(a[0].width===0&&(a=R.getDimensions(this.el.parentNode)),i.svgWidth=a[0]*parseInt(s.chart.width,10)/100):l!=="px"&&l!==""||(i.svgWidth=parseInt(s.chart.width,10));var h=s.chart.height.toString().split(/[0-9]+/g).pop();if(i.svgHeight!=="auto"&&i.svgHeight!=="")if(h==="%"){var c=R.getDimensions(this.el.parentNode);i.svgHeight=c[1]*parseInt(s.chart.height,10)/100}else i.svgHeight=parseInt(s.chart.height,10);else i.axisCharts?i.svgHeight=i.svgWidth/1.61:i.svgHeight=i.svgWidth/1.2;if(i.svgWidth<0&&(i.svgWidth=0),i.svgHeight<0&&(i.svgHeight=0),V.setAttrs(i.dom.Paper.node,{width:i.svgWidth,height:i.svgHeight}),h!=="%"){var d=s.chart.sparkline.enabled?0:i.axisCharts?s.chart.parentHeightOffset:0;i.dom.Paper.node.parentNode.parentNode.style.minHeight=i.svgHeight+d+"px"}i.dom.elWrap.style.width=i.svgWidth+"px",i.dom.elWrap.style.height=i.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var i=this.w.globals,s=i.translateY,a={transform:"translate("+i.translateX+", "+s+")"};V.setAttrs(i.dom.elGraphical.node,a)}},{key:"resizeNonAxisCharts",value:function(){var i=this.w,s=i.globals,a=0,l=i.config.chart.sparkline.enabled?1:15;l+=i.config.grid.padding.bottom,i.config.legend.position!=="top"&&i.config.legend.position!=="bottom"||!i.config.legend.show||i.config.legend.floating||(a=new Dr(this.ctx).legendHelpers.getLegendBBox().clwh+10);var h=i.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),c=2.05*i.globals.radialSize;if(h&&!i.config.chart.sparkline.enabled&&i.config.plotOptions.radialBar.startAngle!==0){var d=R.getBoundingClientRect(h);c=d.bottom;var g=d.bottom-d.top;c=Math.max(2.05*i.globals.radialSize,g)}var b=c+s.translateY+a+l;s.dom.elLegendForeign&&s.dom.elLegendForeign.setAttribute("height",b),i.config.chart.height&&String(i.config.chart.height).indexOf("%")>0||(s.dom.elWrap.style.height=b+"px",V.setAttrs(s.dom.Paper.node,{height:b}),s.dom.Paper.node.parentNode.parentNode.style.minHeight=b+"px")}},{key:"coreCalculations",value:function(){new qi(this.ctx).init()}},{key:"resetGlobals",value:function(){var i=this,s=function(){return i.w.config.series.map(function(h){return[]})},a=new at,l=this.w.globals;a.initGlobalVars(l),l.seriesXvalues=s(),l.seriesYvalues=s()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var i=null,s=this.w;if(s.globals.axisCharts){if(s.config.xaxis.crosshairs.position==="back"&&new Ii(this.ctx).drawXCrosshairs(),s.config.yaxis[0].crosshairs.position==="back"&&new Ii(this.ctx).drawYCrosshairs(),s.config.xaxis.type==="datetime"&&s.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new yh(this.ctx);var a=[];isFinite(s.globals.minX)&&isFinite(s.globals.maxX)&&!s.globals.isBarHorizontal?a=this.ctx.timeScale.calculateTimeScaleTicks(s.globals.minX,s.globals.maxX):s.globals.isBarHorizontal&&(a=this.ctx.timeScale.calculateTimeScaleTicks(s.globals.minY,s.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(a)}i=new se(this.ctx).getCalculatedRatios()}return i}},{key:"updateSourceChart",value:function(i){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:i.w.globals.minX,max:i.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var i=this,s=this.w;if(s.config.chart.brush.enabled&&typeof s.config.chart.events.selection!="function"){var a=Array.isArray(s.config.chart.brush.targets)||[s.config.chart.brush.target];a.forEach(function(l){var h=ApexCharts.getChartByID(l);h.w.globals.brushSource=i.ctx,typeof h.w.config.chart.events.zoomed!="function"&&(h.w.config.chart.events.zoomed=function(){i.updateSourceChart(h)}),typeof h.w.config.chart.events.scrolled!="function"&&(h.w.config.chart.events.scrolled=function(){i.updateSourceChart(h)})}),s.config.chart.events.selection=function(l,h){a.forEach(function(c){var d=ApexCharts.getChartByID(c),g=R.clone(s.config.yaxis);if(s.config.chart.brush.autoScaleYaxis&&d.w.globals.series.length===1){var b=new vi(d);g=b.autoScaleY(d,g,h)}var x=d.w.config.yaxis.reduce(function(v,_,k){return[].concat(O(v),[r(r({},d.w.config.yaxis[k]),{},{min:g[0].min,max:g[0].max})])},[]);d.ctx.updateHelpers._updateOptions({xaxis:{min:h.xaxis.min,max:h.xaxis.max},yaxis:x},!1,!1,!1,!1)})}}}}]),L}(),_h=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w}return m(L,[{key:"_updateOptions",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0&&arguments[1],l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],c=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(d){var g=[s.ctx];h&&(g=s.ctx.getSyncedCharts()),s.ctx.w.globals.isExecCalled&&(g=[s.ctx],s.ctx.w.globals.isExecCalled=!1),g.forEach(function(b,x){var v=b.w;if(v.globals.shouldAnimate=l,a||(v.globals.resized=!0,v.globals.dataChanged=!0,l&&b.series.getPreviousPaths()),i&&o(i)==="object"&&(b.config=new De(i),i=se.extendArrayProps(b.config,i,v),b.w.globals.chartID!==s.ctx.w.globals.chartID&&delete i.series,v.config=R.extend(v.config,i),c&&(v.globals.lastXAxis=i.xaxis?R.clone(i.xaxis):[],v.globals.lastYAxis=i.yaxis?R.clone(i.yaxis):[],v.globals.initialConfig=R.extend({},v.config),v.globals.initialSeries=R.clone(v.config.series),i.series))){for(var _=0;_<v.globals.collapsedSeriesIndices.length;_++){var k=v.config.series[v.globals.collapsedSeriesIndices[_]];v.globals.collapsedSeries[_].data=v.globals.axisCharts?k.data.slice():k}for(var A=0;A<v.globals.ancillaryCollapsedSeriesIndices.length;A++){var F=v.config.series[v.globals.ancillaryCollapsedSeriesIndices[A]];v.globals.ancillaryCollapsedSeries[A].data=v.globals.axisCharts?F.data.slice():F}b.series.emptyCollapsedSeries(v.config.series)}return b.update(i).then(function(){x===g.length-1&&d(b)})})})}},{key:"_updateSeries",value:function(i,s){var a=this,l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(h){var c,d=a.w;return d.globals.shouldAnimate=s,d.globals.dataChanged=!0,s&&a.ctx.series.getPreviousPaths(),d.globals.axisCharts?((c=i.map(function(g,b){return a._extendSeries(g,b)})).length===0&&(c=[{data:[]}]),d.config.series=c):d.config.series=i.slice(),l&&(d.globals.initialConfig.series=R.clone(d.config.series),d.globals.initialSeries=R.clone(d.config.series)),a.ctx.update().then(function(){h(a.ctx)})})}},{key:"_extendSeries",value:function(i,s){var a=this.w,l=a.config.series[s];return r(r({},a.config.series[s]),{},{name:i.name?i.name:l&&l.name,color:i.color?i.color:l&&l.color,type:i.type?i.type:l&&l.type,group:i.group?i.group:l&&l.group,data:i.data?i.data:l&&l.data})}},{key:"toggleDataPointSelection",value:function(i,s){var a=this.w,l=null,h=".apexcharts-series[data\\:realIndex='".concat(i,"']");return a.globals.axisCharts?l=a.globals.dom.Paper.select("".concat(h," path[j='").concat(s,"'], ").concat(h," circle[j='").concat(s,"'], ").concat(h," rect[j='").concat(s,"']")).members[0]:s===void 0&&(l=a.globals.dom.Paper.select("".concat(h," path[j='").concat(i,"']")).members[0],a.config.chart.type!=="pie"&&a.config.chart.type!=="polarArea"&&a.config.chart.type!=="donut"||this.ctx.pie.pieClicked(i)),l?(new V(this.ctx).pathMouseDown(l,null),l.node?l.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(i){var s=this.w;if(["min","max"].forEach(function(l){i.xaxis[l]!==void 0&&(s.config.xaxis[l]=i.xaxis[l],s.globals.lastXAxis[l]=i.xaxis[l])}),i.xaxis.categories&&i.xaxis.categories.length&&(s.config.xaxis.categories=i.xaxis.categories),s.config.xaxis.convertedCatToNumeric){var a=new $e(i);i=a.convertCatToNumericXaxis(i,this.ctx)}return i}},{key:"forceYAxisUpdate",value:function(i){return i.chart&&i.chart.stacked&&i.chart.stackType==="100%"&&(Array.isArray(i.yaxis)?i.yaxis.forEach(function(s,a){i.yaxis[a].min=0,i.yaxis[a].max=100}):(i.yaxis.min=0,i.yaxis.max=100)),i}},{key:"revertDefaultAxisMinMax",value:function(i){var s=this,a=this.w,l=a.globals.lastXAxis,h=a.globals.lastYAxis;i&&i.xaxis&&(l=i.xaxis),i&&i.yaxis&&(h=i.yaxis),a.config.xaxis.min=l.min,a.config.xaxis.max=l.max;var c=function(d){h[d]!==void 0&&(a.config.yaxis[d].min=h[d].min,a.config.yaxis[d].max=h[d].max)};a.config.yaxis.map(function(d,g){a.globals.zoomed||h[g]!==void 0?c(g):s.ctx.opts.yaxis[g]!==void 0&&(d.min=s.ctx.opts.yaxis[g].min,d.max=s.ctx.opts.yaxis[g].max)})}}]),L}();Mt=typeof window<"u"?window:void 0,Wt=function(L,i){var s=(this!==void 0?this:L).SVG=function(p){if(s.supported)return p=new s.Doc(p),s.parser.draw||s.prepare(),p};if(s.ns="http://www.w3.org/2000/svg",s.xmlns="http://www.w3.org/2000/xmlns/",s.xlink="http://www.w3.org/1999/xlink",s.svgjs="http://svgjs.dev",s.supported=!0,!s.supported)return!1;s.did=1e3,s.eid=function(p){return"Svgjs"+x(p)+s.did++},s.create=function(p){var w=i.createElementNS(this.ns,p);return w.setAttribute("id",this.eid(p)),w},s.extend=function(){var p,w;w=(p=[].slice.call(arguments)).pop();for(var P=p.length-1;P>=0;P--)if(p[P])for(var B in w)p[P].prototype[B]=w[B];s.Set&&s.Set.inherit&&s.Set.inherit()},s.invent=function(p){var w=typeof p.create=="function"?p.create:function(){this.constructor.call(this,s.create(p.create))};return p.inherit&&(w.prototype=new p.inherit),p.extend&&s.extend(w,p.extend),p.construct&&s.extend(p.parent||s.Container,p.construct),w},s.adopt=function(p){return p?p.instance?p.instance:((w=p.nodeName=="svg"?p.parentNode instanceof L.SVGElement?new s.Nested:new s.Doc:p.nodeName=="linearGradient"?new s.Gradient("linear"):p.nodeName=="radialGradient"?new s.Gradient("radial"):s[x(p.nodeName)]?new s[x(p.nodeName)]:new s.Element(p)).type=p.nodeName,w.node=p,p.instance=w,w instanceof s.Doc&&w.namespace().defs(),w.setData(JSON.parse(p.getAttribute("svgjs:data"))||{}),w):null;var w},s.prepare=function(){var p=i.getElementsByTagName("body")[0],w=(p?new s.Doc(p):s.adopt(i.documentElement).nested()).size(2,0);s.parser={body:p||i.documentElement,draw:w.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:w.polyline().node,path:w.path().node,native:s.create("svg")}},s.parser={native:s.create("svg")},i.addEventListener("DOMContentLoaded",function(){s.parser.draw||s.prepare()},!1),s.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},s.utils={map:function(p,w){for(var P=p.length,B=[],j=0;j<P;j++)B.push(w(p[j]));return B},filter:function(p,w){for(var P=p.length,B=[],j=0;j<P;j++)w(p[j])&&B.push(p[j]);return B},filterSVGElements:function(p){return this.filter(p,function(w){return w instanceof L.SVGElement})}},s.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},s.Color=function(p){var w,P;this.r=0,this.g=0,this.b=0,p&&(typeof p=="string"?s.regex.isRgb.test(p)?(w=s.regex.rgb.exec(p.replace(s.regex.whitespace,"")),this.r=parseInt(w[1]),this.g=parseInt(w[2]),this.b=parseInt(w[3])):s.regex.isHex.test(p)&&(w=s.regex.hex.exec((P=p).length==4?["#",P.substring(1,2),P.substring(1,2),P.substring(2,3),P.substring(2,3),P.substring(3,4),P.substring(3,4)].join(""):P),this.r=parseInt(w[1],16),this.g=parseInt(w[2],16),this.b=parseInt(w[3],16)):o(p)==="object"&&(this.r=p.r,this.g=p.g,this.b=p.b))},s.extend(s.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+v(this.r)+v(this.g)+v(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(p){return this.destination=new s.Color(p),this},at:function(p){return this.destination?(p=p<0?0:p>1?1:p,new s.Color({r:~~(this.r+(this.destination.r-this.r)*p),g:~~(this.g+(this.destination.g-this.g)*p),b:~~(this.b+(this.destination.b-this.b)*p)})):this}}),s.Color.test=function(p){return p+="",s.regex.isHex.test(p)||s.regex.isRgb.test(p)},s.Color.isRgb=function(p){return p&&typeof p.r=="number"&&typeof p.g=="number"&&typeof p.b=="number"},s.Color.isColor=function(p){return s.Color.isRgb(p)||s.Color.test(p)},s.Array=function(p,w){(p=(p||[]).valueOf()).length==0&&w&&(p=w.valueOf()),this.value=this.parse(p)},s.extend(s.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(p){return p=p.valueOf(),Array.isArray(p)?p:this.split(p)}}),s.PointArray=function(p,w){s.Array.call(this,p,w||[[0,0]])},s.PointArray.prototype=new s.Array,s.PointArray.prototype.constructor=s.PointArray;for(var a={M:function(p,w,P){return w.x=P.x=p[0],w.y=P.y=p[1],["M",w.x,w.y]},L:function(p,w){return w.x=p[0],w.y=p[1],["L",p[0],p[1]]},H:function(p,w){return w.x=p[0],["H",p[0]]},V:function(p,w){return w.y=p[0],["V",p[0]]},C:function(p,w){return w.x=p[4],w.y=p[5],["C",p[0],p[1],p[2],p[3],p[4],p[5]]},Q:function(p,w){return w.x=p[2],w.y=p[3],["Q",p[0],p[1],p[2],p[3]]},S:function(p,w){return w.x=p[2],w.y=p[3],["S",p[0],p[1],p[2],p[3]]},Z:function(p,w,P){return w.x=P.x,w.y=P.y,["Z"]}},l="mlhvqtcsaz".split(""),h=0,c=l.length;h<c;++h)a[l[h]]=function(p){return function(w,P,B){if(p=="H")w[0]=w[0]+P.x;else if(p=="V")w[0]=w[0]+P.y;else if(p=="A")w[5]=w[5]+P.x,w[6]=w[6]+P.y;else for(var j=0,H=w.length;j<H;++j)w[j]=w[j]+(j%2?P.y:P.x);if(a&&typeof a[p]=="function")return a[p](w,P,B)}}(l[h].toUpperCase());s.PathArray=function(p,w){s.Array.call(this,p,w||[["M",0,0]])},s.PathArray.prototype=new s.Array,s.PathArray.prototype.constructor=s.PathArray,s.extend(s.PathArray,{toString:function(){return function(p){for(var w=0,P=p.length,B="";w<P;w++)B+=p[w][0],p[w][1]!=null&&(B+=p[w][1],p[w][2]!=null&&(B+=" ",B+=p[w][2],p[w][3]!=null&&(B+=" ",B+=p[w][3],B+=" ",B+=p[w][4],p[w][5]!=null&&(B+=" ",B+=p[w][5],B+=" ",B+=p[w][6],p[w][7]!=null&&(B+=" ",B+=p[w][7])))));return B+" "}(this.value)},move:function(p,w){var P=this.bbox();return P.x,P.y,this},at:function(p){if(!this.destination)return this;for(var w=this.value,P=this.destination.value,B=[],j=new s.PathArray,H=0,q=w.length;H<q;H++){B[H]=[w[H][0]];for(var Z=1,te=w[H].length;Z<te;Z++)B[H][Z]=w[H][Z]+(P[H][Z]-w[H][Z])*p;B[H][0]==="A"&&(B[H][4]=+(B[H][4]!=0),B[H][5]=+(B[H][5]!=0))}return j.value=B,j},parse:function(p){if(p instanceof s.PathArray)return p.valueOf();var w,P={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};p=typeof p=="string"?p.replace(s.regex.numbersWithDots,g).replace(s.regex.pathLetters," $& ").replace(s.regex.hyphen,"$1 -").trim().split(s.regex.delimiter):p.reduce(function(te,ne){return[].concat.call(te,ne)},[]);var B=[],j=new s.Point,H=new s.Point,q=0,Z=p.length;do s.regex.isPathLetter.test(p[q])?(w=p[q],++q):w=="M"?w="L":w=="m"&&(w="l"),B.push(a[w].call(null,p.slice(q,q+=P[w.toUpperCase()]).map(parseFloat),j,H));while(Z>q);return B},bbox:function(){return s.parser.draw||s.prepare(),s.parser.path.setAttribute("d",this.toString()),s.parser.path.getBBox()}}),s.Number=s.invent({create:function(p,w){this.value=0,this.unit=w||"",typeof p=="number"?this.value=isNaN(p)?0:isFinite(p)?p:p<0?-34e37:34e37:typeof p=="string"?(w=p.match(s.regex.numberAndUnit))&&(this.value=parseFloat(w[1]),w[5]=="%"?this.value/=100:w[5]=="s"&&(this.value*=1e3),this.unit=w[5]):p instanceof s.Number&&(this.value=p.valueOf(),this.unit=p.unit)},extend:{toString:function(){return(this.unit=="%"?~~(1e8*this.value)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(p){return p=new s.Number(p),new s.Number(this+p,this.unit||p.unit)},minus:function(p){return p=new s.Number(p),new s.Number(this-p,this.unit||p.unit)},times:function(p){return p=new s.Number(p),new s.Number(this*p,this.unit||p.unit)},divide:function(p){return p=new s.Number(p),new s.Number(this/p,this.unit||p.unit)},to:function(p){var w=new s.Number(this);return typeof p=="string"&&(w.unit=p),w},morph:function(p){return this.destination=new s.Number(p),p.relative&&(this.destination.value+=this.value),this},at:function(p){return this.destination?new s.Number(this.destination).minus(this).times(p).plus(this):this}}}),s.Element=s.invent({create:function(p){this._stroke=s.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=p)&&(this.type=p.nodeName,this.node.instance=this,this._stroke=p.getAttribute("stroke")||this._stroke)},extend:{x:function(p){return this.attr("x",p)},y:function(p){return this.attr("y",p)},cx:function(p){return p==null?this.x()+this.width()/2:this.x(p-this.width()/2)},cy:function(p){return p==null?this.y()+this.height()/2:this.y(p-this.height()/2)},move:function(p,w){return this.x(p).y(w)},center:function(p,w){return this.cx(p).cy(w)},width:function(p){return this.attr("width",p)},height:function(p){return this.attr("height",p)},size:function(p,w){var P=_(this,p,w);return this.width(new s.Number(P.width)).height(new s.Number(P.height))},clone:function(p){this.writeDataToDom();var w=F(this.node.cloneNode(!0));return p?p.add(w):this.after(w),w},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(p){return this.after(p).remove(),p},addTo:function(p){return p.put(this)},putIn:function(p){return p.add(this)},id:function(p){return this.attr("id",p)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var p=this.attr("class");return p==null?[]:p.trim().split(s.regex.delimiter)},hasClass:function(p){return this.classes().indexOf(p)!=-1},addClass:function(p){if(!this.hasClass(p)){var w=this.classes();w.push(p),this.attr("class",w.join(" "))}return this},removeClass:function(p){return this.hasClass(p)&&this.attr("class",this.classes().filter(function(w){return w!=p}).join(" ")),this},toggleClass:function(p){return this.hasClass(p)?this.removeClass(p):this.addClass(p)},reference:function(p){return s.get(this.attr(p))},parent:function(p){var w=this;if(!w.node.parentNode)return null;if(w=s.adopt(w.node.parentNode),!p)return w;for(;w&&w.node instanceof L.SVGElement;){if(typeof p=="string"?w.matches(p):w instanceof p)return w;if(!w.node.parentNode||w.node.parentNode.nodeName=="#document")return null;w=s.adopt(w.node.parentNode)}},doc:function(){return this instanceof s.Doc?this:this.parent(s.Doc)},parents:function(p){var w=[],P=this;do{if(!(P=P.parent(p))||!P.node)break;w.push(P)}while(P.parent);return w},matches:function(p){return function(w,P){return(w.matches||w.matchesSelector||w.msMatchesSelector||w.mozMatchesSelector||w.webkitMatchesSelector||w.oMatchesSelector).call(w,P)}(this.node,p)},native:function(){return this.node},svg:function(p){var w=i.createElement("svg");if(!(p&&this instanceof s.Parent))return w.appendChild(p=i.createElement("svg")),this.writeDataToDom(),p.appendChild(this.node.cloneNode(!0)),w.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");w.innerHTML="<svg>"+p.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var P=0,B=w.firstChild.childNodes.length;P<B;P++)this.node.appendChild(w.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(p){return this.dom=p,this},is:function(p){return function(w,P){return w instanceof P}(this,p)}}}),s.easing={"-":function(p){return p},"<>":function(p){return-Math.cos(p*Math.PI)/2+.5},">":function(p){return Math.sin(p*Math.PI/2)},"<":function(p){return 1-Math.cos(p*Math.PI/2)}},s.morph=function(p){return function(w,P){return new s.MorphObj(w,P).at(p)}},s.Situation=s.invent({create:function(p){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new s.Number(p.duration).valueOf(),this.delay=new s.Number(p.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=p.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),s.FX=s.invent({create:function(p){this._target=p,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(p,w,P){o(p)==="object"&&(w=p.ease,P=p.delay,p=p.duration);var B=new s.Situation({duration:p||1e3,delay:P||0,ease:s.easing[w||"-"]||w});return this.queue(B),this},target:function(p){return p&&p instanceof s.Element?(this._target=p,this):this._target},timeToAbsPos:function(p){return(p-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(p){return this.situation.duration/this._speed*p+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=L.requestAnimationFrame((function(){this.step()}).bind(this))},stopAnimFrame:function(){L.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(p){return(typeof p=="function"||p instanceof s.Situation)&&this.situations.push(p),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof s.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var p,w=this.situation;if(w.init)return this;for(var P in w.animations){p=this.target()[P](),Array.isArray(p)||(p=[p]),Array.isArray(w.animations[P])||(w.animations[P]=[w.animations[P]]);for(var B=p.length;B--;)w.animations[P][B]instanceof s.Number&&(p[B]=new s.Number(p[B])),w.animations[P][B]=p[B].morph(w.animations[P][B])}for(var P in w.attrs)w.attrs[P]=new s.MorphObj(this.target().attr(P),w.attrs[P]);for(var P in w.styles)w.styles[P]=new s.MorphObj(this.target().style(P),w.styles[P]);return w.initialTransformation=this.target().matrixify(),w.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(p,w){var P=this.active;return this.active=!1,w&&this.clearQueue(),p&&this.situation&&(!P&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(p){var w=this.last();return this.target().on("finished.fx",function P(B){B.detail.situation==w&&(p.call(this,w),this.off("finished.fx",P))}),this._callStart()},during:function(p){var w=this.last(),P=function(B){B.detail.situation==w&&p.call(this,B.detail.pos,s.morph(B.detail.pos),B.detail.eased,w)};return this.target().off("during.fx",P).on("during.fx",P),this.after(function(){this.off("during.fx",P)}),this._callStart()},afterAll:function(p){var w=function P(B){p.call(this),this.off("allfinished.fx",P)};return this.target().off("allfinished.fx",w).on("allfinished.fx",w),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(p,w,P){return this.last()[P||"animations"][p]=w,this._callStart()},step:function(p){var w,P,B;p||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1?(w=Math.max(this.absPos,0),P=Math.floor(w),this.situation.loops===!0||P<this.situation.loops?(this.pos=w-P,B=this.situation.loop,this.situation.loop=P):(this.absPos=this.situation.loops,this.pos=1,B=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-B)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var j=this.situation.ease(this.pos);for(var H in this.situation.once)H>this.lastPos&&H<=j&&(this.situation.once[H].call(this.target(),this.pos,j),delete this.situation.once[H]);return this.active&&this.target().fire("during",{pos:this.pos,eased:j,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=j,this):this},eachAt:function(){var p,w=this,P=this.target(),B=this.situation;for(var j in B.animations)p=[].concat(B.animations[j]).map(function(Z){return typeof Z!="string"&&Z.at?Z.at(B.ease(w.pos),w.pos):Z}),P[j].apply(P,p);for(var j in B.attrs)p=[j].concat(B.attrs[j]).map(function(te){return typeof te!="string"&&te.at?te.at(B.ease(w.pos),w.pos):te}),P.attr.apply(P,p);for(var j in B.styles)p=[j].concat(B.styles[j]).map(function(te){return typeof te!="string"&&te.at?te.at(B.ease(w.pos),w.pos):te}),P.style.apply(P,p);if(B.transforms.length){p=B.initialTransformation,j=0;for(var H=B.transforms.length;j<H;j++){var q=B.transforms[j];q instanceof s.Matrix?p=q.relative?p.multiply(new s.Matrix().morph(q).at(B.ease(this.pos))):p.morph(q).at(B.ease(this.pos)):(q.relative||q.undo(p.extract()),p=p.multiply(q.at(B.ease(this.pos))))}P.matrix(p)}return this},once:function(p,w,P){var B=this.last();return P||(p=B.ease(p)),B.once[p]=w,this},_callStart:function(){return setTimeout((function(){this.start()}).bind(this),0),this}},parent:s.Element,construct:{animate:function(p,w,P){return(this.fx||(this.fx=new s.FX(this))).animate(p,w,P)},delay:function(p){return(this.fx||(this.fx=new s.FX(this))).delay(p)},stop:function(p,w){return this.fx&&this.fx.stop(p,w),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),s.MorphObj=s.invent({create:function(p,w){return s.Color.isColor(w)?new s.Color(p).morph(w):s.regex.delimiter.test(p)?s.regex.pathLetters.test(p)?new s.PathArray(p).morph(w):new s.Array(p).morph(w):s.regex.numberAndUnit.test(w)?new s.Number(p).morph(w):(this.value=p,void(this.destination=w))},extend:{at:function(p,w){return w<1?this.value:this.destination},valueOf:function(){return this.value}}}),s.extend(s.FX,{attr:function(p,w,P){if(o(p)==="object")for(var B in p)this.attr(B,p[B]);else this.add(p,w,"attrs");return this},plot:function(p,w,P,B){return arguments.length==4?this.plot([p,w,P,B]):this.add("plot",new(this.target()).morphArray(p))}}),s.Box=s.invent({create:function(p,w,P,B){if(!(o(p)!=="object"||p instanceof s.Element))return s.Box.call(this,p.left!=null?p.left:p.x,p.top!=null?p.top:p.y,p.width,p.height);var j;arguments.length==4&&(this.x=p,this.y=w,this.width=P,this.height=B),(j=this).x==null&&(j.x=0,j.y=0,j.width=0,j.height=0),j.w=j.width,j.h=j.height,j.x2=j.x+j.width,j.y2=j.y+j.height,j.cx=j.x+j.width/2,j.cy=j.y+j.height/2}}),s.BBox=s.invent({create:function(p){if(s.Box.apply(this,[].slice.call(arguments)),p instanceof s.Element){var w;try{if(!i.documentElement.contains){for(var P=p.node;P.parentNode;)P=P.parentNode;if(P!=i)throw new Error("Element not in the dom")}w=p.node.getBBox()}catch{if(p instanceof s.Shape){s.parser.draw||s.prepare();var B=p.clone(s.parser.draw.instance).show();B&&B.node&&typeof B.node.getBBox=="function"&&(w=B.node.getBBox()),B&&typeof B.remove=="function"&&B.remove()}else w={x:p.node.clientLeft,y:p.node.clientTop,width:p.node.clientWidth,height:p.node.clientHeight}}s.Box.call(this,w)}},inherit:s.Box,parent:s.Element,construct:{bbox:function(){return new s.BBox(this)}}}),s.BBox.prototype.constructor=s.BBox,s.Matrix=s.invent({create:function(p){var w=A([1,0,0,1,0,0]);p=p===null?w:p instanceof s.Element?p.matrixify():typeof p=="string"?A(p.split(s.regex.delimiter).map(parseFloat)):arguments.length==6?A([].slice.call(arguments)):Array.isArray(p)?A(p):p&&o(p)==="object"?p:w;for(var P=I.length-1;P>=0;--P)this[I[P]]=p[I[P]]!=null?p[I[P]]:w[I[P]]},extend:{extract:function(){var p=k(this,0,1);k(this,1,0);var w=180/Math.PI*Math.atan2(p.y,p.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(w*Math.PI/180)+this.f*Math.sin(w*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(w*Math.PI/180)+this.e*Math.sin(-w*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:w,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new s.Matrix(this)}},clone:function(){return new s.Matrix(this)},morph:function(p){return this.destination=new s.Matrix(p),this},multiply:function(p){return new s.Matrix(this.native().multiply(function(w){return w instanceof s.Matrix||(w=new s.Matrix(w)),w}(p).native()))},inverse:function(){return new s.Matrix(this.native().inverse())},translate:function(p,w){return new s.Matrix(this.native().translate(p||0,w||0))},native:function(){for(var p=s.parser.native.createSVGMatrix(),w=I.length-1;w>=0;w--)p[I[w]]=this[I[w]];return p},toString:function(){return"matrix("+E(this.a)+","+E(this.b)+","+E(this.c)+","+E(this.d)+","+E(this.e)+","+E(this.f)+")"}},parent:s.Element,construct:{ctm:function(){return new s.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof s.Nested){var p=this.rect(1,1),w=p.node.getScreenCTM();return p.remove(),new s.Matrix(w)}return new s.Matrix(this.node.getScreenCTM())}}}),s.Point=s.invent({create:function(p,w){var P;P=Array.isArray(p)?{x:p[0],y:p[1]}:o(p)==="object"?{x:p.x,y:p.y}:p!=null?{x:p,y:w??p}:{x:0,y:0},this.x=P.x,this.y=P.y},extend:{clone:function(){return new s.Point(this)},morph:function(p,w){return this.destination=new s.Point(p,w),this}}}),s.extend(s.Element,{point:function(p,w){return new s.Point(p,w).transform(this.screenCTM().inverse())}}),s.extend(s.Element,{attr:function(p,w,P){if(p==null){for(p={},P=(w=this.node.attributes).length-1;P>=0;P--)p[w[P].nodeName]=s.regex.isNumber.test(w[P].nodeValue)?parseFloat(w[P].nodeValue):w[P].nodeValue;return p}if(o(p)==="object")for(var B in p)this.attr(B,p[B]);else if(w===null)this.node.removeAttribute(p);else{if(w==null)return(w=this.node.getAttribute(p))==null?s.defaults.attrs[p]:s.regex.isNumber.test(w)?parseFloat(w):w;p=="stroke-width"?this.attr("stroke",parseFloat(w)>0?this._stroke:null):p=="stroke"&&(this._stroke=w),p!="fill"&&p!="stroke"||(s.regex.isImage.test(w)&&(w=this.doc().defs().image(w,0,0)),w instanceof s.Image&&(w=this.doc().defs().pattern(0,0,function(){this.add(w)}))),typeof w=="number"?w=new s.Number(w):s.Color.isColor(w)?w=new s.Color(w):Array.isArray(w)&&(w=new s.Array(w)),p=="leading"?this.leading&&this.leading(w):typeof P=="string"?this.node.setAttributeNS(P,p,w.toString()):this.node.setAttribute(p,w.toString()),!this.rebuild||p!="font-size"&&p!="x"||this.rebuild(p,w)}return this}}),s.extend(s.Element,{transform:function(p,w){var P;return o(p)!=="object"?(P=new s.Matrix(this).extract(),typeof p=="string"?P[p]:P):(P=new s.Matrix(this),w=!!w||!!p.relative,p.a!=null&&(P=w?P.multiply(new s.Matrix(p)):new s.Matrix(p)),this.attr("transform",P))}}),s.extend(s.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(s.regex.transforms).slice(0,-1).map(function(p){var w=p.trim().split("(");return[w[0],w[1].split(s.regex.delimiter).map(function(P){return parseFloat(P)})]}).reduce(function(p,w){return w[0]=="matrix"?p.multiply(A(w[1])):p[w[0]].apply(p,w[1])},new s.Matrix)},toParent:function(p){if(this==p)return this;var w=this.screenCTM(),P=p.screenCTM().inverse();return this.addTo(p).untransform().transform(P.multiply(w)),this},toDoc:function(){return this.toParent(this.doc())}}),s.Transformation=s.invent({create:function(p,w){if(arguments.length>1&&typeof w!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(p))for(var P=0,B=this.arguments.length;P<B;++P)this[this.arguments[P]]=p[P];else if(p&&o(p)==="object")for(P=0,B=this.arguments.length;P<B;++P)this[this.arguments[P]]=p[this.arguments[P]];this.inversed=!1,w===!0&&(this.inversed=!0)}}),s.Translate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(p,w){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),s.extend(s.Element,{style:function(p,w){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(o(p)==="object")for(var P in p)this.style(P,p[P]);else{if(!s.regex.isCss.test(p))return this.node.style[b(p)];for(p=p.split(/\s*;\s*/).filter(function(B){return!!B}).map(function(B){return B.split(/\s*:\s*/)});w=p.pop();)this.style(w[0],w[1])}else this.node.style[b(p)]=w===null||s.regex.isBlank.test(w)?"":w;return this}}),s.Parent=s.invent({create:function(p){this.constructor.call(this,p)},inherit:s.Element,extend:{children:function(){return s.utils.map(s.utils.filterSVGElements(this.node.childNodes),function(p){return s.adopt(p)})},add:function(p,w){return w==null?this.node.appendChild(p.node):p.node!=this.node.childNodes[w]&&this.node.insertBefore(p.node,this.node.childNodes[w]),this},put:function(p,w){return this.add(p,w),p},has:function(p){return this.index(p)>=0},index:function(p){return[].slice.call(this.node.childNodes).indexOf(p.node)},get:function(p){return s.adopt(this.node.childNodes[p])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(p,w){for(var P=this.children(),B=0,j=P.length;B<j;B++)P[B]instanceof s.Element&&p.apply(P[B],[B,P]),w&&P[B]instanceof s.Container&&P[B].each(p,w);return this},removeElement:function(p){return this.node.removeChild(p.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),s.extend(s.Parent,{ungroup:function(p,w){return w===0||this instanceof s.Defs||this.node==s.parser.draw||(p=p||(this instanceof s.Doc?this:this.parent(s.Parent)),w=w||1/0,this.each(function(){return this instanceof s.Defs?this:this instanceof s.Parent?this.ungroup(p,w-1):this.toParent(p)}),this.node.firstChild||this.remove()),this},flatten:function(p,w){return this.ungroup(p,w)}}),s.Container=s.invent({create:function(p){this.constructor.call(this,p)},inherit:s.Parent}),s.ViewBox=s.invent({parent:s.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(p){s.Element.prototype[p]=function(w){return s.on(this.node,p,w),this}}),s.listeners=[],s.handlerMap=[],s.listenerId=0,s.on=function(p,w,P,B,j){var H=P.bind(B||p.instance||p),q=(s.handlerMap.indexOf(p)+1||s.handlerMap.push(p))-1,Z=w.split(".")[0],te=w.split(".")[1]||"*";s.listeners[q]=s.listeners[q]||{},s.listeners[q][Z]=s.listeners[q][Z]||{},s.listeners[q][Z][te]=s.listeners[q][Z][te]||{},P._svgjsListenerId||(P._svgjsListenerId=++s.listenerId),s.listeners[q][Z][te][P._svgjsListenerId]=H,p.addEventListener(Z,H,j||{passive:!0})},s.off=function(p,w,P){var B=s.handlerMap.indexOf(p),j=w&&w.split(".")[0],H=w&&w.split(".")[1],q="";if(B!=-1)if(P){if(typeof P=="function"&&(P=P._svgjsListenerId),!P)return;s.listeners[B][j]&&s.listeners[B][j][H||"*"]&&(p.removeEventListener(j,s.listeners[B][j][H||"*"][P],!1),delete s.listeners[B][j][H||"*"][P])}else if(H&&j){if(s.listeners[B][j]&&s.listeners[B][j][H]){for(var Z in s.listeners[B][j][H])s.off(p,[j,H].join("."),Z);delete s.listeners[B][j][H]}}else if(H)for(var te in s.listeners[B])for(var q in s.listeners[B][te])H===q&&s.off(p,[te,H].join("."));else if(j){if(s.listeners[B][j]){for(var q in s.listeners[B][j])s.off(p,[j,q].join("."));delete s.listeners[B][j]}}else{for(var te in s.listeners[B])s.off(p,te);delete s.listeners[B],delete s.handlerMap[B]}},s.extend(s.Element,{on:function(p,w,P,B){return s.on(this.node,p,w,P,B),this},off:function(p,w){return s.off(this.node,p,w),this},fire:function(p,w){return p instanceof L.Event?this.node.dispatchEvent(p):this.node.dispatchEvent(p=new s.CustomEvent(p,{detail:w,cancelable:!0})),this._event=p,this},event:function(){return this._event}}),s.Defs=s.invent({create:"defs",inherit:s.Container}),s.G=s.invent({create:"g",inherit:s.Container,extend:{x:function(p){return p==null?this.transform("x"):this.transform({x:p-this.x()},!0)}},construct:{group:function(){return this.put(new s.G)}}}),s.Doc=s.invent({create:function(p){p&&((p=typeof p=="string"?i.getElementById(p):p).nodeName=="svg"?this.constructor.call(this,p):(this.constructor.call(this,s.create("svg")),p.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:s.Container,extend:{namespace:function(){return this.attr({xmlns:s.ns,version:"1.1"}).attr("xmlns:xlink",s.xlink,s.xmlns).attr("xmlns:svgjs",s.svgjs,s.xmlns)},defs:function(){var p;return this._defs||((p=this.node.getElementsByTagName("defs")[0])?this._defs=s.adopt(p):this._defs=new s.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&this.node.parentNode.nodeName!="#document"?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,s.parser.draw&&!s.parser.draw.parentNode&&this.node.appendChild(s.parser.draw),this},clone:function(p){this.writeDataToDom();var w=this.node,P=F(w.cloneNode(!0));return p?(p.node||p).appendChild(P.node):w.parentNode.insertBefore(P.node,w.nextSibling),P}}}),s.extend(s.Element,{}),s.Gradient=s.invent({create:function(p){this.constructor.call(this,s.create(p+"Gradient")),this.type=p},inherit:s.Container,extend:{at:function(p,w,P){return this.put(new s.Stop).update(p,w,P)},update:function(p){return this.clear(),typeof p=="function"&&p.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(p,w,P){return p=="transform"&&(p="gradientTransform"),s.Container.prototype.attr.call(this,p,w,P)}},construct:{gradient:function(p,w){return this.defs().gradient(p,w)}}}),s.extend(s.Gradient,s.FX,{from:function(p,w){return(this._target||this).type=="radial"?this.attr({fx:new s.Number(p),fy:new s.Number(w)}):this.attr({x1:new s.Number(p),y1:new s.Number(w)})},to:function(p,w){return(this._target||this).type=="radial"?this.attr({cx:new s.Number(p),cy:new s.Number(w)}):this.attr({x2:new s.Number(p),y2:new s.Number(w)})}}),s.extend(s.Defs,{gradient:function(p,w){return this.put(new s.Gradient(p)).update(w)}}),s.Stop=s.invent({create:"stop",inherit:s.Element,extend:{update:function(p){return(typeof p=="number"||p instanceof s.Number)&&(p={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),p.opacity!=null&&this.attr("stop-opacity",p.opacity),p.color!=null&&this.attr("stop-color",p.color),p.offset!=null&&this.attr("offset",new s.Number(p.offset)),this}}}),s.Pattern=s.invent({create:"pattern",inherit:s.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(p){return this.clear(),typeof p=="function"&&p.call(this,this),this},toString:function(){return this.fill()},attr:function(p,w,P){return p=="transform"&&(p="patternTransform"),s.Container.prototype.attr.call(this,p,w,P)}},construct:{pattern:function(p,w,P){return this.defs().pattern(p,w,P)}}}),s.extend(s.Defs,{pattern:function(p,w,P){return this.put(new s.Pattern).update(P).attr({x:0,y:0,width:p,height:w,patternUnits:"userSpaceOnUse"})}}),s.Shape=s.invent({create:function(p){this.constructor.call(this,p)},inherit:s.Element}),s.Symbol=s.invent({create:"symbol",inherit:s.Container,construct:{symbol:function(){return this.put(new s.Symbol)}}}),s.Use=s.invent({create:"use",inherit:s.Shape,extend:{element:function(p,w){return this.attr("href",(w||"")+"#"+p,s.xlink)}},construct:{use:function(p,w){return this.put(new s.Use).element(p,w)}}}),s.Rect=s.invent({create:"rect",inherit:s.Shape,construct:{rect:function(p,w){return this.put(new s.Rect).size(p,w)}}}),s.Circle=s.invent({create:"circle",inherit:s.Shape,construct:{circle:function(p){return this.put(new s.Circle).rx(new s.Number(p).divide(2)).move(0,0)}}}),s.extend(s.Circle,s.FX,{rx:function(p){return this.attr("r",p)},ry:function(p){return this.rx(p)}}),s.Ellipse=s.invent({create:"ellipse",inherit:s.Shape,construct:{ellipse:function(p,w){return this.put(new s.Ellipse).size(p,w).move(0,0)}}}),s.extend(s.Ellipse,s.Rect,s.FX,{rx:function(p){return this.attr("rx",p)},ry:function(p){return this.attr("ry",p)}}),s.extend(s.Circle,s.Ellipse,{x:function(p){return p==null?this.cx()-this.rx():this.cx(p+this.rx())},y:function(p){return p==null?this.cy()-this.ry():this.cy(p+this.ry())},cx:function(p){return p==null?this.attr("cx"):this.attr("cx",p)},cy:function(p){return p==null?this.attr("cy"):this.attr("cy",p)},width:function(p){return p==null?2*this.rx():this.rx(new s.Number(p).divide(2))},height:function(p){return p==null?2*this.ry():this.ry(new s.Number(p).divide(2))},size:function(p,w){var P=_(this,p,w);return this.rx(new s.Number(P.width).divide(2)).ry(new s.Number(P.height).divide(2))}}),s.Line=s.invent({create:"line",inherit:s.Shape,extend:{array:function(){return new s.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(p,w,P,B){return p==null?this.array():(p=w!==void 0?{x1:p,y1:w,x2:P,y2:B}:new s.PointArray(p).toLine(),this.attr(p))},move:function(p,w){return this.attr(this.array().move(p,w).toLine())},size:function(p,w){var P=_(this,p,w);return this.attr(this.array().size(P.width,P.height).toLine())}},construct:{line:function(p,w,P,B){return s.Line.prototype.plot.apply(this.put(new s.Line),p!=null?[p,w,P,B]:[0,0,0,0])}}}),s.Polyline=s.invent({create:"polyline",inherit:s.Shape,construct:{polyline:function(p){return this.put(new s.Polyline).plot(p||new s.PointArray)}}}),s.Polygon=s.invent({create:"polygon",inherit:s.Shape,construct:{polygon:function(p){return this.put(new s.Polygon).plot(p||new s.PointArray)}}}),s.extend(s.Polyline,s.Polygon,{array:function(){return this._array||(this._array=new s.PointArray(this.attr("points")))},plot:function(p){return p==null?this.array():this.clear().attr("points",typeof p=="string"?p:this._array=new s.PointArray(p))},clear:function(){return delete this._array,this},move:function(p,w){return this.attr("points",this.array().move(p,w))},size:function(p,w){var P=_(this,p,w);return this.attr("points",this.array().size(P.width,P.height))}}),s.extend(s.Line,s.Polyline,s.Polygon,{morphArray:s.PointArray,x:function(p){return p==null?this.bbox().x:this.move(p,this.bbox().y)},y:function(p){return p==null?this.bbox().y:this.move(this.bbox().x,p)},width:function(p){var w=this.bbox();return p==null?w.width:this.size(p,w.height)},height:function(p){var w=this.bbox();return p==null?w.height:this.size(w.width,p)}}),s.Path=s.invent({create:"path",inherit:s.Shape,extend:{morphArray:s.PathArray,array:function(){return this._array||(this._array=new s.PathArray(this.attr("d")))},plot:function(p){return p==null?this.array():this.clear().attr("d",typeof p=="string"?p:this._array=new s.PathArray(p))},clear:function(){return delete this._array,this}},construct:{path:function(p){return this.put(new s.Path).plot(p||new s.PathArray)}}}),s.Image=s.invent({create:"image",inherit:s.Shape,extend:{load:function(p){if(!p)return this;var w=this,P=new L.Image;return s.on(P,"load",function(){s.off(P);var B=w.parent(s.Pattern);B!==null&&(w.width()==0&&w.height()==0&&w.size(P.width,P.height),B&&B.width()==0&&B.height()==0&&B.size(w.width(),w.height()),typeof w._loaded=="function"&&w._loaded.call(w,{width:P.width,height:P.height,ratio:P.width/P.height,url:p}))}),s.on(P,"error",function(B){s.off(P),typeof w._error=="function"&&w._error.call(w,B)}),this.attr("href",P.src=this.src=p,s.xlink)},loaded:function(p){return this._loaded=p,this},error:function(p){return this._error=p,this}},construct:{image:function(p,w,P){return this.put(new s.Image).load(p).size(w||0,P||w||0)}}}),s.Text=s.invent({create:function(){this.constructor.call(this,s.create("text")),this.dom.leading=new s.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",s.defaults.attrs["font-family"])},inherit:s.Shape,extend:{x:function(p){return p==null?this.attr("x"):this.attr("x",p)},text:function(p){if(p===void 0){p="";for(var w=this.node.childNodes,P=0,B=w.length;P<B;++P)P!=0&&w[P].nodeType!=3&&s.adopt(w[P]).dom.newLined==1&&(p+=`
`),p+=w[P].textContent;return p}if(this.clear().build(!0),typeof p=="function")p.call(this,this);else{P=0;for(var j=(p=p.split(`
`)).length;P<j;P++)this.tspan(p[P]).newLine()}return this.build(!1).rebuild()},size:function(p){return this.attr("font-size",p).rebuild()},leading:function(p){return p==null?this.dom.leading:(this.dom.leading=new s.Number(p),this.rebuild())},lines:function(){var p=(this.textPath&&this.textPath()||this).node,w=s.utils.map(s.utils.filterSVGElements(p.childNodes),function(P){return s.adopt(P)});return new s.Set(w)},rebuild:function(p){if(typeof p=="boolean"&&(this._rebuild=p),this._rebuild){var w=this,P=0,B=this.dom.leading*new s.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(w.textPath()||this.attr("x",w.attr("x")),this.text()==`
`?P+=B:(this.attr("dy",B+P),P=0))}),this.fire("rebuild")}return this},build:function(p){return this._build=!!p,this},setData:function(p){return this.dom=p,this.dom.leading=new s.Number(p.leading||1.3),this}},construct:{text:function(p){return this.put(new s.Text).text(p)},plain:function(p){return this.put(new s.Text).plain(p)}}}),s.Tspan=s.invent({create:"tspan",inherit:s.Shape,extend:{text:function(p){return p==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof p=="function"?p.call(this,this):this.plain(p),this)},dx:function(p){return this.attr("dx",p)},dy:function(p){return this.attr("dy",p)},newLine:function(){var p=this.parent(s.Text);return this.dom.newLined=!0,this.dy(p.dom.leading*p.attr("font-size")).attr("x",p.x())}}}),s.extend(s.Text,s.Tspan,{plain:function(p){return this._build===!1&&this.clear(),this.node.appendChild(i.createTextNode(p)),this},tspan:function(p){var w=(this.textPath&&this.textPath()||this).node,P=new s.Tspan;return this._build===!1&&this.clear(),w.appendChild(P.node),P.text(p)},clear:function(){for(var p=(this.textPath&&this.textPath()||this).node;p.hasChildNodes();)p.removeChild(p.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),s.TextPath=s.invent({create:"textPath",inherit:s.Parent,parent:s.Text,construct:{morphArray:s.PathArray,array:function(){var p=this.track();return p?p.array():null},plot:function(p){var w=this.track(),P=null;return w&&(P=w.plot(p)),p==null?P:this},track:function(){var p=this.textPath();if(p)return p.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return s.adopt(this.node.firstChild)}}}),s.Nested=s.invent({create:function(){this.constructor.call(this,s.create("svg")),this.style("overflow","visible")},inherit:s.Container,construct:{nested:function(){return this.put(new s.Nested)}}});var d={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(p,w){return w=="color"?p:p+"-"+w}};function g(p,w,P,B){return P+B.replace(s.regex.dots," .")}function b(p){return p.toLowerCase().replace(/-(.)/g,function(w,P){return P.toUpperCase()})}function x(p){return p.charAt(0).toUpperCase()+p.slice(1)}function v(p){var w=p.toString(16);return w.length==1?"0"+w:w}function _(p,w,P){if(w==null||P==null){var B=p.bbox();w==null?w=B.width/B.height*P:P==null&&(P=B.height/B.width*w)}return{width:w,height:P}}function k(p,w,P){return{x:w*p.a+P*p.c+0,y:w*p.b+P*p.d+0}}function A(p){return{a:p[0],b:p[1],c:p[2],d:p[3],e:p[4],f:p[5]}}function F(p){for(var w=p.childNodes.length-1;w>=0;w--)p.childNodes[w]instanceof L.SVGElement&&F(p.childNodes[w]);return s.adopt(p).id(s.eid(p.nodeName))}function E(p){return Math.abs(p)>1e-37?p:0}["fill","stroke"].forEach(function(p){var w={};w[p]=function(P){if(P===void 0)return this;if(typeof P=="string"||s.Color.isRgb(P)||P&&typeof P.fill=="function")this.attr(p,P);else for(var B=d[p].length-1;B>=0;B--)P[d[p][B]]!=null&&this.attr(d.prefix(p,d[p][B]),P[d[p][B]]);return this},s.extend(s.Element,s.FX,w)}),s.extend(s.Element,s.FX,{translate:function(p,w){return this.transform({x:p,y:w})},matrix:function(p){return this.attr("transform",new s.Matrix(arguments.length==6?[].slice.call(arguments):p))},opacity:function(p){return this.attr("opacity",p)},dx:function(p){return this.x(new s.Number(p).plus(this instanceof s.FX?0:this.x()),!0)},dy:function(p){return this.y(new s.Number(p).plus(this instanceof s.FX?0:this.y()),!0)}}),s.extend(s.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(p){return this.node.getPointAtLength(p)}}),s.Set=s.invent({create:function(p){Array.isArray(p)?this.members=p:this.clear()},extend:{add:function(){for(var p=[].slice.call(arguments),w=0,P=p.length;w<P;w++)this.members.push(p[w]);return this},remove:function(p){var w=this.index(p);return w>-1&&this.members.splice(w,1),this},each:function(p){for(var w=0,P=this.members.length;w<P;w++)p.apply(this.members[w],[w,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(p){return this.index(p)>=0},index:function(p){return this.members.indexOf(p)},get:function(p){return this.members[p]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(p){return new s.Set(p)}}}),s.FX.Set=s.invent({create:function(p){this.set=p}}),s.Set.inherit=function(){var p=[];for(var w in s.Shape.prototype)typeof s.Shape.prototype[w]=="function"&&typeof s.Set.prototype[w]!="function"&&p.push(w);for(var w in p.forEach(function(B){s.Set.prototype[B]=function(){for(var j=0,H=this.members.length;j<H;j++)this.members[j]&&typeof this.members[j][B]=="function"&&this.members[j][B].apply(this.members[j],arguments);return B=="animate"?this.fx||(this.fx=new s.FX.Set(this)):this}}),p=[],s.FX.prototype)typeof s.FX.prototype[w]=="function"&&typeof s.FX.Set.prototype[w]!="function"&&p.push(w);p.forEach(function(P){s.FX.Set.prototype[P]=function(){for(var B=0,j=this.set.members.length;B<j;B++)this.set.members[B].fx[P].apply(this.set.members[B].fx,arguments);return this}})},s.extend(s.Element,{}),s.extend(s.Element,{remember:function(p,w){if(o(arguments[0])==="object")for(var P in p)this.remember(P,p[P]);else{if(arguments.length==1)return this.memory()[p];this.memory()[p]=w}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var p=arguments.length-1;p>=0;p--)delete this.memory()[arguments[p]];return this},memory:function(){return this._memory||(this._memory={})}}),s.get=function(p){var w=i.getElementById(function(P){var B=(P||"").toString().match(s.regex.reference);if(B)return B[1]}(p)||p);return s.adopt(w)},s.select=function(p,w){return new s.Set(s.utils.map((w||i).querySelectorAll(p),function(P){return s.adopt(P)}))},s.extend(s.Parent,{select:function(p){return s.select(p,this.node)}});var I="abcdef".split("");if(typeof L.CustomEvent!="function"){var Y=function(p,w){w=w||{bubbles:!1,cancelable:!1,detail:void 0};var P=i.createEvent("CustomEvent");return P.initCustomEvent(p,w.bubbles,w.cancelable,w.detail),P};Y.prototype=L.Event.prototype,s.CustomEvent=Y}else s.CustomEvent=L.CustomEvent;return s},o(e)==="object"?n.exports=Mt.document?Wt(Mt,Mt.document):function(L){return Wt(L,L.document)}:Mt.SVG=Wt(Mt,Mt.document),(function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(c,d){return this.add(c,d),!c.attr("in")&&this.autoSetIn&&c.attr("in",this.source),c.attr("result")||c.attr("result",c),c},blend:function(c,d,g){return this.put(new SVG.BlendEffect(c,d,g))},colorMatrix:function(c,d){return this.put(new SVG.ColorMatrixEffect(c,d))},convolveMatrix:function(c){return this.put(new SVG.ConvolveMatrixEffect(c))},componentTransfer:function(c){return this.put(new SVG.ComponentTransferEffect(c))},composite:function(c,d,g){return this.put(new SVG.CompositeEffect(c,d,g))},flood:function(c,d){return this.put(new SVG.FloodEffect(c,d))},offset:function(c,d){return this.put(new SVG.OffsetEffect(c,d))},image:function(c){return this.put(new SVG.ImageEffect(c))},merge:function(){var c=[void 0];for(var d in arguments)c.push(arguments[d]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,c)))},gaussianBlur:function(c,d){return this.put(new SVG.GaussianBlurEffect(c,d))},morphology:function(c,d){return this.put(new SVG.MorphologyEffect(c,d))},diffuseLighting:function(c,d,g){return this.put(new SVG.DiffuseLightingEffect(c,d,g))},displacementMap:function(c,d,g,b,x){return this.put(new SVG.DisplacementMapEffect(c,d,g,b,x))},specularLighting:function(c,d,g,b){return this.put(new SVG.SpecularLightingEffect(c,d,g,b))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(c,d,g,b,x){return this.put(new SVG.TurbulenceEffect(c,d,g,b,x))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(c){var d=this.put(new SVG.Filter);return typeof c=="function"&&c.call(d,d),d}}),SVG.extend(SVG.Container,{filter:function(c){return this.defs().filter(c)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(c){return this.filterer=c instanceof SVG.Element?c:this.doc().filter(c),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(c){return this.filterer&&c===!0&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(c){return c==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",c)},result:function(c){return c==null?this.attr("result"):this.attr("result",c)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(c){return c==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",c)},result:function(c){return c==null?this.attr("result"):this.attr("result",c)},toString:function(){return this.result()}}});var L={blend:function(c,d){return this.parent()&&this.parent().blend(this,c,d)},colorMatrix:function(c,d){return this.parent()&&this.parent().colorMatrix(c,d).in(this)},convolveMatrix:function(c){return this.parent()&&this.parent().convolveMatrix(c).in(this)},componentTransfer:function(c){return this.parent()&&this.parent().componentTransfer(c).in(this)},composite:function(c,d){return this.parent()&&this.parent().composite(this,c,d)},flood:function(c,d){return this.parent()&&this.parent().flood(c,d)},offset:function(c,d){return this.parent()&&this.parent().offset(c,d).in(this)},image:function(c){return this.parent()&&this.parent().image(c)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(c,d){return this.parent()&&this.parent().gaussianBlur(c,d).in(this)},morphology:function(c,d){return this.parent()&&this.parent().morphology(c,d).in(this)},diffuseLighting:function(c,d,g){return this.parent()&&this.parent().diffuseLighting(c,d,g).in(this)},displacementMap:function(c,d,g,b){return this.parent()&&this.parent().displacementMap(this,c,d,g,b)},specularLighting:function(c,d,g,b){return this.parent()&&this.parent().specularLighting(c,d,g,b).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(c,d,g,b,x){return this.parent()&&this.parent().turbulence(c,d,g,b,x).in(this)}};SVG.extend(SVG.Effect,L),SVG.extend(SVG.ParentEffect,L),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(c){this.attr("in",c)}}});var i={blend:function(c,d,g){this.attr({in:c,in2:d,mode:g||"normal"})},colorMatrix:function(c,d){c=="matrix"&&(d=l(d)),this.attr({type:c,values:d===void 0?null:d})},convolveMatrix:function(c){c=l(c),this.attr({order:Math.sqrt(c.split(" ").length),kernelMatrix:c})},composite:function(c,d,g){this.attr({in:c,in2:d,operator:g})},flood:function(c,d){this.attr("flood-color",c),d!=null&&this.attr("flood-opacity",d)},offset:function(c,d){this.attr({dx:c,dy:d})},image:function(c){this.attr("href",c,SVG.xlink)},displacementMap:function(c,d,g,b,x){this.attr({in:c,in2:d,scale:g,xChannelSelector:b,yChannelSelector:x})},gaussianBlur:function(c,d){c!=null||d!=null?this.attr("stdDeviation",function(g){if(!Array.isArray(g))return g;for(var b=0,x=g.length,v=[];b<x;b++)v.push(g[b]);return v.join(" ")}(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(c,d){this.attr({operator:c,radius:d})},tile:function(){},turbulence:function(c,d,g,b,x){this.attr({numOctaves:d,seed:g,stitchTiles:b,baseFrequency:c,type:x})}},s={merge:function(){var c;if(arguments[0]instanceof SVG.Set){var d=this;arguments[0].each(function(b){this instanceof SVG.MergeNode?d.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&d.put(new SVG.MergeNode(this))})}else{c=Array.isArray(arguments[0])?arguments[0]:arguments;for(var g=0;g<c.length;g++)c[g]instanceof SVG.MergeNode?this.put(c[g]):this.put(new SVG.MergeNode(c[g]))}},componentTransfer:function(c){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach((function(g){this[g]=new SVG["Func"+g.toUpperCase()]("identity"),this.rgb.add(this[g]),this.node.appendChild(this[g].node)}).bind(this)),c)for(var d in c.rgb&&(["r","g","b"].forEach((function(g){this[g].attr(c.rgb)}).bind(this)),delete c.rgb),c)this[d].attr(c[d])},diffuseLighting:function(c,d,g){this.attr({surfaceScale:c,diffuseConstant:d,kernelUnitLength:g})},specularLighting:function(c,d,g,b){this.attr({surfaceScale:c,diffuseConstant:d,specularExponent:g,kernelUnitLength:b})}},a={distantLight:function(c,d){this.attr({azimuth:c,elevation:d})},pointLight:function(c,d,g){this.attr({x:c,y:d,z:g})},spotLight:function(c,d,g,b,x,v){this.attr({x:c,y:d,z:g,pointsAtX:b,pointsAtY:x,pointsAtZ:v})},mergeNode:function(c){this.attr("in",c)}};function l(c){return Array.isArray(c)&&(c=new SVG.Array(c)),c.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function h(){var c=function(){};for(var d in typeof arguments[arguments.length-1]=="function"&&(c=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var g in arguments[d])c(arguments[d][g],g,arguments[d])}["r","g","b","a"].forEach(function(c){a["Func"+c.toUpperCase()]=function(d){switch(this.attr("type",d),d){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),h(i,function(c,d){var g=d.charAt(0).toUpperCase()+d.slice(1);SVG[g+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+g)),c.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),h(s,function(c,d){var g=d.charAt(0).toUpperCase()+d.slice(1);SVG[g+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+g)),c.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),h(a,function(c,d){var g=d.charAt(0).toUpperCase()+d.slice(1);SVG[g]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+g)),c.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(c){return c instanceof SVG.MergeNode?this.add(c,0):this.add(new SVG.MergeNode(c),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(c){return c==null?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",c)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}).call(void 0),function(){function L(h,c,d,g,b,x,v){for(var _=h.slice(c,d||v),k=g.slice(b,x||v),A=0,F={pos:[0,0],start:[0,0]},E={pos:[0,0],start:[0,0]};_[A]=i.call(F,_[A]),k[A]=i.call(E,k[A]),_[A][0]!=k[A][0]||_[A][0]=="M"||_[A][0]=="A"&&(_[A][4]!=k[A][4]||_[A][5]!=k[A][5])?(Array.prototype.splice.apply(_,[A,1].concat(a.call(F,_[A]))),Array.prototype.splice.apply(k,[A,1].concat(a.call(E,k[A])))):(_[A]=s.call(F,_[A]),k[A]=s.call(E,k[A])),!(++A==_.length&&A==k.length);)A==_.length&&_.push(["C",F.pos[0],F.pos[1],F.pos[0],F.pos[1],F.pos[0],F.pos[1]]),A==k.length&&k.push(["C",E.pos[0],E.pos[1],E.pos[0],E.pos[1],E.pos[0],E.pos[1]]);return{start:_,dest:k}}function i(h){switch(h[0]){case"z":case"Z":h[0]="L",h[1]=this.start[0],h[2]=this.start[1];break;case"H":h[0]="L",h[2]=this.pos[1];break;case"V":h[0]="L",h[2]=h[1],h[1]=this.pos[0];break;case"T":h[0]="Q",h[3]=h[1],h[4]=h[2],h[1]=this.reflection[1],h[2]=this.reflection[0];break;case"S":h[0]="C",h[6]=h[4],h[5]=h[3],h[4]=h[2],h[3]=h[1],h[2]=this.reflection[1],h[1]=this.reflection[0]}return h}function s(h){var c=h.length;return this.pos=[h[c-2],h[c-1]],"SCQT".indexOf(h[0])!=-1&&(this.reflection=[2*this.pos[0]-h[c-4],2*this.pos[1]-h[c-3]]),h}function a(h){var c=[h];switch(h[0]){case"M":return this.pos=this.start=[h[1],h[2]],c;case"L":h[5]=h[3]=h[1],h[6]=h[4]=h[2],h[1]=this.pos[0],h[2]=this.pos[1];break;case"Q":h[6]=h[4],h[5]=h[3],h[4]=1*h[4]/3+2*h[2]/3,h[3]=1*h[3]/3+2*h[1]/3,h[2]=1*this.pos[1]/3+2*h[2]/3,h[1]=1*this.pos[0]/3+2*h[1]/3;break;case"A":c=function(d,g){var b,x,v,_,k,A,F,E,I,Y,p,w,P,B,j,H,q,Z,te,ne,ie,de,ge,Fe,Oe,Xe,st=Math.abs(g[1]),Ke=Math.abs(g[2]),nt=g[3]%360,Jt=g[4],$i=g[5],ja=g[6],za=g[7],Et=new SVG.Point(d),Dt=new SVG.Point(ja,za),so=[];if(st===0||Ke===0||Et.x===Dt.x&&Et.y===Dt.y)return[["C",Et.x,Et.y,Dt.x,Dt.y,Dt.x,Dt.y]];for(b=new SVG.Point((Et.x-Dt.x)/2,(Et.y-Dt.y)/2).transform(new SVG.Matrix().rotate(nt)),(x=b.x*b.x/(st*st)+b.y*b.y/(Ke*Ke))>1&&(st*=x=Math.sqrt(x),Ke*=x),v=new SVG.Matrix().rotate(nt).scale(1/st,1/Ke).rotate(-nt),Et=Et.transform(v),Dt=Dt.transform(v),_=[Dt.x-Et.x,Dt.y-Et.y],A=_[0]*_[0]+_[1]*_[1],k=Math.sqrt(A),_[0]/=k,_[1]/=k,F=A<4?Math.sqrt(1-A/4):0,Jt===$i&&(F*=-1),E=new SVG.Point((Dt.x+Et.x)/2+F*-_[1],(Dt.y+Et.y)/2+F*_[0]),I=new SVG.Point(Et.x-E.x,Et.y-E.y),Y=new SVG.Point(Dt.x-E.x,Dt.y-E.y),p=Math.acos(I.x/Math.sqrt(I.x*I.x+I.y*I.y)),I.y<0&&(p*=-1),w=Math.acos(Y.x/Math.sqrt(Y.x*Y.x+Y.y*Y.y)),Y.y<0&&(w*=-1),$i&&p>w&&(w+=2*Math.PI),!$i&&p<w&&(w-=2*Math.PI),B=Math.ceil(2*Math.abs(p-w)/Math.PI),H=[],q=p,P=(w-p)/B,j=4*Math.tan(P/4)/3,ie=0;ie<=B;ie++)te=Math.cos(q),Z=Math.sin(q),ne=new SVG.Point(E.x+te,E.y+Z),H[ie]=[new SVG.Point(ne.x+j*Z,ne.y-j*te),ne,new SVG.Point(ne.x-j*Z,ne.y+j*te)],q+=P;for(H[0][0]=H[0][1].clone(),H[H.length-1][2]=H[H.length-1][1].clone(),v=new SVG.Matrix().rotate(nt).scale(st,Ke).rotate(-nt),ie=0,de=H.length;ie<de;ie++)H[ie][0]=H[ie][0].transform(v),H[ie][1]=H[ie][1].transform(v),H[ie][2]=H[ie][2].transform(v);for(ie=1,de=H.length;ie<de;ie++)ge=(ne=H[ie-1][2]).x,Fe=ne.y,Oe=(ne=H[ie][0]).x,Xe=ne.y,ja=(ne=H[ie][1]).x,za=ne.y,so.push(["C",ge,Fe,Oe,Xe,ja,za]);return so}(this.pos,h),h=c[0]}return h[0]="C",this.pos=[h[5],h[6]],this.reflection=[2*h[5]-h[3],2*h[6]-h[4]],c}function l(h,c){if(c===!1)return!1;for(var d=c,g=h.length;d<g;++d)if(h[d][0]=="M")return d;return!1}SVG.extend(SVG.PathArray,{morph:function(h){for(var c=this.value,d=this.parse(h),g=0,b=0,x=!1,v=!1;g!==!1||b!==!1;){var _;x=l(c,g!==!1&&g+1),v=l(d,b!==!1&&b+1),g===!1&&(g=(_=new SVG.PathArray(k.start).bbox()).height==0||_.width==0?c.push(c[0])-1:c.push(["M",_.x+_.width/2,_.y+_.height/2])-1),b===!1&&(b=(_=new SVG.PathArray(k.dest).bbox()).height==0||_.width==0?d.push(d[0])-1:d.push(["M",_.x+_.width/2,_.y+_.height/2])-1);var k=L(c,g,x,d,b,v);c=c.slice(0,g).concat(k.start,x===!1?[]:c.slice(x)),d=d.slice(0,b).concat(k.dest,v===!1?[]:d.slice(v)),g=x!==!1&&g+k.start.length,b=v!==!1&&b+k.dest.length}return this.value=c,this.destination=new SVG.PathArray,this.destination.value=d,this}})}(),(function(){function L(i){i.remember("_draggable",this),this.el=i}L.prototype.init=function(i,s){var a=this;this.constraint=i,this.value=s,this.el.on("mousedown.drag",function(l){a.start(l)}),this.el.on("touchstart.drag",function(l){a.start(l)})},L.prototype.transformPoint=function(i,s){var a=(i=i||window.event).changedTouches&&i.changedTouches[0]||i;return this.p.x=a.clientX-(s||0),this.p.y=a.clientY,this.p.matrixTransform(this.m)},L.prototype.getBBox=function(){var i=this.el.bbox();return this.el instanceof SVG.Nested&&(i=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(i.x=this.el.x(),i.y=this.el.y()),i},L.prototype.start=function(i){if(i.type!="click"&&i.type!="mousedown"&&i.type!="mousemove"||(i.which||i.buttons)==1){var s=this;if(this.el.fire("beforedrag",{event:i,handler:this}),!this.el.event().defaultPrevented){i.preventDefault(),i.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var a,l=this.getBBox();if(this.el instanceof SVG.Text)switch(a=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":a/=2;break;case"start":a=0}this.startPoints={point:this.transformPoint(i,a),box:l,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(h){s.drag(h)}),SVG.on(window,"touchmove.drag",function(h){s.drag(h)}),SVG.on(window,"mouseup.drag",function(h){s.end(h)}),SVG.on(window,"touchend.drag",function(h){s.end(h)}),this.el.fire("dragstart",{event:i,p:this.startPoints.point,m:this.m,handler:this})}}},L.prototype.drag=function(i){var s=this.getBBox(),a=this.transformPoint(i),l=this.startPoints.box.x+a.x-this.startPoints.point.x,h=this.startPoints.box.y+a.y-this.startPoints.point.y,c=this.constraint,d=a.x-this.startPoints.point.x,g=a.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:i,p:a,m:this.m,handler:this}),this.el.event().defaultPrevented)return a;if(typeof c=="function"){var b=c.call(this.el,l,h,this.m);typeof b=="boolean"&&(b={x:b,y:b}),b.x===!0?this.el.x(l):b.x!==!1&&this.el.x(b.x),b.y===!0?this.el.y(h):b.y!==!1&&this.el.y(b.y)}else typeof c=="object"&&(c.minX!=null&&l<c.minX?d=(l=c.minX)-this.startPoints.box.x:c.maxX!=null&&l>c.maxX-s.width&&(d=(l=c.maxX-s.width)-this.startPoints.box.x),c.minY!=null&&h<c.minY?g=(h=c.minY)-this.startPoints.box.y:c.maxY!=null&&h>c.maxY-s.height&&(g=(h=c.maxY-s.height)-this.startPoints.box.y),c.snapToGrid!=null&&(l-=l%c.snapToGrid,h-=h%c.snapToGrid,d-=d%c.snapToGrid,g-=g%c.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:d,y:g},!0):this.el.move(l,h));return a},L.prototype.end=function(i){var s=this.drag(i);this.el.fire("dragend",{event:i,p:s,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(i,s){typeof i!="function"&&typeof i!="object"||(s=i,i=!0);var a=this.remember("_draggable")||new L(this);return(i=i===void 0||i)?a.init(s||{},i):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}).call(void 0),function(){function L(i){this.el=i,i.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(s,a,l){var h=typeof s!="string"?s:a[s];return l?h/2:h},this.pointCoords=function(s,a){var l=this.pointsList[s];return{x:this.pointCoord(l[0],a,s==="t"||s==="b"),y:this.pointCoord(l[1],a,s==="r"||s==="l")}}}L.prototype.init=function(i,s){var a=this.el.bbox();this.options={};var l=this.el.selectize.defaults.points;for(var h in this.el.selectize.defaults)this.options[h]=this.el.selectize.defaults[h],s[h]!==void 0&&(this.options[h]=s[h]);var c=["points","pointsExclude"];for(var h in c){var d=this.options[c[h]];typeof d=="string"?d=d.length>0?d.split(/\s*,\s*/i):[]:typeof d=="boolean"&&c[h]==="points"&&(d=d?l:[]),this.options[c[h]]=d}this.options.points=[l,this.options.points].reduce(function(g,b){return g.filter(function(x){return b.indexOf(x)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(g,b){return g.filter(function(x){return b.indexOf(x)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(a.x,a.y)),this.options.deepSelect&&["line","polyline","polygon"].indexOf(this.el.type)!==-1?this.selectPoints(i):this.selectRect(i),this.observe(),this.cleanup()},L.prototype.selectPoints=function(i){return this.pointSelection.isSelected=i,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},L.prototype.getPointArray=function(){var i=this.el.bbox();return this.el.array().valueOf().map(function(s){return[s[0]-i.x,s[1]-i.y]})},L.prototype.drawPoints=function(){for(var i=this,s=this.getPointArray(),a=0,l=s.length;a<l;++a){var h=function(d){return function(g){(g=g||window.event).preventDefault?g.preventDefault():g.returnValue=!1,g.stopPropagation();var b=g.pageX||g.touches[0].pageX,x=g.pageY||g.touches[0].pageY;i.el.fire("point",{x:b,y:x,i:d,event:g})}}(a),c=this.drawPoint(s[a][0],s[a][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",h).on("mousedown",h);this.pointSelection.set.add(c)}},L.prototype.drawPoint=function(i,s){var a=this.options.pointType;switch(a){case"circle":return this.drawCircle(i,s);case"rect":return this.drawRect(i,s);default:if(typeof a=="function")return a.call(this,i,s);throw new Error("Unknown "+a+" point type!")}},L.prototype.drawCircle=function(i,s){return this.nested.circle(this.options.pointSize).center(i,s)},L.prototype.drawRect=function(i,s){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(i,s)},L.prototype.updatePointSelection=function(){var i=this.getPointArray();this.pointSelection.set.each(function(s){this.cx()===i[s][0]&&this.cy()===i[s][1]||this.center(i[s][0],i[s][1])})},L.prototype.updateRectSelection=function(){var i=this,s=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:s.width,height:s.height}),this.options.points.length&&this.options.points.map(function(l,h){var c=i.pointCoords(l,s);i.rectSelection.set.get(h+1).center(c.x,c.y)}),this.options.rotationPoint){var a=this.rectSelection.set.length();this.rectSelection.set.get(a-1).center(s.width/2,20)}},L.prototype.selectRect=function(i){var s=this,a=this.el.bbox();function l(d){return function(g){(g=g||window.event).preventDefault?g.preventDefault():g.returnValue=!1,g.stopPropagation();var b=g.pageX||g.touches[0].pageX,x=g.pageY||g.touches[0].pageY;s.el.fire(d,{x:b,y:x,event:g})}}if(this.rectSelection.isSelected=i,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(a.width,a.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(d,g){var b=s.pointCoords(d,a),x=s.drawPoint(b.x,b.y).attr("class",s.options.classPoints+"_"+d).on("mousedown",l(d)).on("touchstart",l(d));s.rectSelection.set.add(x)}),this.rectSelection.set.each(function(){this.addClass(s.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var h=function(d){(d=d||window.event).preventDefault?d.preventDefault():d.returnValue=!1,d.stopPropagation();var g=d.pageX||d.touches[0].pageX,b=d.pageY||d.touches[0].pageY;s.el.fire("rot",{x:g,y:b,event:d})},c=this.drawPoint(a.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",h).on("mousedown",h);this.rectSelection.set.add(c)}},L.prototype.handler=function(){var i=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(i.x,i.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},L.prototype.observe=function(){var i=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){i.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){i.handler()})},L.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(i,s){return typeof i=="object"&&(s=i,i=!0),(this.remember("_selectHandler")||new L(this)).init(i===void 0||i,s||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function L(i){i.remember("_resizeHandler",this),this.el=i,this.parameters={},this.lastUpdateCall=null,this.p=i.doc().node.createSVGPoint()}L.prototype.transformPoint=function(i,s,a){return this.p.x=i-(this.offset.x-window.pageXOffset),this.p.y=s-(this.offset.y-window.pageYOffset),this.p.matrixTransform(a||this.m)},L.prototype._extractPosition=function(i){return{x:i.clientX!=null?i.clientX:i.touches[0].clientX,y:i.clientY!=null?i.clientY:i.touches[0].clientY}},L.prototype.init=function(i){var s=this;if(this.stop(),i!=="stop"){for(var a in this.options={},this.el.resize.defaults)this.options[a]=this.el.resize.defaults[a],i[a]!==void 0&&(this.options[a]=i[a]);this.el.on("lt.resize",function(l){s.resize(l||window.event)}),this.el.on("rt.resize",function(l){s.resize(l||window.event)}),this.el.on("rb.resize",function(l){s.resize(l||window.event)}),this.el.on("lb.resize",function(l){s.resize(l||window.event)}),this.el.on("t.resize",function(l){s.resize(l||window.event)}),this.el.on("r.resize",function(l){s.resize(l||window.event)}),this.el.on("b.resize",function(l){s.resize(l||window.event)}),this.el.on("l.resize",function(l){s.resize(l||window.event)}),this.el.on("rot.resize",function(l){s.resize(l||window.event)}),this.el.on("point.resize",function(l){s.resize(l||window.event)}),this.update()}},L.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},L.prototype.resize=function(i){var s=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var a=this._extractPosition(i.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(a.x,a.y),x:i.detail.x,y:i.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},this.el.type==="text"&&(this.parameters.fontSize=this.el.attr()["font-size"]),i.detail.i!==void 0){var l=this.el.array().valueOf();this.parameters.i=i.detail.i,this.parameters.pointCoords=[l[i.detail.i][0],l[i.detail.i][1]]}switch(i.type){case"lt":this.calc=function(h,c){var d=this.snapToGrid(h,c);if(this.parameters.box.width-d[0]>0&&this.parameters.box.height-d[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+d[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-d[0]);d=this.checkAspectRatio(d),this.el.move(this.parameters.box.x+d[0],this.parameters.box.y+d[1]).size(this.parameters.box.width-d[0],this.parameters.box.height-d[1])}};break;case"rt":this.calc=function(h,c){var d=this.snapToGrid(h,c,2);if(this.parameters.box.width+d[0]>0&&this.parameters.box.height-d[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-d[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+d[0]);d=this.checkAspectRatio(d,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+d[1]).size(this.parameters.box.width+d[0],this.parameters.box.height-d[1])}};break;case"rb":this.calc=function(h,c){var d=this.snapToGrid(h,c,0);if(this.parameters.box.width+d[0]>0&&this.parameters.box.height+d[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-d[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+d[0]);d=this.checkAspectRatio(d),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+d[0],this.parameters.box.height+d[1])}};break;case"lb":this.calc=function(h,c){var d=this.snapToGrid(h,c,1);if(this.parameters.box.width-d[0]>0&&this.parameters.box.height+d[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+d[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-d[0]);d=this.checkAspectRatio(d,!0),this.el.move(this.parameters.box.x+d[0],this.parameters.box.y).size(this.parameters.box.width-d[0],this.parameters.box.height+d[1])}};break;case"t":this.calc=function(h,c){var d=this.snapToGrid(h,c,2);if(this.parameters.box.height-d[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y+d[1]).height(this.parameters.box.height-d[1])}};break;case"r":this.calc=function(h,c){var d=this.snapToGrid(h,c,0);if(this.parameters.box.width+d[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+d[0])}};break;case"b":this.calc=function(h,c){var d=this.snapToGrid(h,c,0);if(this.parameters.box.height+d[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+d[1])}};break;case"l":this.calc=function(h,c){var d=this.snapToGrid(h,c,1);if(this.parameters.box.width-d[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x+d[0],this.parameters.box.y).width(this.parameters.box.width-d[0])}};break;case"rot":this.calc=function(h,c){var d=h+this.parameters.p.x,g=c+this.parameters.p.y,b=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),x=Math.atan2(g-this.parameters.box.y-this.parameters.box.height/2,d-this.parameters.box.x-this.parameters.box.width/2),v=this.parameters.rotation+180*(x-b)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(v-v%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(h,c){var d=this.snapToGrid(h,c,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),g=this.el.array().valueOf();g[this.parameters.i][0]=this.parameters.pointCoords[0]+d[0],g[this.parameters.i][1]=this.parameters.pointCoords[1]+d[1],this.el.plot(g)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:i}),SVG.on(window,"touchmove.resize",function(h){s.update(h||window.event)}),SVG.on(window,"touchend.resize",function(){s.done()}),SVG.on(window,"mousemove.resize",function(h){s.update(h||window.event)}),SVG.on(window,"mouseup.resize",function(){s.done()})},L.prototype.update=function(i){if(i){var s=this._extractPosition(i),a=this.transformPoint(s.x,s.y),l=a.x-this.parameters.p.x,h=a.y-this.parameters.p.y;this.lastUpdateCall=[l,h],this.calc(l,h),this.el.fire("resizing",{dx:l,dy:h,event:i})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},L.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},L.prototype.snapToGrid=function(i,s,a,l){var h;return l!==void 0?h=[(a+i)%this.options.snapToGrid,(l+s)%this.options.snapToGrid]:(a=a??3,h=[(this.parameters.box.x+i+(1&a?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+s+(2&a?0:this.parameters.box.height))%this.options.snapToGrid]),i<0&&(h[0]-=this.options.snapToGrid),s<0&&(h[1]-=this.options.snapToGrid),i-=Math.abs(h[0])<this.options.snapToGrid/2?h[0]:h[0]-(i<0?-this.options.snapToGrid:this.options.snapToGrid),s-=Math.abs(h[1])<this.options.snapToGrid/2?h[1]:h[1]-(s<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(i,s,a,l)},L.prototype.constraintToBox=function(i,s,a,l){var h,c,d=this.options.constraint||{};return l!==void 0?(h=a,c=l):(h=this.parameters.box.x+(1&a?0:this.parameters.box.width),c=this.parameters.box.y+(2&a?0:this.parameters.box.height)),d.minX!==void 0&&h+i<d.minX&&(i=d.minX-h),d.maxX!==void 0&&h+i>d.maxX&&(i=d.maxX-h),d.minY!==void 0&&c+s<d.minY&&(s=d.minY-c),d.maxY!==void 0&&c+s>d.maxY&&(s=d.maxY-c),[i,s]},L.prototype.checkAspectRatio=function(i,s){if(!this.options.saveAspectRatio)return i;var a=i.slice(),l=this.parameters.box.width/this.parameters.box.height,h=this.parameters.box.width+i[0],c=this.parameters.box.height-i[1],d=h/c;return d<l?(a[1]=h/l-this.parameters.box.height,s&&(a[1]=-a[1])):d>l&&(a[0]=this.parameters.box.width-c*l,s&&(a[0]=-a[0])),a},SVG.extend(SVG.Element,{resize:function(i){return(this.remember("_resizeHandler")||new L(this)).init(i||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),window.Apex===void 0&&(window.Apex={});var to=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w}return m(L,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new U(this.ctx),this.ctx.axes=new fs(this.ctx),this.ctx.core=new wh(this.ctx.el,this.ctx),this.ctx.config=new De({}),this.ctx.data=new Gi(this.ctx),this.ctx.grid=new Ui(this.ctx),this.ctx.graphics=new V(this.ctx),this.ctx.coreUtils=new se(this.ctx),this.ctx.crosshairs=new Ii(this.ctx),this.ctx.events=new Zt(this.ctx),this.ctx.exports=new xi(this.ctx),this.ctx.localization=new wi(this.ctx),this.ctx.options=new Pe,this.ctx.responsive=new wr(this.ctx),this.ctx.series=new Ee(this.ctx),this.ctx.theme=new gs(this.ctx),this.ctx.formatters=new Ae(this.ctx),this.ctx.titleSubtitle=new _r(this.ctx),this.ctx.legend=new Dr(this.ctx),this.ctx.toolbar=new kr(this.ctx),this.ctx.tooltip=new Fr(this.ctx),this.ctx.dimensions=new Ri(this.ctx),this.ctx.updateHelpers=new _h(this.ctx),this.ctx.zoomPanSelection=new Ia(this.ctx),this.ctx.w.globals.tooltip=new Fr(this.ctx)}}]),L}(),io=function(){function L(i){u(this,L),this.ctx=i,this.w=i.w}return m(L,[{key:"clear",value:function(i){var s=i.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:s})}},{key:"killSVG",value:function(i){i.each(function(s,a){this.removeClass("*"),this.off(),this.stop()},!0),i.ungroup(),i.clear()}},{key:"clearDomElements",value:function(i){var s=this,a=i.isUpdating,l=this.w.globals.dom.Paper.node;l.parentNode&&l.parentNode.parentNode&&!a&&(l.parentNode.parentNode.style.minHeight="unset");var h=this.w.globals.dom.baseEl;h&&this.ctx.eventList.forEach(function(d){h.removeEventListener(d,s.ctx.events.documentEvent)});var c=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(c.Paper),c.Paper.remove(),c.elWrap=null,c.elGraphical=null,c.elLegendWrap=null,c.elLegendForeign=null,c.baseEl=null,c.elGridRect=null,c.elGridRectMask=null,c.elGridRectMarkerMask=null,c.elForecastMask=null,c.elNonForecastMask=null,c.elDefs=null}}]),L}(),Ya=new WeakMap,Dh=function(){function L(i,s){u(this,L),this.opts=s,this.ctx=this,this.w=new Tt(s).init(),this.el=i,this.w.globals.cuid=R.randomId(),this.w.globals.chartID=this.w.config.chart.id?R.escapeString(this.w.config.chart.id):this.w.globals.cuid,new to(this).initModules(),this.create=R.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return m(L,[{key:"render",value:function(){var i=this;return new Promise(function(s,a){if(i.el!==null){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),i.w.config.chart.id&&Apex._chartInstances.push({id:i.w.globals.chartID,group:i.w.config.chart.group,chart:i}),i.setLocale(i.w.config.chart.defaultLocale);var l=i.w.config.chart.events.beforeMount;if(typeof l=="function"&&l(i,i.w),i.events.fireEvent("beforeMount",[i,i.w]),window.addEventListener("resize",i.windowResizeHandler),function(x,v){var _=!1;if(x.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var k=x.getBoundingClientRect();x.style.display!=="none"&&k.width!==0||(_=!0)}var A=new ResizeObserver(function(F){_&&v.call(x,F),_=!0});x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(x.children).forEach(function(F){return A.observe(F)}):A.observe(x),Ya.set(v,A)}(i.el.parentNode,i.parentResizeHandler),!i.css){var h=i.el.getRootNode&&i.el.getRootNode(),c=R.is("ShadowRoot",h),d=i.el.ownerDocument,g=d.getElementById("apexcharts-css");!c&&g||(i.css=document.createElement("style"),i.css.id="apexcharts-css",i.css.textContent=`@keyframes opaque {
  0% {
      opacity: 0
  }

  to {
      opacity: 1
  }
}

@keyframes resizeanim {
  0%,to {
      opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0,0,0,.5);
  box-shadow: 0 0 1px rgba(255,255,255,.5);
  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

.legend-mouseover-inactive {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255,255,255,.96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30,30,30,.8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0,0,0,.7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-series-group-hidden {
  opacity: 0;
  height: 0;
  line-height: 0;
  padding: 0!important
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_boundingRect,.svg_select_points_rot {
  pointer-events: none;
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {
  cursor: ew-resize;
  opacity: 1;
  visibility: visible
}

.svg_select_points {
  fill: #efefef;
  stroke: #333;
  rx: 2
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0,0,0,.7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
      opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {
  opacity: 0
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}
.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {
  pointer-events: none
}

.apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,.resize-triggers,.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers{
  pointer-events: none
}

.apexcharts-bar-shadows{
  pointer-events: none
}

.apexcharts-rangebar-goals-markers{
  pointer-events: none
}`,c?h.prepend(i.css):d.head.appendChild(i.css))}var b=i.create(i.w.config.series,{});if(!b)return s(i);i.mount(b).then(function(){typeof i.w.config.chart.events.mounted=="function"&&i.w.config.chart.events.mounted(i,i.w),i.events.fireEvent("mounted",[i,i.w]),s(b)}).catch(function(x){a(x)})}else a(new Error("Element not found"))})}},{key:"create",value:function(i,s){var a=this.w;new to(this).initModules();var l=this.w.globals;if(l.noData=!1,l.animationEnded=!1,this.responsive.checkResponsiveConfig(s),a.config.xaxis.convertedCatToNumeric&&new $e(a.config).convertCatToNumericXaxis(a.config,this.ctx),this.el===null||(this.core.setupElements(),a.config.chart.type==="treemap"&&(a.config.grid.show=!1,a.config.yaxis[0].show=!1),l.svgWidth===0))return l.animationEnded=!0,null;var h=se.checkComboSeries(i);l.comboCharts=h.comboCharts,l.comboBarCount=h.comboBarCount;var c=i.every(function(x){return x.data&&x.data.length===0});(i.length===0||c)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(i),this.theme.init(),new We(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),l.noData&&l.collapsedSeries.length!==l.series.length&&!a.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),l.axisCharts&&(this.core.coreCalculations(),a.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=a.globals.minX,this.ctx.toolbar.maxX=a.globals.maxX),this.formatters.heatmapLabelFormatters(),new se(this).getLargestMarkerSize(),this.dimensions.plotCoords();var d=this.core.xySettings();this.grid.createGridMask();var g=this.core.plotChartType(i,d),b=new At(this);return b.bringForward(),a.config.dataLabels.background.enabled&&b.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:g,xyRatios:d,dimensions:{plot:{left:a.globals.translateX,top:a.globals.translateY,width:a.globals.gridWidth,height:a.globals.gridHeight}}}}},{key:"mount",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,a=this,l=a.w;return new Promise(function(h,c){if(a.el===null)return c(new Error("Not enough data to display or target element not found"));(s===null||l.globals.allSeriesCollapsed)&&a.series.handleNoData(),a.grid=new Ui(a);var d,g,b=a.grid.drawGrid();if(a.annotations=new ye(a),a.annotations.drawImageAnnos(),a.annotations.drawTextAnnos(),l.config.grid.position==="back"&&(b&&l.globals.dom.elGraphical.add(b.el),b!=null&&(d=b.elGridBorders)!==null&&d!==void 0&&d.node&&l.globals.dom.elGraphical.add(b.elGridBorders)),Array.isArray(s.elGraph))for(var x=0;x<s.elGraph.length;x++)l.globals.dom.elGraphical.add(s.elGraph[x]);else l.globals.dom.elGraphical.add(s.elGraph);l.config.grid.position==="front"&&(b&&l.globals.dom.elGraphical.add(b.el),b!=null&&(g=b.elGridBorders)!==null&&g!==void 0&&g.node&&l.globals.dom.elGraphical.add(b.elGridBorders)),l.config.xaxis.crosshairs.position==="front"&&a.crosshairs.drawXCrosshairs(),l.config.yaxis[0].crosshairs.position==="front"&&a.crosshairs.drawYCrosshairs(),l.config.chart.type!=="treemap"&&a.axes.drawAxis(l.config.chart.type,b);var v=new zt(i.ctx,b),_=new yi(i.ctx,b);if(b!==null&&(v.xAxisLabelCorrections(b.xAxisTickWidth),_.setYAxisTextAlignments(),l.config.yaxis.map(function(A,F){l.globals.ignoreYAxisIndexes.indexOf(F)===-1&&_.yAxisTitleRotate(F,A.opposite)})),a.annotations.drawAxesAnnotations(),!l.globals.noData){if(l.config.tooltip.enabled&&!l.globals.noData&&a.w.globals.tooltip.drawTooltip(s.xyRatios),l.globals.axisCharts&&(l.globals.isXNumeric||l.config.xaxis.convertedCatToNumeric||l.globals.isRangeBar))(l.config.chart.zoom.enabled||l.config.chart.selection&&l.config.chart.selection.enabled||l.config.chart.pan&&l.config.chart.pan.enabled)&&a.zoomPanSelection.init({xyRatios:s.xyRatios});else{var k=l.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(A){k[A]=!1})}l.config.chart.toolbar.show&&!l.globals.allSeriesCollapsed&&a.toolbar.createToolbar()}l.globals.memory.methodsToExec.length>0&&l.globals.memory.methodsToExec.forEach(function(A){A.method(A.params,!1,A.context)}),l.globals.axisCharts||l.globals.noData||a.core.resizeNonAxisCharts(),h(a)})}},{key:"destroy",value:function(){var i,s;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,i=this.parentResizeHandler,(s=Ya.get(i))&&(s.disconnect(),Ya.delete(i));var a=this.w.config.chart.id;a&&Apex._chartInstances.forEach(function(l,h){l.id===R.escapeString(a)&&Apex._chartInstances.splice(h,1)}),new io(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0&&arguments[1],l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],c=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],d=this.w;return d.globals.selection=void 0,i.series&&(this.series.resetSeries(!1,!0,!1),i.series.length&&i.series[0].data&&(i.series=i.series.map(function(g,b){return s.updateHelpers._extendSeries(g,b)})),this.updateHelpers.revertDefaultAxisMinMax()),i.xaxis&&(i=this.updateHelpers.forceXAxisUpdate(i)),i.yaxis&&(i=this.updateHelpers.forceYAxisUpdate(i)),d.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),i.theme&&(i=this.theme.updateThemeOptions(i)),this.updateHelpers._updateOptions(i,a,l,h,c)}},{key:"updateSeries",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(i,s,a)}},{key:"appendSeries",value:function(i){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],l=this.w.config.series.slice();return l.push(i),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(l,s,a)}},{key:"appendData",value:function(i){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],a=this;a.w.globals.dataChanged=!0,a.series.getPreviousPaths();for(var l=a.w.config.series.slice(),h=0;h<l.length;h++)if(i[h]!==null&&i[h]!==void 0)for(var c=0;c<i[h].data.length;c++)l[h].data.push(i[h].data[c]);return a.w.config.series=l,s&&(a.w.globals.initialSeries=R.clone(a.w.config.series)),this.update()}},{key:"update",value:function(i){var s=this;return new Promise(function(a,l){new io(s.ctx).clear({isUpdating:!0});var h=s.create(s.w.config.series,i);if(!h)return a(s);s.mount(h).then(function(){typeof s.w.config.chart.events.updated=="function"&&s.w.config.chart.events.updated(s,s.w),s.events.fireEvent("updated",[s,s.w]),s.w.globals.isDirty=!0,a(s)}).catch(function(c){l(c)})})}},{key:"getSyncedCharts",value:function(){var i=this.getGroupedCharts(),s=[this];return i.length&&(s=[],i.forEach(function(a){s.push(a)})),s}},{key:"getGroupedCharts",value:function(){var i=this;return Apex._chartInstances.filter(function(s){if(s.group)return!0}).map(function(s){return i.w.config.chart.group===s.group?s.chart:i})}},{key:"toggleSeries",value:function(i){return this.series.toggleSeries(i)}},{key:"highlightSeriesOnLegendHover",value:function(i,s){return this.series.toggleSeriesOnHover(i,s)}},{key:"showSeries",value:function(i){this.series.showSeries(i)}},{key:"hideSeries",value:function(i){this.series.hideSeries(i)}},{key:"isSeriesHidden",value:function(i){this.series.isSeriesHidden(i)}},{key:"resetSeries",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(i,s)}},{key:"addEventListener",value:function(i,s){this.events.addEventListener(i,s)}},{key:"removeEventListener",value:function(i,s){this.events.removeEventListener(i,s)}},{key:"addXaxisAnnotation",value:function(i){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,l=this;a&&(l=a),l.annotations.addXaxisAnnotationExternal(i,s,l)}},{key:"addYaxisAnnotation",value:function(i){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,l=this;a&&(l=a),l.annotations.addYaxisAnnotationExternal(i,s,l)}},{key:"addPointAnnotation",value:function(i){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,l=this;a&&(l=a),l.annotations.addPointAnnotationExternal(i,s,l)}},{key:"clearAnnotations",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,s=this;i&&(s=i),s.annotations.clearAnnotations(s)}},{key:"removeAnnotation",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,a=this;s&&(a=s),a.annotations.removeAnnotation(a,i)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(i,s){return this.coreUtils.getSeriesTotalsXRange(i,s)}},{key:"getHighestValueInSeries",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new qi(this.ctx).getMinYMaxY(i).highestY}},{key:"getLowestValueInSeries",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new qi(this.ctx).getMinYMaxY(i).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(i,s){return this.updateHelpers.toggleDataPointSelection(i,s)}},{key:"zoomX",value:function(i,s){this.ctx.toolbar.zoomUpdateOptions(i,s)}},{key:"setLocale",value:function(i){this.localization.setCurrentLocaleValues(i)}},{key:"dataURI",value:function(i){return new xi(this.ctx).dataURI(i)}},{key:"exportToCSV",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new xi(this.ctx).exportToCSV(i)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var i=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){i.w.globals.resized=!0,i.w.globals.dataChanged=!1,i.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var i=this.w.config.chart.redrawOnWindowResize;typeof i=="function"&&(i=i()),i&&this._windowResize()}}],[{key:"getChartByID",value:function(i){var s=R.escapeString(i);if(Apex._chartInstances){var a=Apex._chartInstances.filter(function(l){return l.id===s})[0];return a&&a.chart}}},{key:"initOnLoad",value:function(){for(var i=document.querySelectorAll("[data-apexcharts]"),s=0;s<i.length;s++)new L(i[s],JSON.parse(i[s].getAttribute("data-options"))).render()}},{key:"exec",value:function(i,s){var a=this.getChartByID(i);if(a){a.w.globals.isExecCalled=!0;var l=null;if(a.publicMethods.indexOf(s)!==-1){for(var h=arguments.length,c=new Array(h>2?h-2:0),d=2;d<h;d++)c[d-2]=arguments[d];l=a[s].apply(a,c)}return l}}},{key:"merge",value:function(i,s){return R.extend(i,s)}}]),L}();n.exports=Dh})(cn,cn.exports);var Mg=cn.exports,Aa;Object.defineProperty(jl,"__esModule",{value:!0});var Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Og=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t,r=arguments[e];for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},Lg=function(){function n(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),Bg=Mg,zl=Zn(Bg),Xl=ui,Ws=Zn(Xl),Ig=Sh,Di=Zn(Ig);function Zn(n){return n&&n.__esModule?n:{default:n}}function Rg(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Yg(n,e){var t,r={};for(t in n)0<=e.indexOf(t)||Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t]);return r}function jg(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zg(n,e){if(n)return!e||typeof e!="object"&&typeof e!="function"?n:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function Xg(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}window.ApexCharts=zl.default;var xo=function(){function n(e){jg(this,n);var t=zg(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return Ws.default.createRef?t.chartRef=Ws.default.createRef():t.setRef=function(r){return t.chartRef=r},t.chart=null,t}return Xg(n,Xl.Component),Lg(n,[{key:"render",value:function(){var e=Yg(this.props,[]);return Ws.default.createElement("div",Og({ref:Ws.default.createRef?this.chartRef:this.setRef},e))}},{key:"componentDidMount",value:function(){var e=Ws.default.createRef?this.chartRef.current:this.chartRef;this.chart=new zl.default(e,this.getConfig()),this.chart.render()}},{key:"getConfig",value:function(){var u=this.props,e=u.type,t=u.height,r=u.width,o=u.series,u=u.options;return this.extend(u,{chart:{type:e,height:t,width:r},series:o})}},{key:"isObject",value:function(e){return e&&(e===void 0?"undefined":Eg(e))==="object"&&!Array.isArray(e)&&e!=null}},{key:"extend",value:function(e,t){var r=this,o=(typeof Object.assign!="function"&&(Object.assign=function(u){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(u),m=1;m<arguments.length;m++){var y=arguments[m];if(y!=null)for(var D in y)y.hasOwnProperty(D)&&(f[D]=y[D])}return f}),Object.assign({},e));return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(u){r.isObject(t[u])&&u in e?o[u]=r.extend(e[u],t[u]):Object.assign(o,Rg({},u,t[u]))}),o}},{key:"componentDidUpdate",value:function(e){if(!this.chart)return null;var o=this.props,m=o.options,t=o.series,r=o.height,o=o.width,u=JSON.stringify(e.options),f=JSON.stringify(e.series),m=JSON.stringify(m),y=JSON.stringify(t);u===m&&f===y&&r===e.height&&o===e.width||(f!==y&&u===m&&r===e.height&&o===e.width?this.chart.updateSeries(t):this.chart.updateOptions(this.getConfig()))}},{key:"componentWillUnmount",value:function(){this.chart&&typeof this.chart.destroy=="function"&&this.chart.destroy()}}]),n}();(Aa=jl.default=xo).propTypes={type:Di.default.string.isRequired,width:Di.default.oneOfType([Di.default.string,Di.default.number]),height:Di.default.oneOfType([Di.default.string,Di.default.number]),series:Di.default.array.isRequired,options:Di.default.object.isRequired},xo.defaultProps={type:"line",width:"100%",height:"auto"};function Hl({hourlyData:n}){let e,t;const{datasets:r,labels:o}=n;if((r==null?void 0:r.length)>1)return e=[{name:r[0].label,data:r[0].data},{name:r[1].label,data:r[1].data}],t={chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},legend:{position:"right",offsetX:0,offsetY:50},xaxis:{categories:o,title:{text:"Time of the day"}},yaxis:{title:{text:"Messages"}},fill:{opacity:1},tooltip:{y:{formatter(u){return`${u}`}}}},Re.jsx("div",{id:"barChart",children:Re.jsx(Aa,{options:t,series:e,type:"bar",height:350})})}Hl.propTypes={hourlyData:Js.object.isRequired};function Yt(n,e,t,r){function o(u){return u instanceof t?u:new t(function(f){f(u)})}return new(t||(t=Promise))(function(u,f){function m(T){try{D(r.next(T))}catch(C){f(C)}}function y(T){try{D(r.throw(T))}catch(C){f(C)}}function D(T){T.done?u(T.value):o(T.value).then(m,y)}D((r=r.apply(n,e||[])).next())})}class Be{constructor(e){Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=e}get value(){return this._value/100}get percent(){return this._value}toString(){return""+this._value+"%"}interpolate(e,t){return e+this.value*(t-e)}static normalize(e,t,r){return e instanceof Be?e:t===r?new Be(0):new Be(Math.min(Math.max((e-t)*(1/(r-t)),0),1)*100)}}function Ht(n){return new Be(n)}Ht(0);const fe=Ht(100),Ie=Ht(50);function pi(n){return Number(n)!==n}function Hg(n){return{}.toString.call(n)}function Bt(n){if(n!=null&&!J(n)){let e=Number(n);return pi(e)&&Ss(n)&&n!=""?Bt(n.replace(/[^0-9.\-]+/g,"")):e}return n}function Ng(n){if(dn(n))return new Date(n);if(J(n))return new Date(n);{let e=Number(n);return J(e)?new Date(e):new Date(n)}}function Wg(n){if(pi(n))return"NaN";if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(n===0&&1/n===-1/0)return"-0";let e=n<0;n=Math.abs(n);let t=/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+n),r=t[1],o=t[2]||"",u;if(t[3]===void 0)u=o===""?r:r+"."+o;else{let f=+t[3];if(n<1){let m=f-1;u="0."+vo("0",m)+r+o}else{let m=f-o.length;m===0?u=r+o:m<0?u=r+o.slice(0,m)+"."+o.slice(m):u=r+o+vo("0",m)}}return e?"-"+u:u}function vo(n,e){return new Array(e+1).join(n)}function dn(n){return Hg(n)==="[object Date]"}function Ss(n){return typeof n=="string"}function J(n){return typeof n=="number"&&Number(n)==n}function yr(n){return typeof n=="object"&&n!==null}function Vg(n){return Array.isArray(n)}const Vi="____",ws="____";function sr(n,e){const t=n.length;for(let r=0;r<t;++r)if(n[r]===e)return r;return-1}function Gg(n,e){const t=n.length;for(let r=0;r<t;++r)if(e(n[r]))return!0;return!1}function fn(n,e){const t=n.length,r=new Array(t);for(let o=0;o<t;++o)r[o]=e(n[o],o);return r}function K(n,e){const t=n.length;for(let r=0;r<t;++r)e(n[r],r)}function $s(n,e){let t=n.length;for(;t>0;)--t,e(n[t],t)}function Nl(n,e){const t=n.length;for(let r=0;r<t&&e(n[r],r);++r);}function Gt(n,e){let t=!1,r=0;for(;;){if(r=n.indexOf(e,r),r===-1)return t;t=!0,n.splice(r,1)}}function Ft(n,e){let t=n.indexOf(e);return t!==-1?(n.splice(t,1),!0):!1}function yo(n,e,t){let r=sr(n,e);r!==-1&&pn(n,r),t==null?n.push(e):Nr(n,t,e)}function rr(n,e){n.indexOf(e)===-1&&n.push(e)}function gn(n){const e=n.length,t=new Array(e);for(let r=0;r<e;++r)t[r]=n[r];return t}function Nr(n,e,t){n.splice(e,0,t)}function pn(n,e){n.splice(e,1)}function Wl(n,e){const t=n.length;for(let r=0;r<t;++r)if(e(n[r],r))return r;return-1}function Ug(n,e){let t=n.length;for(;t>0;)if(--t,e(n[t],t))return t;return-1}function Vl(n,e){const t=Wl(n,e);if(t!==-1)return n[t]}function qg(n,e){const t=Ug(n,e);if(t!==-1)return n[t]}function mn(n,e){let t=0,r=n.length,o=!1;for(;t<r;){const u=t+r>>1,f=e(n[u]);f<0?t=u+1:f===0?(o=!0,t=u+1):r=u}return{found:o,index:o?t-1:t}}function Gl(n,e){let t=0,r=n.length,o=!1;for(;t<r;){const u=t+r>>1,f=e(n[u]);f<0?t=u+1:(f===0&&(o=!0),r=u)}return{found:o,index:t}}function Sa(n,e){let t=n.length;for(;t>0;)--t,e(n[t])||n.splice(t,1)}function ut(n){return Object.keys(n)}function Zg(n,e){return ut(n).sort(e)}function is(n){return Object.assign({},n)}function Ue(n,e){ut(n).forEach(t=>{e(t,n[t])})}function $g(n,e){for(let t in n)if(Kg(n,t)&&!e(t,n[t]))break}function Kg(n,e){return{}.hasOwnProperty.call(n,e)}class $n{constructor(){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class ft{constructor(e){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dispose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1,this._dispose=e}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class Jg extends $n{constructor(){super(...arguments),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_dispose(){K(this._disposers,e=>{e.dispose()})}}class Rt extends $n{constructor(e){super(),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposers=e}_dispose(){K(this._disposers,e=>{e.dispose()})}get disposers(){return this._disposers}}class Ul extends ft{constructor(){super(...arguments),Object.defineProperty(this,"_counter",{enumerable:!0,configurable:!0,writable:!0,value:0})}increment(){return++this._counter,new ft(()=>{--this._counter,this._counter===0&&this.dispose()})}}function Qg(n){n.parentNode&&n.parentNode.removeChild(n)}function rt(n,e,t,r){return n.addEventListener(e,t,r||!1),new ft(()=>{n.removeEventListener(e,t,r||!1)})}function ql(n){return rt(window,"resize",e=>{n()})}function Ti(n){switch(n){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function Za(n){return n.pointerId||0}function ep(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{let n=document.createElement("button");n.style.position="fixed",n.style.top="0px",n.style.left="-10000px",document.body.appendChild(n),n.focus(),n.blur(),document.body.removeChild(n)}}function tp(n){n&&n.focus()}function bn(n){if(Ti("pointerevents"))return n;if(Ti("touchevents"))switch(n){case"pointerover":return"touchstart";case"pointerout":return"touchend";case"pointerleave":return"touchend";case"pointerdown":return"touchstart";case"pointermove":return"touchmove";case"pointerup":return"touchend";case"click":return"click";case"dblclick":return"dblclick"}else if(Ti("mouseevents"))switch(n){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerleave":return"mouseleave";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return n}function xn(n){if(typeof Touch<"u"&&n instanceof Touch)return!0;if(typeof PointerEvent<"u"&&n instanceof PointerEvent&&n.pointerType!=null)switch(n.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(n instanceof MouseEvent)}else if(n.type!=null&&n.type.match(/^mouse/))return!1;return!0}function Or(n,e,t){n.style[e]=t}function ip(n,e){return n.style[e]}function Zl(n){if(n.composedPath){const e=n.composedPath();return e.length===0?null:e[0]}else return n.target}function sp(n,e){let t=e;for(;;){if(n===t)return!0;if(t.parentNode===null){if(t.host==null)return!1;t=t.host}else t=t.parentNode}}function Kn(n,e){return n.target&&sp(e.root.dom,n.target)}function xs(n,e){e?n.style.pointerEvents="auto":n.style.pointerEvents="none"}function rp(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document}function ap(){return rp()?1:void 0}function xt(n,e){return J(n)?n:n!=null&&J(n.value)&&J(e)?e*n.value:0}function np(n){let e=(""+n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function ot(n,e=0,t="0"){return typeof n!="string"&&(n=n.toString()),e>n.length?Array(e-n.length+1).join(t)+n:n}function op(n){return n.replace(/^[\s]*/,"")}function lp(n){return n.replace(/[\s]*$/,"")}function Cs(n){return op(lp(n))}function hp(n,e,t=!1,r="..."){if(n.length>e){let o=e-1;for(;o>=0&&n.charAt(o).match(/\w/);)o--;return o>=0&&t==!1?n.substring(0,o+1)+"...":n.substring(0,e)+r}else return n}function up(n){if(typeof n>"u")return"string";n=n.toLowerCase().replace(/^\[[^\]]*\]/,""),n=n.replace(/\[[^\]]+\]/,""),n=n.trim();let e=n.match(/\/(date|number|duration)$/);return e?e[1]:n==="number"?"number":n==="date"?"date":n==="duration"?"duration":n.match(/[#0]/)?"number":n.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}function Jn(n){return n.replace(/\/(date|number|duration)$/i,"")}function wo(n){return n&&n.replace(/<[^>]*>/g,"")}function _o(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function Do(n,e=!1){const t=new Date(n.getFullYear(),0,0),r=n.getTime()-t.getTime()+(t.getTimezoneOffset()-n.getTimezoneOffset())*60*1e3,o=1e3*60*60*24;return Math.floor(r/o)}function Kr(n,e=!1){const t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())),r=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-r);const o=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t.getTime()-o.getTime())/864e5+1)/7)}function cp(n,e=!1){const t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())),r=t.getUTCDay()||7;return t.setUTCDate(t.getUTCDate()+4-r),new Date(Date.UTC(t.getUTCFullYear(),0,1)).getFullYear()}function dp(n,e=!1){const t=Kr(new Date(n.getFullYear(),n.getMonth(),1),e);let r=Kr(n,e);return r==1&&(r=53),r-t+1}function fp(n,e,t=1,r=!1){let o=new Date(e,0,4,0,0,0,0);return r&&o.setUTCFullYear(e),n*7+t-((o.getDay()||7)+3)}function Lr(n,e){return n>12?n-=12:n===0&&(n=12),e!=null?n+(e-1):n}function Br(n,e=!1,t=!1,r=!1,o){if(r)return e?"Coordinated Universal Time":"UTC";if(o){const m=n.toLocaleString("en-US",{timeZone:o}),y=n.toLocaleString("en-US",{timeZone:o,timeZoneName:e?"long":"short"});return Cs(y.substr(m.length))}let u=n.toLocaleString("UTC"),f=n.toLocaleString("UTC",{timeZoneName:e?"long":"short"}).substr(u.length);return t===!1&&(f=f.replace(/ (standard|daylight|summer|winter) /i," ")),Cs(f)}function gp(n){const e=new Date(Date.UTC(2012,0,1,0,0,0,0)),t=new Date(e.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(e.toLocaleString("en-US",{timeZone:n})).getTime()-t.getTime())/6e4*-1}function ko(n){return n.charAt(0).toUpperCase()+n.slice(1)}function $l(n){let e,t,r,o=n.h,u=n.s,f=n.l;if(u==0)e=t=r=f;else{let m=function(C,M,S){return S<0&&(S+=1),S>1&&(S-=1),S<.16666666666666666?C+(M-C)*6*S:S<.5?M:S<.6666666666666666?C+(M-C)*(.6666666666666666-S)*6:C},y=f<.5?f*(1+u):f+u-f*u,D=2*f-y;e=m(D,y,o+1/3),t=m(D,y,o),r=m(D,y,o-1/3)}return{r:Math.round(e*255),g:Math.round(t*255),b:Math.round(r*255)}}function Kl(n){let e=n.r/255,t=n.g/255,r=n.b/255,o=Math.max(e,t,r),u=Math.min(e,t,r),f=0,m=0,y=(o+u)/2;if(o===u)f=m=0;else{let D=o-u;switch(m=y>.5?D/(2-o-u):D/(o+u),o){case e:f=(t-r)/D+(t<r?6:0);break;case t:f=(r-e)/D+2;break;case r:f=(e-t)/D+4;break}f/=6}return{h:f,s:m,l:y}}function pp(n,e){return n&&{r:Math.max(0,Math.min(255,n.r+Wr(n.r,e))),g:Math.max(0,Math.min(255,n.g+Wr(n.g,e))),b:Math.max(0,Math.min(255,n.b+Wr(n.b,e))),a:n.a}}function Wr(n,e){let t=e>0?255-n:n;return Math.round(t*e)}function mp(n,e){if(n){let t=Math.min(Math.max(n.r,n.g,n.b),230),r=Wr(t,e);return{r:Math.max(0,Math.min(255,Math.round(n.r+r))),g:Math.max(0,Math.min(255,Math.round(n.g+r))),b:Math.max(0,Math.min(255,Math.round(n.b+r))),a:n.a}}else return n}function Co(n){return(n.r*299+n.g*587+n.b*114)/1e3>=128}function bp(n,e){if(n===void 0||e==1)return n;let t=Kl(n);return t.s=e,$l(t)}function xp(n,e={r:255,g:255,b:255},t={r:255,g:255,b:255}){let r=e,o=t;return Co(t)&&(r=t,o=e),Co(n)?o:r}function tt(n,e){return n||(n=[]),[...n,...e].filter((t,r,o)=>o.indexOf(t)===r)}function Jl(n,e){return!(!e||n.left!=e.left||n.right!=e.right||n.top!=e.top||n.bottom!=e.bottom)}function Ql(n){return n[0]==="#"&&(n=n.substr(1)),n.length==3&&(n=n[0].repeat(2)+n[1].repeat(2)+n[2].repeat(2)),parseInt(n,16)}function vp(n){n=n.replace(/[ ]/g,"");let e=n.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(e)e.push("1");else if(e=n.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!e)return 0;let t="";for(let r=1;r<=3;r++){let o=parseInt(e[r]).toString(16);o.length==1&&(o="0"+o),t+=o}return Ql(t)}function vs(n){return ve.fromAny(n)}class ve{constructor(e){Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=e|0}get hex(){return this._hex}get r(){return this._hex>>>16}get g(){return this._hex>>8&255}get b(){return this._hex&255}toCSS(e=1){return"rgba("+this.r+", "+this.g+", "+this.b+", "+e+")"}toCSSHex(){return"#"+ot(this.r.toString(16),2)+ot(this.g.toString(16),2)+ot(this.b.toString(16),2)}toHSL(e=1){return Kl({r:this.r,g:this.g,b:this.b,a:e})}static fromHSL(e,t,r){const o=$l({h:e,s:t,l:r});return this.fromRGB(o.r,o.g,o.b)}toString(){return this.toCSSHex()}static fromHex(e){return new ve(e)}static fromRGB(e,t,r){return new ve((r|0)+(t<<8)+(e<<16))}static fromString(e){return new ve(Ql(e))}static fromCSS(e){return new ve(vp(e))}static fromAny(e){if(Ss(e)){if(e[0]=="#")return ve.fromString(e);if(e.substr(0,3)=="rgb")return ve.fromCSS(e)}else{if(J(e))return ve.fromHex(e);if(e instanceof ve)return ve.fromHex(e.hex)}throw new Error("Unknown color syntax: "+e)}static alternative(e,t,r){const o=xp({r:e.r,g:e.g,b:e.b},t?{r:t.r,g:t.g,b:t.b}:void 0,r?{r:r.r,g:r.g,b:r.b}:void 0);return this.fromRGB(o.r,o.g,o.b)}static interpolate(e,t,r,o="rgb"){if(o=="hsl"){const u=t.toHSL(),f=r.toHSL();return ve.fromHSL(zi(e,u.h,f.h),zi(e,u.s,f.s),zi(e,u.l,f.l))}else return ve.fromRGB(zi(e,t.r,r.r),zi(e,t.g,r.g),zi(e,t.b,r.b))}static lighten(e,t){const r=pp({r:e.r,g:e.g,b:e.b},t);return ve.fromRGB(r.r,r.g,r.b)}static brighten(e,t){const r=mp({r:e.r,g:e.g,b:e.b},t);return ve.fromRGB(r.r,r.g,r.b)}static saturate(e,t){const r=bp({r:e.r,g:e.g,b:e.b},t);return ve.fromRGB(r.r,r.g,r.b)}}class Rs{constructor(){Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_killed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_iterating",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}isDisposed(){return this._disposed}dispose(){if(!this._disposed){this._disposed=!0;const e=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{K(e,t=>{t.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}}hasListeners(){return this._listeners.length!==0}hasListenersByType(e){return Gg(this._listeners,t=>(t.type===null||t.type===e)&&!t.killed)}enable(){this._enabled=!0}disable(){this._enabled=!1}enableType(e){delete this._disabled[e]}disableType(e,t=1/0){this._disabled[e]=t}_removeListener(e){if(this._iterating===0){const t=this._listeners.indexOf(e);if(t===-1)throw new Error("Invalid state: could not remove listener");this._listeners.splice(t,1)}else this._killed.push(e)}_removeExistingListener(e,t,r,o){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(u=>{u.once===e&&u.type===t&&(r===void 0||u.callback===r)&&u.context===o&&u.disposer.dispose()})}isEnabled(e){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(e)&&this._disabled[e]===void 0}removeType(e){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(t=>{t.type===e&&t.disposer.dispose()})}has(e,t,r){return Wl(this._listeners,u=>u.once!==!0&&u.type===e&&(t===void 0||u.callback===t)&&u.context===r)!==-1}_shouldDispatch(e){if(this._disposed)throw new Error("EventDispatcher is disposed");const t=this._disabled[e];return J(t)?(t<=1?delete this._disabled[e]:--this._disabled[e],!1):this._enabled}_eachListener(e){++this._iterating;try{K(this._listeners,e)}finally{--this._iterating,this._iterating===0&&this._killed.length!==0&&(K(this._killed,t=>{this._removeListener(t)}),this._killed.length=0)}}dispatch(e,t){this._shouldDispatch(e)&&this._eachListener(r=>{!r.killed&&(r.type===null||r.type===e)&&r.dispatch(e,t)})}_on(e,t,r,o,u,f){if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(e,t,r,o);const m={type:t,callback:r,context:o,shouldClone:u,dispatch:f,killed:!1,once:e,disposer:new ft(()=>{m.killed=!0,this._removeListener(m)})};return this._listeners.push(m),m}onAll(e,t,r=!0){return this._on(!1,null,e,t,r,(o,u)=>e.call(t,u)).disposer}on(e,t,r,o=!0){return this._on(!1,e,t,r,o,(u,f)=>t.call(r,f)).disposer}once(e,t,r,o=!0){const u=this._on(!0,e,t,r,o,(f,m)=>{u.disposer.dispose(),t.call(r,m)});return u.disposer}off(e,t,r){this._removeExistingListener(!1,e,t,r)}copyFrom(e){if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");const t=[];return K(e._listeners,r=>{!r.killed&&r.shouldClone&&(r.type===null?t.push(this.onAll(r.callback,r.context)):r.once?t.push(this.once(r.type,r.callback,r.context)):t.push(this.on(r.type,r.callback,r.context)))}),new Rt(t)}}function Ao(n){return Yt(this,void 0,void 0,function*(){if(n!==void 0){const e=[];Ue(n,(t,r)=>{e.push(r.waitForStop())}),yield Promise.all(e)}})}function zi(n,e,t){return e+n*(t-e)}function yp(n,e,t){return n>=1?t:e}function eh(n,e,t){return new Be(zi(n,e.percent,t.percent))}function wp(n,e,t){return ve.interpolate(n,e,t)}function _p(n,e){return typeof n=="number"&&typeof e=="number"?zi:n instanceof Be&&e instanceof Be?eh:n instanceof ve&&e instanceof ve?wp:yp}var rs;(function(n){n[n.Stopped=0]="Stopped",n[n.Playing=1]="Playing",n[n.Paused=2]="Paused"})(rs||(rs={}));function Vs(n,e){if(!(n>=0&&n<e))throw new Error("Index out of bounds: "+n)}class Ys{constructor(e=[]){Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Rs}),this._values=e}get values(){return this._values}contains(e){return this._values.indexOf(e)!==-1}removeValue(e){let t=0,r=this._values.length;for(;t<r;)this._values[t]===e?(this.removeIndex(t),--r):++t}indexOf(e){return sr(this._values,e)}get length(){return this._values.length}hasIndex(e){return e>=0&&e<this._values.length}getIndex(e){return this._values[e]}_onPush(e){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:e})}_onInsertIndex(e,t){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t})}_onSetIndex(e,t,r){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:e,oldValue:t,newValue:r})}_onRemoveIndex(e,t){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:e,oldValue:t})}_onMoveIndex(e,t,r){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:e,newIndex:t,value:r})}_onClear(e){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:e})}setIndex(e,t){Vs(e,this._values.length);const r=this._values[e];return r!==t&&(this._values[e]=t,this._onSetIndex(e,r,t)),r}insertIndex(e,t){return Vs(e,this._values.length+1),Nr(this._values,e,t),this._onInsertIndex(e,t),t}swap(e,t){const r=this._values.length;if(Vs(e,r),Vs(t,r),e!==t){const o=this._values[e],u=this._values[t];this._values[e]=u,this._onSetIndex(e,o,u),this._values[t]=o,this._onSetIndex(t,u,o)}}removeIndex(e){Vs(e,this._values.length);const t=this._values[e];return pn(this._values,e),this._onRemoveIndex(e,t),t}moveValue(e,t){let r=this.indexOf(e);if(r!==-1)if(pn(this._values,r),t==null){const o=this._values.length;this._values.push(e),this._onMoveIndex(r,o,e)}else Nr(this._values,t,e),this._onMoveIndex(r,t,e);else t==null?(this._values.push(e),this._onPush(e)):(Nr(this._values,t,e),this._onInsertIndex(t,e));return e}push(e){return this._values.push(e),this._onPush(e),e}unshift(e){return this.insertIndex(0,e),e}pushAll(e){K(e,t=>{this.push(t)})}copyFrom(e){this.pushAll(e._values)}pop(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)}shift(){return this._values.length?this.removeIndex(0):void 0}setAll(e){const t=this._values;this._values=[],this._onClear(t),K(e,r=>{this._values.push(r),this._onPush(r)})}clear(){this.setAll([])}*[Symbol.iterator](){const e=this._values.length;for(let t=0;t<e;++t)yield this._values[t]}each(e){K(this._values,e)}eachReverse(e){$s(this._values,e)}}class Jr extends Ys{constructor(){super(...arguments),Object.defineProperty(this,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_onSetIndex(e,t,r){this.autoDispose&&t.dispose(),super._onSetIndex(e,t,r)}_onRemoveIndex(e,t){this.autoDispose&&t.dispose(),super._onRemoveIndex(e,t)}_onClear(e){this.autoDispose&&K(e,t=>{t.dispose()}),super._onClear(e)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this.autoDispose&&K(this._values,e=>{e.dispose()}))}}class Si extends Jr{constructor(e,t){super(),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=e,this.make=t}}class Dp extends Ys{constructor(e){super(),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._container=e,this._events=this.events.onAll(t=>{if(t.type==="clear")K(t.oldValues,r=>{this._onRemoved(r)});else if(t.type==="push")this._onInserted(t.newValue);else if(t.type==="setIndex")this._onRemoved(t.oldValue),this._onInserted(t.newValue,t.index);else if(t.type==="insertIndex")this._onInserted(t.newValue,t.index);else if(t.type==="removeIndex")this._onRemoved(t.oldValue);else if(t.type==="moveIndex")this._onRemoved(t.value),this._onInserted(t.value,t.newIndex);else throw new Error("Unknown IListEvent type")})}_onInserted(e,t){e._setParent(this._container,!0);const r=this._container._childrenDisplay;t===void 0?r.addChild(e._display):r.addChildAt(e._display,t)}_onRemoved(e){this._container._childrenDisplay.removeChild(e._display),this._container.markDirtyBounds(),this._container.markDirty()}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._events.dispose(),K(this.values,e=>{e.dispose()}))}}const th=Math.PI,Qn=th/180,as=180/th;function _t(n,e,t){if(!J(e)||e<=0){let r=Math.round(n);return t&&r-n==.5&&r--,r}else{let r=Math.pow(10,e);return Math.round(n*r)/r}}function kp(n,e){if(!J(e)||e<=0)return Math.ceil(n);{let t=Math.pow(10,e);return Math.ceil(n*t)/t}}function dt(n,e,t){return Math.min(Math.max(n,e),t)}function vn(n){return Math.sin(Qn*n)}function yn(n){return Math.cos(Qn*n)}function Cp(n){return n=n%360,n<0&&(n+=360),n}function Ap(n,e,t,r,o){let u=Number.MAX_VALUE,f=Number.MAX_VALUE,m=-Number.MAX_VALUE,y=-Number.MAX_VALUE,D=[];D.push($a(o,t)),D.push($a(o,r));let T=Math.min(Math.floor(t/90)*90,Math.floor(r/90)*90),C=Math.max(Math.ceil(t/90)*90,Math.ceil(r/90)*90);for(let M=T;M<=C;M+=90)M>=t&&M<=r&&D.push($a(o,M));for(let M=0;M<D.length;M++){let S=D[M];S.x<u&&(u=S.x),S.y<f&&(f=S.y),S.x>m&&(m=S.x),S.y>y&&(y=S.y)}return{left:n+u,top:e+f,right:n+m,bottom:e+y}}function $a(n,e){return{x:n*yn(e),y:n*vn(e)}}function Sp(n,e){return n.x>=e.left&&n.y>=e.top&&n.x<=e.right&&n.y<=e.bottom}function Pp(n,e,t,r,o,u,f,m,y){let D=o+.01,T=m*Qn,C=[];for(;D<t+f;){let M=u;if(M/2>D&&(M=2*D),T+=2*Math.asin(M/2/D),T*as>y+(t-o)/f*360)break;let S=T*as,X={x:n+D*Math.cos(T),y:e+D*r/t*Math.sin(T)};C.push(X),D=o+S/360*f}return C.shift(),C}function So(n){return n}function Xi(n){return n*n*n}function Ji(n){return function(e){return 1-n(1-e)}}class Fp{constructor(e,t){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=e,this._settings=t,Ue(t,r=>{this._userSettings[r]=!0})}get(e,t){const r=this._settings[e];return r!==void 0?r:t}setRaw(e,t){this._settings[e]=t}set(e,t){this._userSettings[e]=!0,this.setRaw(e,t)}remove(e){delete this._userSettings[e],delete this._settings[e]}setAll(e){ut(e).forEach(t=>{this.set(t,e[t])})}_eachSetting(e){Ue(this._settings,e)}apply(){const e={};e.stateAnimationEasing=!0,e.stateAnimationDuration=!0;const t=this._entity.states.lookup("default");this._eachSetting((r,o)=>{e[r]||(e[r]=!0,this!==t&&(r in t._settings||(t._settings[r]=this._entity.get(r))),this._entity.set(r,o))})}applyAnimate(e){e==null&&(e=this._settings.stateAnimationDuration),e==null&&(e=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));let t=this._settings.stateAnimationEasing;t==null&&(t=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",Xi)));const r=this._entity.states.lookup("default"),o={};o.stateAnimationEasing=!0,o.stateAnimationDuration=!0;const u={};return this._eachSetting((f,m)=>{if(!o[f]){o[f]=!0,this!=r&&(f in r._settings||(r._settings[f]=this._entity.get(f)));const y=this._entity.animate({key:f,to:m,duration:e,easing:t});y&&(u[f]=y)}}),u}}class Tp{constructor(e){Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=e}lookup(e){return this._states[e]}create(e,t){const r=this._states[e];if(r)return r.setAll(t),r;{const o=new Fp(this._entity,t);return this._states[e]=o,o}}remove(e){delete this._states[e]}apply(e){const t=this._states[e];t&&t.apply(),this._entity._applyState(e)}applyAnimate(e,t){let r;const o=this._states[e];return o&&(r=o.applyAnimate(t)),this._entity._applyStateAnimated(e,t),r}}class Mp{constructor(){Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.8.4"}),Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}const di=new Mp;function fi(n,e){return n===e?0:n<e?-1:1}function ih(n,e,t){const r=n.length,o=e.length,u=Math.min(r,o);for(let f=0;f<u;++f){const m=t(n[f],e[f]);if(m!==0)return m}return fi(r,o)}function Po(n,e){return n===e?0:n<e?-1:1}class Ep{constructor(e){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=e}add(e,t){let r=this._callbacks[e];return r===void 0&&(r=this._callbacks[e]=[]),r.push(t),this._entity._markDirtyKey(e),new ft(()=>{Ft(r,t)&&this._entity._markDirtyKey(e)})}remove(e){const t=this._callbacks[e];t!==void 0&&(delete this._callbacks[e],t.length!==0&&this._entity._markDirtyKey(e))}enable(e){this._disabled[e]&&(delete this._disabled[e],this._entity._markDirtyKey(e))}disable(e){this._disabled[e]||(this._disabled[e]=!0,this._entity._markDirtyKey(e))}fold(e,t){if(!this._disabled[e]){const r=this._callbacks[e];if(r!==void 0)for(let o=0,u=r.length;o<u;++o)t=r[o](t,this._entity,e)}return t}}class Ir{constructor(e,t,r,o,u,f,m){Object.defineProperty(this,"_animation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Rs}),this._animation=e,this._from=t,this._to=r,this._duration=o,this._easing=u,this._loops=f,this._interpolate=_p(t,r),this._oldTime=m}get to(){return this._to}get from(){return this._from}get playing(){return this._playing}get stopped(){return this._stopped}stop(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}pause(){this._playing=!1,this._oldTime=null}play(){!this._stopped&&!this._playing&&(this._playing=!0,this._animation._startAnimation())}get percentage(){return this._time/this._duration}waitForStop(){return new Promise((e,t)=>{if(this._stopped)e();else{const r=()=>{o.dispose(),e()},o=this.events.on("stopped",r)}})}_checkEnded(){return this._loops>1?(--this._loops,!1):!0}_run(e){this._oldTime!==null&&(this._time+=e-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=e}_reset(e){this._oldTime=e,this._time=0}_value(e){return this._interpolate(this._easing(e),this._from,this._to)}}let Op=0;class sh{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++Op}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._settings=e}_checkDirty(){ut(this._settings).forEach(e=>{this._userProperties[e]=!0,this._markDirtyKey(e)})}resetUserSettings(){this._userProperties={}}_runAnimation(e){let t=rs.Stopped;if(!this.isDisposed()){let r=!1,o=!1;Ue(this._animatingSettings,(u,f)=>{if(f.stopped)this._stopAnimation(u);else if(f.playing){f._run(e);const m=f.percentage;m>=1?f._checkEnded()?this.set(u,f._value(1)):(r=!0,f._reset(e),this._set(u,f._value(1))):(r=!0,this._set(u,f._value(m)))}else o=!0}),Ue(this._animatingPrivateSettings,(u,f)=>{if(f.stopped)this._stopAnimationPrivate(u);else if(f.playing){f._run(e);const m=f.percentage;m>=1?f._checkEnded()?this.setPrivate(u,f._value(1)):(r=!0,f._reset(e),this._setPrivate(u,f._value(1))):(r=!0,this._setPrivate(u,f._value(m)))}else o=!0}),r?t=rs.Playing:o&&(t=rs.Paused)}return t}_markDirtyKey(e){this.markDirty()}_markDirtyPrivateKey(e){this.markDirty()}on(e,t){let r=this._settingEvents[e];return r===void 0&&(r=this._settingEvents[e]=[]),r.push(t),new ft(()=>{Ft(r,t),r.length===0&&delete this._settingEvents[e]})}onPrivate(e,t){let r=this._privateSettingEvents[e];return r===void 0&&(r=this._privateSettingEvents[e]=[]),r.push(t),new ft(()=>{Ft(r,t),r.length===0&&delete this._privateSettingEvents[e]})}getRaw(e,t){const r=this._settings[e];return r!==void 0?r:t}get(e,t){return this.getRaw(e,t)}_sendKeyEvent(e,t){const r=this._settingEvents[e];r!==void 0&&K(r,o=>{o(t,this,e)})}_sendPrivateKeyEvent(e,t){const r=this._privateSettingEvents[e];r!==void 0&&K(r,o=>{o(t,this,e)})}_setRaw(e,t,r){this._prevSettings[e]=t,this._sendKeyEvent(e,r)}setRaw(e,t){const r=this._settings[e];this._settings[e]=t,r!==t&&this._setRaw(e,r,t)}_set(e,t){const r=this._settings[e];this._settings[e]=t,r!==t&&(this._setRaw(e,r,t),this._markDirtyKey(e))}_stopAnimation(e){const t=this._animatingSettings[e];t&&(delete this._animatingSettings[e],t.stop())}set(e,t){return this._set(e,t),this._stopAnimation(e),t}remove(e){e in this._settings&&(this._prevSettings[e]=this._settings[e],delete this._settings[e],this._sendKeyEvent(e,void 0),this._markDirtyKey(e)),this._stopAnimation(e)}removeAll(){K(ut(this._settings),e=>{this.remove(e)})}getPrivate(e,t){const r=this._privateSettings[e];return r!==void 0?r:t}_setPrivateRaw(e,t,r){this._prevPrivateSettings[e]=t,this._sendPrivateKeyEvent(e,r)}setPrivateRaw(e,t){const r=this._privateSettings[e];this._privateSettings[e]=t,r!==t&&this._setPrivateRaw(e,r,t)}_setPrivate(e,t){const r=this._privateSettings[e];this._privateSettings[e]=t,r!==t&&(this._setPrivateRaw(e,r,t),this._markDirtyPrivateKey(e))}_stopAnimationPrivate(e){const t=this._animatingPrivateSettings[e];t&&(t.stop(),delete this._animatingPrivateSettings[e])}setPrivate(e,t){return this._setPrivate(e,t),this._stopAnimationPrivate(e),t}removePrivate(e){e in this._privateSettings&&(this._prevPrivateSettings[e]=this._privateSettings[e],delete this._privateSettings[e],this._markDirtyPrivateKey(e)),this._stopAnimationPrivate(e)}setAll(e){Ue(e,(t,r)=>{this.set(t,r)})}animate(e){const t=e.key,r=e.to,o=e.duration||0,u=e.loops||1,f=e.from===void 0?this.get(t):e.from,m=e.easing===void 0?So:e.easing;if(o===0)this.set(t,r);else if(f===void 0||f===r)this.set(t,r);else{this.set(t,f);const D=this._animatingSettings[t]=new Ir(this,f,r,o,m,u,this._animationTime());return this._startAnimation(),D}const y=new Ir(this,f,r,o,m,u,null);return y.stop(),y}animatePrivate(e){const t=e.key,r=e.to,o=e.duration||0,u=e.loops||1,f=e.from===void 0?this.getPrivate(t):e.from,m=e.easing===void 0?So:e.easing;if(o===0)this.setPrivate(t,r);else if(f===void 0||f===r)this.setPrivate(t,r);else{this.setPrivate(t,f);const D=this._animatingPrivateSettings[t]=new Ir(this,f,r,o,m,u,this._animationTime());return this._startAnimation(),D}const y=new Ir(this,f,r,o,m,u,null);return y.stop(),y}_dispose(){}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class pt extends sh{constructor(e,t,r,o=[]){if(super(t),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new Tp(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new Ep(this)}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:this._createEvents()}),Object.defineProperty(this,"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!r)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._root=e,this._internalTemplates=o,t.id&&this._registerId(t.id)}static new(e,t,r){const o=new this(e,t,!0);return o._template=r,o._afterNew(),o}static _new(e,t,r=[]){const o=new this(e,t,!0,r);return o._afterNew(),o}_afterNew(){this._checkDirty();let e=!1;const t=this._template;t&&(e=!0,t._setObjectTemplate(this)),K(this._internalTemplates,r=>{e=!0,r._setObjectTemplate(this)}),e&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}_afterNewApplyThemes(){this._checkDirty();const e=this._template;e&&e._setObjectTemplate(this),K(this._internalTemplates,t=>{t._setObjectTemplate(this)}),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}_createEvents(){return new Rs}get classNames(){return this.constructor.classNames}get className(){return this.constructor.className}_setDefaults(){}_setDefault(e,t){e in this._settings||super.set(e,t)}_setRawDefault(e,t){e in this._settings||super.setRaw(e,t)}_clearDirty(){ut(this._dirty).forEach(e=>{this._dirty[e]=!1}),ut(this._dirtyPrivate).forEach(e=>{this._dirtyPrivate[e]=!1})}isDirty(e){return!!this._dirty[e]}isPrivateDirty(e){return!!this._dirtyPrivate[e]}_markDirtyKey(e){this._dirty[e]=!0,super._markDirtyKey(e)}_markDirtyPrivateKey(e){this._dirtyPrivate[e]=!0,super._markDirtyKey(e)}isType(e){return this.classNames.indexOf(e)!==-1}_pushPropertyDisposer(e,t){let r=this._disposerProperties[e];return r===void 0&&(r=this._disposerProperties[e]=[]),r.push(t),t}_disposeProperty(e){const t=this._disposerProperties[e];t!==void 0&&(K(t,r=>{r.dispose()}),delete this._disposerProperties[e])}set template(e){const t=this._template;t!==e&&(this._template=e,t&&t._removeObjectTemplate(this),e&&e._setObjectTemplate(this),this._applyTemplates())}get template(){return this._template}markDirty(){this._root._addDirtyEntity(this)}_startAnimation(){this._root._addAnimation(this)}_animationTime(){return this._root.animationTime}_applyState(e){}_applyStateAnimated(e,t){}get(e,t){const r=this.adapters.fold(e,this._settings[e]);return r!==void 0?r:t}isUserSetting(e){return this._userProperties[e]||!1}set(e,t){return this._userProperties[e]=!0,super.set(e,t)}setRaw(e,t){this._userProperties[e]=!0,super.setRaw(e,t)}_setSoft(e,t){return this._userProperties[e]?t:super.set(e,t)}remove(e){delete this._userProperties[e],this._removeTemplateProperty(e)}setPrivate(e,t){return this._userPrivateProperties[e]=!0,super.setPrivate(e,t)}setPrivateRaw(e,t){this._userPrivateProperties[e]=!0,super.setPrivateRaw(e,t)}removePrivate(e){delete this._userPrivateProperties[e],this._removeTemplatePrivateProperty(e)}_setTemplateProperty(e,t,r){if(!this._userProperties[t]){const o=this._findTemplateByKey(t);e===o&&super.set(t,r)}}_setTemplatePrivateProperty(e,t,r){if(!this._userPrivateProperties[t]){const o=this._findTemplateByPrivateKey(t);e===o&&super.setPrivate(t,r)}}_removeTemplateProperty(e){if(!this._userProperties[e]){const t=this._findTemplateByKey(e);t?super.set(e,t._settings[e]):super.remove(e)}}_removeTemplatePrivateProperty(e){if(!this._userPrivateProperties[e]){const t=this._findTemplateByPrivateKey(e);t?super.setPrivate(e,t._privateSettings[e]):super.removePrivate(e)}}_walkParents(e){e(this._root._rootContainer),e(this)}_applyStateByKey(e){const t=this.states.create(e,{}),r={};this._eachTemplate(o=>{const u=o.states.lookup(e);u&&u._apply(t,r)}),Ue(t._settings,o=>{!r[o]&&!t._userSettings[o]&&t.remove(o)})}_applyTemplate(e,t){this._templateDisposers.push(e._apply(this,t)),Ue(e._settings,(r,o)=>{!t.settings[r]&&!this._userProperties[r]&&(t.settings[r]=!0,super.set(r,o))}),Ue(e._privateSettings,(r,o)=>{!t.privateSettings[r]&&!this._userPrivateProperties[r]&&(t.privateSettings[r]=!0,super.setPrivate(r,o))}),this._runSetup&&e.setup&&(this._runSetup=!1,e.setup(this))}_findStaticTemplate(e){if(this._template&&e(this._template))return this._template}_eachTemplate(e){this._findStaticTemplate(t=>(e(t),!1)),$s(this._internalTemplates,e),K(this._templates,e)}_applyTemplates(e=!0){e&&this._disposeTemplates();const t={settings:{},privateSettings:{},states:{}};this._eachTemplate(r=>{this._applyTemplate(r,t)}),e&&(Ue(this._settings,r=>{!this._userProperties[r]&&!t.settings[r]&&super.remove(r)}),Ue(this._privateSettings,r=>{!this._userPrivateProperties[r]&&!t.privateSettings[r]&&super.removePrivate(r)}))}_findTemplate(e){const t=this._findStaticTemplate(e);if(t===void 0){const r=qg(this._internalTemplates,e);return r===void 0?Vl(this._templates,e):r}else return t}_findTemplateByKey(e){return this._findTemplate(t=>e in t._settings)}_findTemplateByPrivateKey(e){return this._findTemplate(t=>e in t._privateSettings)}_disposeTemplates(){K(this._templateDisposers,e=>{e.dispose()}),this._templateDisposers.length=0}_removeTemplates(){K(this._templates,e=>{e._removeObjectTemplate(this)}),this._templates.length=0}_applyThemes(e=!1){let t=!1;const r=[];let o=[];const u=new Set,f=this.get("themeTagsSelf");return f&&K(f,m=>{u.add(m)}),this._walkParents(m=>{m===this._root._rootContainer&&(t=!0),m._defaultThemes.length>0&&r.push(m._defaultThemes);const y=m.get("themes");y&&o.push(y);const D=m.get("themeTags");D&&K(D,T=>{u.add(T)})}),o=r.concat(o),this._removeTemplates(),(t||e)&&$s(this.classNames,m=>{const y=[];K(o,D=>{K(D,T=>{const C=T._lookupRules(m);C&&$s(C,M=>{if(M.tags.every(X=>u.has(X))){const X=Gl(y,O=>{const z=fi(M.tags.length,O.tags.length);return z===0?ih(M.tags,O.tags,fi):z});y.splice(X.index,0,M)}})})}),K(y,D=>{this._templates.push(D.template),D.template._setObjectTemplate(this)})}),this._applyTemplates(),(t||e)&&(this._runSetup=!1),t||e}_changed(){}_beforeChanged(){if(this.isDirty("id")){const e=this.get("id");e&&this._registerId(e);const t=this._prevSettings.id;t&&delete di.entitiesById[t]}}_registerId(e){if(di.entitiesById[e]&&di.entitiesById[e]!==this)throw new Error('An entity with id "'+e+'" already exists.');di.entitiesById[e]=this}_afterChanged(){}addDisposer(e){return this._disposers.push(e),e}_dispose(){super._dispose();const e=this._template;e&&e._removeObjectTemplate(this),K(this._internalTemplates,r=>{r._removeObjectTemplate(this)}),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach(r=>{r.dispose()}),Ue(this._disposerProperties,(r,o)=>{K(o,u=>{u.dispose()})});const t=this.get("id");t&&delete di.entitiesById[t]}setTimeout(e,t){const r=setTimeout(()=>{this.removeDispose(o),e()},t),o=new ft(()=>{clearTimeout(r)});return this._disposers.push(o),o}removeDispose(e){if(!this.isDisposed()){let t=sr(this._disposers,e);t>-1&&this._disposers.splice(t,1)}e.dispose()}hasTag(e){return sr(this.get("themeTags",[]),e)!==-1}addTag(e){if(!this.hasTag(e)){const t=this.get("themeTags",[]);t.push(e),this.set("themeTags",t)}}removeTag(e){if(this.hasTag(e)){const t=this.get("themeTags",[]);Gt(t,e),this.set("themeTags",t)}}_t(e,t,...r){return this._root.language.translate(e,t,...r)}get root(){return this._root}}Object.defineProperty(pt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"});Object.defineProperty(pt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]});class Lp{constructor(e,t,r){Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._name=e,this._template=t,this._settings=r}get(e,t){const r=this._settings[e];return r!==void 0?r:t}set(e,t){this._settings[e]=t,this._template._stateChanged(this._name)}remove(e){delete this._settings[e],this._template._stateChanged(this._name)}setAll(e){ut(e).forEach(t=>{this._settings[t]=e[t]}),this._template._stateChanged(this._name)}_apply(e,t){Ue(this._settings,(r,o)=>{!t[r]&&!e._userSettings[r]&&(t[r]=!0,e.setRaw(r,o))})}}class Bp{constructor(e){Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._template=e}lookup(e){return this._states[e]}create(e,t){const r=this._states[e];if(r)return r.setAll(t),r;{const o=new Lp(e,this._template,t);return this._states[e]=o,this._template._stateChanged(e),o}}remove(e){delete this._states[e],this._template._stateChanged(e)}_apply(e,t){Ue(this._states,(r,o)=>{let u=t.states[r];u==null&&(u=t.states[r]={});const f=e.states.create(r,{});o._apply(f,u)})}}class Ip{constructor(){Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}add(e,t){let r=this._callbacks[e];return r===void 0&&(r=this._callbacks[e]=[]),r.push(t),new ft(()=>{Ft(r,t),r.length===0&&delete this._callbacks[e]})}remove(e){this._callbacks[e]!==void 0&&delete this._callbacks[e]}_apply(e){const t=[];return Ue(this._callbacks,(r,o)=>{K(o,u=>{t.push(e.adapters.add(r,u))})}),new Rt(t)}}class vt{constructor(e,t){if(Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new Bp(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new Ip}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Rs}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!t)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=e}static new(e){return new vt(e,!0)}get entities(){return this._entities}get(e,t){const r=this._settings[e];return r!==void 0?r:t}setRaw(e,t){this._settings[e]=t}set(e,t){this._settings[e]!==t&&(this.setRaw(e,t),this._entities.forEach(r=>{r._setTemplateProperty(this,e,t)}))}remove(e){e in this._settings&&(delete this._settings[e],this._entities.forEach(t=>{t._removeTemplateProperty(e)}))}removeAll(){Ue(this._settings,(e,t)=>{this.remove(e)})}getPrivate(e,t){const r=this._privateSettings[e];return r!==void 0?r:t}setPrivateRaw(e,t){return this._privateSettings[e]=t,t}setPrivate(e,t){return this._privateSettings[e]!==t&&(this.setPrivateRaw(e,t),this._entities.forEach(r=>{r._setTemplatePrivateProperty(this,e,t)})),t}removePrivate(e){e in this._privateSettings&&(delete this._privateSettings[e],this._entities.forEach(t=>{t._removeTemplatePrivateProperty(e)}))}setAll(e){Ue(e,(t,r)=>{this.set(t,r)})}on(e,t){let r=this._settingEvents[e];return r===void 0&&(r=this._settingEvents[e]=[]),r.push(t),new ft(()=>{Ft(r,t),r.length===0&&delete this._settingEvents[e]})}onPrivate(e,t){let r=this._privateSettingEvents[e];return r===void 0&&(r=this._privateSettingEvents[e]=[]),r.push(t),new ft(()=>{Ft(r,t),r.length===0&&delete this._privateSettingEvents[e]})}_apply(e,t){const r=[];return Ue(this._settingEvents,(o,u)=>{K(u,f=>{r.push(e.on(o,f))})}),Ue(this._privateSettingEvents,(o,u)=>{K(u,f=>{r.push(e.onPrivate(o,f))})}),this.states._apply(e,t),r.push(this.adapters._apply(e)),r.push(e.events.copyFrom(this.events)),new Rt(r)}_setObjectTemplate(e){this._entities.push(e)}_removeObjectTemplate(e){Gt(this._entities,e)}_stateChanged(e){this._entities.forEach(t=>{t._applyStateByKey(e)})}}class Pa extends Rs{constructor(e){super(),Object.defineProperty(this,"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._sprite=e}_makePointerEvent(e,t){return{type:e,originalEvent:t.event,point:t.point,simulated:t.simulated,native:t.native,target:this._sprite}}_onRenderer(e,t){this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;let r=this._rendererDisposers[e];if(r===void 0){const o=this._sprite._display.on(e,u=>{t.call(this,u)});r=this._rendererDisposers[e]=new Ul(()=>{delete this._rendererDisposers[e],o.dispose()})}return r.increment()}_on(e,t,r,o,u,f){const m=super._on(e,t,r,o,u,f),y=Pa.RENDERER_EVENTS[t];return y!==void 0&&(m.disposer=new Rt([m.disposer,this._onRenderer(t,y)])),m}stopParentDispatch(){this._dispatchParents=!1}dispatchParents(e,t){const r=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(e,t),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(e,t)}finally{this._dispatchParents=r}}}Object.defineProperty(Pa,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(n){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",n))&&this.dispatch("click",this._makePointerEvent("click",n))},rightclick:function(n){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",n))},middleclick:function(n){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",n))},dblclick:function(n){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",n))},pointerover:function(n){const e=this._sprite;let t=!0;if(e.getPrivate("trustBounds")){e._getBounds();const r=e.globalBounds();Sp(n.point,r)||(t=!1,e._root._renderer.removeHovering(e._display))}t&&this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",n))},pointerout:function(n){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",n))},pointerdown:function(n){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",n))},pointerup:function(n){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",n))},globalpointerup:function(n){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",n))},globalpointermove:function(n){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",n))},wheel:function(n){this.dispatchParents("wheel",{type:"wheel",target:this._sprite,originalEvent:n.event,point:n.point})}}});class ri extends pt{constructor(){super(...arguments),Object.defineProperty(this,"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_statesHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this.setPrivateRaw("visible",!0),super._afterNew()}_markDirtyKey(e){super._markDirtyKey(e),(e=="x"||e=="y"||e=="dx"||e=="dy")&&(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}_markDirtyPrivateKey(e){super._markDirtyPrivateKey(e),(e=="x"||e=="y")&&this.markDirtyPosition()}_removeTemplateField(){this._templateField&&this._templateField._removeObjectTemplate(this)}_createEvents(){return new Pa(this)}_processTemplateField(){let e;const t=this.get("templateField");if(t){const r=this.dataItem;if(r){const o=r.dataContext;o&&(e=o[t],!(e instanceof vt)&&e&&(e=vt.new(e)))}}this._templateField!==e&&(this._removeTemplateField(),this._templateField=e,e&&e._setObjectTemplate(this),this._applyTemplates())}_setDataItem(e){const t=this._dataItem;this._dataItem=e,this._processTemplateField();const r="dataitemchanged";e!=t&&this.events.isEnabled(r)&&this.events.dispatch(r,{type:r,target:this,oldDataItem:t,newDataItem:e})}set dataItem(e){this._setDataItem(e)}get dataItem(){if(this._dataItem)return this._dataItem;{let e=this._parent;for(;e;){if(e._dataItem)return e._dataItem;e=e._parent}}}_addPercentageSizeChildren(){let e=this.parent;e&&(this.get("width")instanceof Be||this.get("height")instanceof Be?rr(e._percentageSizeChildren,this):Ft(e._percentageSizeChildren,this))}_addPercentagePositionChildren(){let e=this.parent;e&&(this.get("x")instanceof Be||this.get("y")instanceof Be?rr(e._percentagePositionChildren,this):Ft(e._percentagePositionChildren,this))}markDirtyPosition(){this._root._addDirtyPosition(this)}updatePivotPoint(){const e=this._localBounds;if(e){const t=this.get("centerX");t!=null&&(this._display.pivot.x=e.left+xt(t,e.right-e.left));const r=this.get("centerY");r!=null&&(this._display.pivot.y=e.top+xt(r,e.bottom-e.top))}}_beforeChanged(){if(super._beforeChanged(),this._handleStates(),this.isDirty("tooltip")){const e=this._prevSettings.tooltip;e&&e.dispose()}if((this.isDirty("layer")||this.isDirty("layerMargin"))&&(this._display.setLayer(this.get("layer"),this.get("layerMargin")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){const e=this._tooltipMoveDp;e&&(e.dispose(),this._tooltipMoveDp=void 0);const t=this._tooltipPointerDp;t&&(t.dispose(),this._tooltipPointerDp=void 0),this.get("tooltipPosition")=="pointer"&&(this.isHover()&&(this._tooltipMoveDp=this.events.on("globalpointermove",r=>{this.showTooltip(r.point)})),this._tooltipPointerDp=new Rt([this.events.on("pointerover",()=>{this._tooltipMoveDp=this.events.on("globalpointermove",r=>{this.showTooltip(r.point)})}),this.events.on("pointerout",()=>{const r=this._tooltipMoveDp;r&&(r.dispose(),this._tooltipMoveDp=void 0)})]))}}_handleStates(){this._statesHandled||(this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility()),this._statesHandled=!0)}_changed(){super._changed();const e=this._display,t=this.events;if(this.isDirty("draggable")){const o=this.get("draggable");o?(this.set("interactive",!0),this._dragDp=new Rt([t.on("pointerdown",u=>{this.dragStart(u)}),t.on("globalpointermove",u=>{this.dragMove(u)}),t.on("globalpointerup",u=>{this.dragStop(u)})])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0),e.cancelTouch=!!o}if(this.isDirty("tooltipText")||this.isDirty("tooltipHTML")||this.isDirty("showTooltipOn")){const o=this.get("tooltipText"),u=this.get("tooltipHTML"),f=this.get("showTooltipOn","hover");this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0),(o||u)&&(f=="click"?(this._tooltipDp=new Rt([t.on("click",()=>{this.setTimeout(()=>this.showTooltip(),10)}),rt(document,"click",m=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)):f=="always"||(this._tooltipDp=new Rt([t.on("pointerover",()=>{this.showTooltip()}),t.on("pointerout",()=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)))}if(this.isDirty("toggleKey")){let o=this.get("toggleKey");o&&o!="none"?this._toggleDp=t.on("click",()=>{this._isDragging||this.set(o,!this.get(o))}):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this.isDirty("opacity")&&(e.alpha=Math.max(0,this.get("opacity",1)),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("rotation")&&(this.markDirtyBounds(),e.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),e.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(e.visible=!1,this.hideTooltip()):e.visible=!0,this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();const o=this.parent;o&&(this.isDirty("width")&&this.get("width")instanceof Be||this.isDirty("height")&&this.get("height")instanceof Be)&&(o.markDirty(),o._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("minWidth")||this.isDirty("minHeight")||this.isPrivateDirty("maxWidth")||this.isPrivateDirty("maxHeight")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){const o=this.get("wheelable");o&&this.set("interactive",!0),e.wheelable=!!o}(this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(e.filter=this.get("filter"));let r=this.get("filter","");if(this.isDirty("blur")){const o=this.get("blur",0);o!=0&&(r+=" blur("+o+"px)")}if(this.isDirty("saturate")){const o=this.get("saturate",1);o!=1&&(r+=" saturate("+o+")")}if(this.isDirty("brightness")){const o=this.get("brightness",1);o!=1&&(r+=" brightness("+o+")")}if(this.isDirty("contrast")){const o=this.get("contrast",1);o!=1&&(r+=" contrast("+o+")")}if(this.isDirty("sepia")){const o=this.get("sepia",0);o!=0&&(r+=" sepia("+o+")")}if(this.isDirty("hue")){const o=this.get("hue",0);o!=0&&(r+=" hue-rotate("+o+"deg)")}if(this.isDirty("invert")){const o=this.get("invert",0);o!=0&&(r+=" invert("+o+")")}if(r&&(e.filter=r),this.isDirty("cursorOverStyle")&&(e.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new Rt([t.on("focus",()=>{this.showTooltip()}),t.on("blur",()=>{this.hideTooltip()})]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility()),this.isPrivateDirty("focusable")&&this.markDirtyAccessibility(),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(e.exportable=this.get("exportable")),this.isDirty("interactive")){const o=this.events;this.get("interactive")?this._hoverDp=new Rt([o.on("click",u=>{xn(u.originalEvent)&&(this.getPrivate("touchHovering")||this.setTimeout(()=>{this._handleOver(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.showTooltip(),this.setPrivateRaw("touchHovering",!0),this.events.dispatch("pointerover",{type:"pointerover",target:u.target,originalEvent:u.originalEvent,point:u.point,simulated:u.simulated})},10))}),o.on("globalpointerup",u=>{xn(u.originalEvent)&&this.getPrivate("touchHovering")&&(this._handleOut(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.hideTooltip(),this.setPrivateRaw("touchHovering",!1),this.events.dispatch("pointerout",{type:"pointerout",target:u.target,originalEvent:u.originalEvent,point:u.point,simulated:u.simulated})),this._isDown&&this._handleUp(u)}),o.on("pointerover",()=>{this._handleOver()}),o.on("pointerout",()=>{this._handleOut()}),o.on("pointerdown",u=>{this._handleDown(u)})]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",null)),this.get("showTooltipOn")=="always"&&this._display.visible&&this.showTooltip()}dragStart(e){this._dragEvent=e,this.events.stopParentDispatch()}dragStop(e){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;const t="dragstop";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}_handleOver(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleOut(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleUp(e){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;const t=Za(e.originalEvent);delete this._downPoints[t],ut(this._downPoints).length==0&&(this._isDown=!1)}}_hasMoved(e){const t=Za(e.originalEvent),r=this._downPoints[t];if(r){const o=Math.abs(r.x-e.point.x),u=Math.abs(r.y-e.point.y);return o>5||u>5}return!1}_hasDown(){return ut(this._downPoints).length>0}_handleDown(e){const t=this.parent;if(t&&!this.get("draggable")&&t._handleDown(e),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:e.point.x,y:e.point.y},this._isDown=!0;const r=Za(e.originalEvent);this._downPoints[r]={x:e.point.x,y:e.point.y}}}dragMove(e){let t=this._dragEvent;if(t){if(t.simulated&&!e.simulated)return!0;let r=0,o=this.parent,u=1;for(;o!=null;)r+=o.get("rotation",0),o=o.parent,o&&(u*=o.get("scale",1));let f=(e.point.x-t.point.x)/u,m=(e.point.y-t.point.y)/u;const y=this.events;if(t.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};const D="dragstart";y.isEnabled(D)&&y.dispatch(D,{type:D,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}if(this._isDragging){let D=this._dragPoint;this.set("x",D.x+f*yn(r)+m*vn(r)),this.set("y",D.y+m*yn(r)-f*vn(r));const T="dragged";y.isEnabled(T)&&y.dispatch(T,{type:T,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}else if(Math.hypot(f,m)>5){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};const D="dragstart";y.isEnabled(D)&&y.dispatch(D,{type:D,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}}_updateSize(){}_getBounds(){this._localBounds=this._display.getLocalBounds()}depth(){let e=this.parent,t=0;for(;;)if(e)++t,e=e.parent;else return t}markDirtySize(){this._sizeDirty=!0,this.markDirty()}markDirtyBounds(){const e=this._display;if(this.get("isMeasured")){this._root._addDirtyBounds(this),e.isMeasured=!0,e.invalidateBounds();const t=this.parent;t&&this.get("position")!="absolute"&&(t.get("width")==null||t.get("height")==null||t.get("layout"))&&t.markDirtyBounds(),this.get("focusable")&&this.isFocus()&&this.markDirtyAccessibility()}}markDirtyAccessibility(){this._root._invalidateAccessibility(this)}markDirtyLayer(){this._display.markDirtyLayer(!0)}markDirty(){super.markDirty(),this.markDirtyLayer()}_updateBounds(){const e=this._adjustedLocalBounds;let t;if(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(t={left:0,right:0,top:0,bottom:0},this._localBounds=t,this._adjustedLocalBounds=t):(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),t=this._adjustedLocalBounds),!e||e.left!==t.left||e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom){const r="boundschanged";this.events.isEnabled(r)&&this.events.dispatch(r,{type:r,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds())}}_fixMinBounds(e){let t=this.get("minWidth",this.getPrivate("minWidth")),r=this.get("minHeight",this.getPrivate("minHeight"));J(t)&&e.right-e.left<t&&(e.right=e.left+t),J(r)&&e.bottom-e.top<r&&(e.bottom=e.top+r);let o=this.getPrivate("width"),u=this.getPrivate("height");J(o)&&(o>0?e.right=e.left+o:e.left=e.right+o),J(u)&&(u>0?e.bottom=e.top+u:e.top=e.bottom+u)}_removeParent(e){e&&(e.children.removeValue(this),Ft(e._percentageSizeChildren,this),Ft(e._percentagePositionChildren,this))}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._statesHandled=!1}hover(){this.showTooltip(),this._handleOver()}unhover(){this.hideTooltip(),this._handleOut()}showTooltip(e){const t=this.getTooltip(),r=this.get("tooltipText"),o=this.get("tooltipHTML");if((r||o)&&t){const u=this.get("tooltipPosition"),f=this.getPrivate("tooltipTarget",this);(u=="fixed"||!e)&&(this._display._setMatrix(),e=this.toGlobal(f._getTooltipPoint())),t.set("pointTo",e),t.set("tooltipTarget",f),t.get("x")||t.set("x",e.x),t.get("y")||t.set("y",e.y),r&&t.label.set("text",r),o&&t.label.set("html",o);const m=this.dataItem;if(m&&t.label._setDataItem(m),this.get("showTooltipOn")=="always"&&(e.x<0||e.x>this._root.width()||e.y<0||e.y>this._root.height())){this.hideTooltip();return}t.label.text.markDirtyText();const y=t.show();return this.setPrivateRaw("showingTooltip",!0),y}}hideTooltip(){const e=this.getTooltip();if(e&&(e.get("tooltipTarget")==this.getPrivate("tooltipTarget",this)||this.get("tooltip")==e)){let t=e.get("keepTargetHover")&&e.get("stateAnimationDuration",0)==0?400:void 0;const r=e.hide(t);return this.setPrivateRaw("showingTooltip",!1),r}}_getTooltipPoint(){const e=this._localBounds;if(e){let t=0,r=0;return this.get("isMeasured")?(t=e.left+xt(this.get("tooltipX",0),e.right-e.left),r=e.top+xt(this.get("tooltipY",0),e.bottom-e.top)):(t=xt(this.get("tooltipX",0),this.width()),r=xt(this.get("tooltipY",0),this.height())),{x:t,y:r}}return{x:0,y:0}}getTooltip(){let e=this.get("tooltip");if(e)return e;{let t=this.parent;if(t)return t.getTooltip()}}_updatePosition(){const e=this.parent;let t=this.get("dx",0),r=this.get("dy",0),o=this.get("x"),u=this.getPrivate("x"),f=0,m=0;const y=this.get("position");o instanceof Be&&(e?o=e.innerWidth()*o.value+e.get("paddingLeft",0):o=0),J(o)?f=o+t:u!=null?f=u:e&&y=="relative"&&(f=e.get("paddingLeft",0)+t);let D=this.get("y"),T=this.getPrivate("y");D instanceof Be&&(e?D=e.innerHeight()*D.value+e.get("paddingTop",0):D=0),J(D)?m=D+r:T!=null?m=T:e&&y=="relative"&&(m=e.get("paddingTop",0)+r);const C=this._display;if(C.x!=f||C.y!=m){C.invalidateBounds(),C.x=f,C.y=m;const M="positionchanged";this.events.isEnabled(M)&&this.events.dispatch(M,{type:M,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}x(){let e=this.get("x"),t=this.getPrivate("x");const r=this.parent;return r?e instanceof Be?xt(e,r.innerWidth())+r.get("paddingLeft",0):J(e)?e:t??r.get("paddingLeft",this._display.x):this._display.x}y(){let e=this.getPrivate("y");if(e!=null)return e;let t=this.get("y");const r=this.parent;return r?t instanceof Be?xt(t,r.innerHeight())+r.get("paddingTop",0):J(t)?t:e??r.get("paddingTop",this._display.y):this._display.y}_dispose(){super._dispose(),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent),this._root._removeFocusElement(this);const e=this.get("tooltip");e&&e.dispose(),this.markDirty()}adjustedLocalBounds(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}localBounds(){return this._localBounds}bounds(){const e=this._adjustedLocalBounds,t=this.x(),r=this.y();return{left:e.left+t,right:e.right+t,top:e.top+r,bottom:e.bottom+r}}globalBounds(){const e=this.localBounds(),t=this.toGlobal({x:e.left,y:e.top}),r=this.toGlobal({x:e.right,y:e.top}),o=this.toGlobal({x:e.right,y:e.bottom}),u=this.toGlobal({x:e.left,y:e.bottom});return{left:Math.min(t.x,r.x,o.x,u.x),top:Math.min(t.y,r.y,o.y,u.y),right:Math.max(t.x,r.x,o.x,u.x),bottom:Math.max(t.y,r.y,o.y,u.y)}}_onShow(e){}_onHide(e){}appear(e,t){return Yt(this,void 0,void 0,function*(){return yield this.hide(0),t?new Promise((r,o)=>{this.setTimeout(()=>{r(this.show(e))},t)}):this.show(e)})}show(e){return Yt(this,void 0,void 0,function*(){if(!this._isShowing){this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(e);const t=this.states.applyAnimate("default",e);yield Ao(t),this._isShowing=!1}})}hide(e){return Yt(this,void 0,void 0,function*(){if(!this._isHiding&&!this._isHidden){this._isHiding=!0,this._isShowing=!1;let t=this.states.lookup("hidden");t||(t=this.states.create("hidden",{opacity:0,visible:!1})),this._isHidden=!0,this._onHide(e);const r=this.states.applyAnimate("hidden",e);yield Ao(r),this._isHiding=!1}})}isHidden(){return this._isHidden}isShowing(){return this._isShowing}isHiding(){return this._isHiding}isHover(){return this._display.hovering()}isFocus(){return this._root.focused(this)}isDragging(){return this._isDragging}isVisible(){return!!(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden"))}isVisibleDeep(){return this._parent?this._parent.isVisibleDeep()&&this.isVisible():this.isVisible()}compositeOpacity(){const e=this.get("opacity",1);return this._parent?this._parent.compositeOpacity()*e:e}width(){let e=this.get("width"),t=this.get("maxWidth",this.getPrivate("maxWidth")),r=this.get("minWidth",this.getPrivate("minWidth")),o=this.getPrivate("width"),u=0;if(J(o))u=o;else if(e==null)this._adjustedLocalBounds&&(u=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(e instanceof Be){const f=this.parent;f?u=f.innerWidth()*e.value:u=this._root.width()*e.value}else J(e)&&(u=e);return J(r)&&(u=Math.max(r,u)),J(t)&&(u=Math.min(t,u)),u}maxWidth(){let e=this.get("maxWidth",this.getPrivate("maxWidth"));if(J(e))return e;{let r=this.get("width");if(J(r))return r}const t=this.parent;return t?t.innerWidth():this._root.width()}maxHeight(){let e=this.get("maxHeight",this.getPrivate("maxHeight"));if(J(e))return e;{let r=this.get("height");if(J(r))return r}const t=this.parent;return t?t.innerHeight():this._root.height()}height(){let e=this.get("height"),t=this.get("maxHeight",this.getPrivate("maxHeight")),r=this.get("minHeight",this.getPrivate("minHeight")),o=this.getPrivate("height"),u=0;if(J(o))u=o;else if(e==null)this._adjustedLocalBounds&&(u=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(e instanceof Be){const f=this.parent;f?u=f.innerHeight()*e.value:u=this._root.height()*e.value}else J(e)&&(u=e);return J(r)&&(u=Math.max(r,u)),J(t)&&(u=Math.min(t,u)),u}_findStaticTemplate(e){return this._templateField&&e(this._templateField)?this._templateField:super._findStaticTemplate(e)}_walkParents(e){this._parent&&this._walkParent(e)}_walkParent(e){this._parent&&this._parent._walkParent(e),e(this)}get parent(){return this._parent}_setParent(e,t=!1){const r=this._parent;e!==r&&(this.markDirtyBounds(),e.markDirty(),this._parent=e,t&&(this._removeParent(r),e&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}getNumberFormatter(){return this.get("numberFormatter",this._root.numberFormatter)}getDateFormatter(){return this.get("dateFormatter",this._root.dateFormatter)}getDurationFormatter(){return this.get("durationFormatter",this._root.durationFormatter)}toGlobal(e){return this._display.toGlobal(e)}toLocal(e){return this._display.toLocal(e)}_getDownPoint(){const e=this._getDownPointId();if(e)return this._downPoints[e]}_getDownPointId(){if(this._downPoints)return Zg(this._downPoints,(e,t)=>e>t?1:e<t?-1:0)[0]}toFront(){const e=this.parent;e&&e.children.moveValue(this,e.children.length-1)}toBack(){const e=this.parent;e&&e.children.moveValue(this,0)}}Object.defineProperty(ri,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"});Object.defineProperty(ri,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pt.classNames.concat([ri.className])});class ar extends pt{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_backgroundDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}get pattern(){return this._pattern}_draw(){}_beforeChanged(){super._beforeChanged(),(this.isDirty("repetition")||this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation")||this.isDirty("strokeWidth")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("colorOpacity")||this.isDirty("fillOpacity"))&&(this._clear=!0),this._checkDirtyFill()}_checkDirtyFill(){(this.isDirty("color")||this.isDirty("fill"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("repetition",""),t=this.get("width",100),r=this.get("height",100),o=this.get("fill"),u=this.get("fillOpacity",1),f=this._backgroundDisplay,m=this._display;m.clear(),f.clear(),o&&u>0&&(f.beginFill(o,u),f.drawRect(0,0,t,r),f.endFill()),m.angle=this.get("rotation",0),this._draw(),this._pattern=this._root._renderer.createPattern(m,f,e,t,r)}this._clear=!1}}Object.defineProperty(ar,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pattern"});Object.defineProperty(ar,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pt.classNames.concat([ar.className])});class nr extends ar{constructor(){super(...arguments),Object.defineProperty(this,"_image",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged(),this._clear=!0,this.isDirty("src")&&this._load();const e=this.get("canvas");e&&(this.set("width",e.width),this.set("height",e.height))}_draw(){super._draw();const e=this._image;if(e){const r=this.get("width",100),o=this.get("height",100),u=this.get("fit","image");let f=0,m=0;u=="pattern"?(f=r,m=o):(f=e.width,m=e.height,u=="image"&&(this.set("width",f),this.set("height",m)));const y=this.get("centered",!0);let D=0,T=0;y&&(D=r/2-f/2,T=o/2-m/2),this._display.image(e,f,m,D,T)}const t=this.get("canvas");t&&this._display.image(t,t.width,t.height,0,0)}_load(){const e=this.get("src");if(e){const t=new Image;t.src=e,t.decode().then(()=>{this._image=t,this._draw(),this.events.isEnabled("loaded")&&this.events.dispatch("loaded",{type:"loaded",target:this})}).catch(r=>{})}}}Object.defineProperty(nr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PicturePattern"});Object.defineProperty(nr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ar.classNames.concat([nr.className])});var Qr;(function(n){n.ADD="lighter",n.COLOR="color",n.COLOR_BURN="color-burn",n.COLOR_DODGE="color-dodge",n.DARKEN="darken",n.DIFFERENCE="difference",n.DST_OVER="destination-over",n.EXCLUSION="exclusion",n.HARD_LIGHT="hard-light",n.HUE="hue",n.LIGHTEN="lighten",n.LUMINOSITY="luminosity",n.MULTIPLY="multiply",n.NORMAL="source-over",n.OVERLAY="overlay",n.SATURATION="saturation",n.SCREEN="screen",n.SOFT_LIGHT="soft-light",n.SRC_ATOP="source-atop",n.XOR="xor"})(Qr||(Qr={}));class Ge extends ri{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("visible")||this.isDirty("forceHidden")||this.isDirty("scale")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("lineJoin")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this._display.crisp=this.get("crisp",!1),this.isDirty("fillGradient")){const e=this.get("fillGradient");if(e){this._display.isMeasured=!0;const t=e.get("target");t&&(this._disposers.push(t.events.on("boundschanged",()=>{this._markDirtyKey("fill")})),this._disposers.push(t.events.on("positionchanged",()=>{this._markDirtyKey("fill")})))}}if(this.isDirty("strokeGradient")){const e=this.get("strokeGradient");if(e){this._display.isMeasured=!0;const t=e.get("target");t&&(this._disposers.push(t.events.on("boundschanged",()=>{this._markDirtyKey("stroke")})),this._disposers.push(t.events.on("positionchanged",()=>{this._markDirtyKey("stroke")})))}}}_changed(){if(super._changed(),this._clear){this.markDirtyBounds(),this.markDirtyLayer(),this._display.clear();let e=this.get("strokeDasharray");J(e)&&(e<.5?e=[0]:e=[e]),this._display.setLineDash(e);const t=this.get("strokeDashoffset");t&&this._display.setLineDashOffset(t);const r=this.get("blendMode",Qr.NORMAL);this._display.blendMode=r;const o=this.get("draw");o&&o(this._display,this);const u=this.get("svgPath");u!=null&&this._display.svgPath(u)}}_afterChanged(){if(super._afterChanged(),this._clear){const e=this.get("fill"),t=this.get("fillGradient"),r=this.get("fillPattern"),o=this.get("fillOpacity"),u=this.get("stroke"),f=this.get("strokeGradient"),m=this.get("strokePattern"),y=this.get("shadowColor"),D=this.get("shadowBlur"),T=this.get("shadowOffsetX"),C=this.get("shadowOffsetY"),M=this.get("shadowOpacity");if(y&&(D||T||C)&&this._display.shadow(y,D,T,C,M),e&&!t&&(this._display.beginFill(e,o),this._display.endFill()),t){if(e){const X=t.get("stops",[]);X.length&&K(X,O=>{(!O.color||O.colorInherited)&&e&&(O.color=e,O.colorInherited=!0),(O.opacity==null||O.opacityInherited)&&(O.opacity=o,O.opacityInherited=!0)})}const S=t.getFill(this);S&&(this._display.beginFill(S,o),this._display.endFill())}if(r){const S=r.pattern;S&&(this._display.beginFill(S,o),this._display.endFill(),r instanceof nr&&r.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}if(u||f||m){const S=this.get("strokeOpacity");let X=this.get("strokeWidth",1);this.get("nonScalingStroke")&&(X=X/this.get("scale",1)),this.get("crisp")&&(X/=this._root._renderer.resolution);const O=this.get("lineJoin");if(u&&!f&&(this._display.lineStyle(X,u,S,O),this._display.endStroke()),f){const z=f.get("stops",[]);z.length&&K(z,R=>{(!R.color||R.colorInherited)&&u&&(R.color=u,R.colorInherited=!0),(R.opacity==null||R.opacityInherited)&&(R.opacity=S,R.opacityInherited=!0)});const G=f.getFill(this);G&&(this._display.lineStyle(X,G,S,O),this._display.endStroke())}if(m){let z=m.pattern;z&&(this._display.lineStyle(X,z,S,O),this._display.endStroke(),m instanceof nr&&m.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}}this.getPrivate("showingTooltip")&&this.showTooltip()}this._clear=!1}}Object.defineProperty(Ge,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"});Object.defineProperty(Ge,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ri.classNames.concat([Ge.className])});class jt extends Ge{_afterNew(){super._afterNew(),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){this._display.drawRect(0,0,this.width(),this.height())}_updateSize(){this.markDirty(),this._clear=!0}}Object.defineProperty(jt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"});Object.defineProperty(jt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ge.classNames.concat([jt.className])});function Mi(n,e){n.get("reverseChildren",!1)?n.children.eachReverse(e):n.children.each(e)}class Oi extends pt{}Object.defineProperty(Oi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"});Object.defineProperty(Oi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pt.classNames.concat([Oi.className])});class Ps extends Oi{updateContainer(e){let t=e.get("paddingLeft",0),r=e.innerWidth(),o=0;Mi(e,f=>{if(f.isVisible()&&f.get("position")=="relative"){let m=f.get("width");if(m instanceof Be){o+=m.value;let y=r*m.value,D=f.get("minWidth",f.getPrivate("minWidth",-1/0));D>y&&(r-=D,o-=m.value);let T=f.get("maxWidth",f.getPrivate("maxWidth",1/0));y>T&&(r-=T,o-=m.value)}else J(m)||(m=f.width()),r-=m+f.get("marginLeft",0)+f.get("marginRight",0)}}),(r<=0||r==1/0)&&(r=.1),Mi(e,f=>{if(f.isVisible()&&f.get("position")=="relative"){let m=f.get("width");if(m instanceof Be){let y=r*m.value/o-f.get("marginLeft",0)-f.get("marginRight",0),D=f.get("minWidth",f.getPrivate("minWidth",-1/0)),T=f.get("maxWidth",f.getPrivate("maxWidth",1/0));y=Math.min(Math.max(D,y),T),f.setPrivate("width",y)}else f._prevSettings.width instanceof Be&&f.setPrivate("width",void 0)}});let u=t;Mi(e,f=>{if(f.get("position")=="relative")if(f.isVisible()){let m=f.adjustedLocalBounds(),y=f.get("marginLeft",0),D=f.get("marginRight",0),T=f.get("maxWidth"),C=m.left,M=m.right;T&&M-C>T&&(M=C+T);let S=u+y-C;f.setPrivate("x",S),u=S+M+D}else f.setPrivate("x",void 0)})}}Object.defineProperty(Ps,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"});Object.defineProperty(Ps,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Oi.classNames.concat([Ps.className])});class Fs extends Oi{updateContainer(e){let t=e.get("paddingTop",0),r=e.innerHeight(),o=0;Mi(e,f=>{if(f.isVisible()&&f.get("position")=="relative"){let m=f.get("height");if(m instanceof Be){o+=m.value;let y=r*m.value,D=f.get("minHeight",f.getPrivate("minHeight",-1/0));D>y&&(r-=D,o-=m.value);let T=f.get("maxHeight",f.getPrivate("maxHeight",1/0));y>T&&(r-=T,o-=m.value)}else J(m)||(m=f.height()),r-=m+f.get("marginTop",0)+f.get("marginBottom",0)}}),(r<=0||r==1/0)&&(r=.1),Mi(e,f=>{if(f.isVisible()&&f.get("position")=="relative"){let m=f.get("height");if(m instanceof Be){let y=r*m.value/o-f.get("marginTop",0)-f.get("marginBottom",0),D=f.get("minHeight",f.getPrivate("minHeight",-1/0)),T=f.get("maxHeight",f.getPrivate("maxHeight",1/0));y=Math.min(Math.max(D,y),T),f.setPrivate("height",y)}else f._prevSettings.height instanceof Be&&f.setPrivate("height",void 0)}});let u=t;Mi(e,f=>{if(f.get("position")=="relative")if(f.isVisible()){let m=f.adjustedLocalBounds(),y=f.get("marginTop",0),D=m.top,T=m.bottom,C=f.get("maxHeight");C&&T-D>C&&(T=D+C);let M=f.get("marginBottom",0),S=u+y-D;f.setPrivate("y",S),u=S+T+M}else f.setPrivate("y",void 0)})}}Object.defineProperty(Fs,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"});Object.defineProperty(Fs,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Oi.classNames.concat([Fs.className])});class ns extends Oi{_afterNew(){this._setRawDefault("maxColumns",Number.MAX_VALUE),super._afterNew()}updateContainer(e){let t=e.get("paddingLeft",0),r=e.get("paddingRight",0),o=e.get("paddingTop",0),u=e.maxWidth()-t-r,f=u,m=1;Mi(e,X=>{if(X.get("visible")&&X.getPrivate("visible")&&!X.get("forceHidden")&&X.get("position")!="absolute"){let O=X.width();O<f&&(f=O),O>m&&(m=O)}}),f=dt(f,1,u),m=dt(m,1,u);let y=1;this.get("fixedWidthGrid")?y=u/m:y=u/f,y=Math.max(1,Math.floor(y)),y=Math.min(this.get("maxColumns",Number.MAX_VALUE),y);let D=this.getColumnWidths(e,y,m,u),T=o,C=0,M=0;y=D.length;let S=t;Mi(e,X=>{if(X.get("position")=="relative"&&X.isVisible()){const O=X.get("marginTop",0),z=X.get("marginBottom",0);let G=X.adjustedLocalBounds(),R=X.get("marginLeft",0),U=X.get("marginRight",0),N=S+R-G.left,V=T+O-G.top;X.setPrivate("x",N),X.setPrivate("y",V),S+=D[C]+U,M=Math.max(M,X.height()+O+z),C++,C>=y&&(C=0,S=t,T+=M)}})}getColumnWidths(e,t,r,o){let u=0,f=[],m=0;return Mi(e,y=>{let D=y.adjustedLocalBounds();y.get("position")!="absolute"&&y.isVisible()&&(this.get("fixedWidthGrid")?f[m]=r:f[m]=Math.max(f[m]|0,D.right-D.left+y.get("marginLeft",0)+y.get("marginRight",0)),m<e.children.length-1&&(m++,m==t&&(m=0)))}),K(f,y=>{u+=y}),u>o?t>2?(t-=1,this.getColumnWidths(e,t,r,o)):[o]:f}}Object.defineProperty(ns,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"});Object.defineProperty(ns,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Oi.classNames.concat([ns.className])});class ei{static escape(e){return e.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}static unescape(e){return e.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}static cleanUp(e){return e.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}static chunk(e,t=!1,r=!1){let o=[];e=this.escape(e);let u=t?e.split("'"):[e];for(let f=0;f<u.length;f++){let m=u[f];if(m!=="")if(f%2===0){m=m.replace(/\]\[/g,"]"+Vi+"["),m=m.replace(/\[\]/g,"[ ]");let y=m.split(/[\[\]]+/);for(let D=0;D<y.length;D++){let T=this.cleanUp(this.unescape(y[D]));T!==Vi&&T!==""&&(D%2===0?o.push({type:"value",text:T}):o.push({type:r?"value":"format",text:"["+T+"]"}))}}else{let y=m.split(/[\[\]]+/);for(let D=0;D<y.length;D++){let T=this.cleanUp(this.unescape(y[D]));T!==""&&(D%2===0?o.push({type:"text",text:T}):this.isImage(T)?o.push({type:"image",text:"["+T+"]"}):o.push({type:"format",text:"["+T+"]"}))}}}return o}static isImage(e){return!!e.match(/img[ ]?:/)}static getTextStyle(e){let t={};if(e==""||e=="[ ]")return{};const r=e.match(/('[^']*')|("[^"]*")/gi);if(r)for(let u=0;u<r.length;u++)e=e.replace(r[u],r[u].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));let o=e.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);if(!o)return{};for(let u=0;u<o.length;u++)if(o[u].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))t.fontWeight=o[u];else if(o[u].match(/^(underline|line-through)$/i))t.textDecoration=o[u];else if(o[u]!="/")if(!o[u].match(/:/))t.fill=ve.fromString(o[u]);else{const f=o[u].replace("+"," ").split(/:[ ]*/);t[f[0]]=f[1]}return t}}Object.defineProperty(ei,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"});function ea(n,e){if(e!=null){e=""+e,e=ei.escape(e);let t=e.match(/\{([^}]+)\}/g),r;if(t)for(r=0;r<t.length;r++){let o=t[r].replace(/\{([^}]+)\}/,"$1"),u=wn(n,o);u==null&&(u=""),e=e.split(t[r]).join(u)}e=ei.unescape(e)}else e="";return e}function wn(n,e,t){let r;const o=n.dataItem;let u=[],f=/(format[a-zA-Z]*)\((.*)\)|([^.]+)/g,m;for(;m=f.exec(e),m!==null;)if(m[3]){u.push({prop:m[3]});const y=n.getDateFormatter().get("dateFields",[]),D=n.getNumberFormatter().get("numericFields",[]),T=n.getDurationFormatter().get("durationFields",[]);y.indexOf(m[3])!==-1?u.push({method:"formatDate",params:[]}):D.indexOf(m[3])!==-1?u.push({method:"formatNumber",params:[]}):T.indexOf(m[3])!==-1&&u.push({method:"formatDuration",params:[]})}else{let y=[];if(Cs(m[2])!=""){let D=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,T;for(;T=D.exec(m[2]),T!==null;)y.push(T[1]||T[2]||T[3])}u.push({method:m[1],params:y})}if(o){r=Qi(n,u,o._settings),(r==null||yr(r))&&(r=Qi(n,u,o));let y=o.dataContext;r==null&&y&&(r=Qi(n,u,y),r==null&&(r=Qi(n,[{prop:e}],y)),r==null&&y.dataContext&&(r=Qi(n,u,y.dataContext))),r==null&&o.component&&o.component.dataItem!==o&&(r=wn(o.component,e))}return r==null&&(r=Qi(n,u,n)),r==null&&n.parent&&(r=wn(n.parent,e)),r}function Rp(n,e){const t=n.getPrivate("customData");if(yr(t))return t[e]}function Qi(n,e,t,r){let o=t,u=!1;for(let f=0,m=e.length;f<m;f++){let y=e[f];if(y.prop){if(o instanceof ri){let D=o.get(y.prop);D==null&&(D=o.getPrivate(y.prop)),D==null&&(D=Rp(o,y.prop)),D==null&&(D=o[y.prop]),o=D}else if(o.get){let D=o.get(y.prop);D==null&&(D=o[y.prop]),o=D}else o=o[y.prop];if(o==null)return}else switch(y.method){case"formatNumber":let D=Bt(o);D!=null&&(o=n.getNumberFormatter().format(D,r||y.params[0]||void 0),u=!0);break;case"formatDate":let T=Ng(o);if(!dn(T)||pi(T.getTime()))return;T!=null&&(o=n.getDateFormatter().format(T,r||y.params[0]||void 0),u=!0);break;case"formatDuration":let C=Bt(o);C!=null&&(o=n.getDurationFormatter().format(C,r||y.params[0]||void 0,y.params[1]||void 0),u=!0);break;case"urlEncode":case"encodeURIComponent":o=encodeURIComponent(o);break;default:o[y.method]&&o[y.method].apply(t,y.params);break}}if(!u){let f=[{method:"",params:r}];if(r==null)J(o)?(f[0].method="formatNumber",f[0].params=""):dn(o)&&(f[0].method="formatDate",f[0].params="");else{let m=up(r);m==="number"?f[0].method="formatNumber":m==="date"?f[0].method="formatDate":m==="duration"&&(f[0].method="formatDuration")}f[0].method&&(o=Qi(n,f,o))}return o}class ke extends ri{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:new Dp(this)}),Object.defineProperty(this,"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this._display.addChild(this._childrenDisplay)}_dispose(){$s(this.allChildren(),e=>{e.dispose()}),this.getPrivate("htmlElement")&&this._root._removeHTMLContent(this),super._dispose()}_changed(){if(super._changed(),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each(e=>{e.removePrivate("x"),e.removePrivate("y")})),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each(e=>{e.markDirtyPosition()}),this.isDirty("maskContent")){const e=this._childrenDisplay;let t=this._contentMask;this.get("maskContent")?t||(t=jt.new(this._root,{x:-.5,y:-.5,width:this.width()+1,height:this.height()+1}),this._contentMask=t,e.addChildAt(t._display,0),e.mask=t._display):t&&(e.removeChild(t._display),e.mask=null,t.dispose(),this._contentMask=void 0)}}_updateSize(){super._updateSize(),K(this._percentageSizeChildren,e=>{e._updateSize()}),K(this._percentagePositionChildren,e=>{e.markDirtyPosition(),e._updateSize()}),this.updateBackground()}updateBackground(){const e=this.get("background");let t=this._localBounds;if(t&&!this.isHidden()){let r=t.left,o=t.top,u=t.right-r,f=t.bottom-o,m=this.get("maxWidth"),y=this.get("maxHeight");y&&f>y&&(f=y),m&&u>m&&(u=m);let D=this.width(),T=this.height();e&&(e.setAll({width:u,height:f,x:r,y:o}),this._display.interactive&&(e._display.interactive=!0));const C=this._contentMask;C&&C.setAll({width:D+1,height:T+1});const M=this.get("verticalScrollbar");if(M){M.set("height",T),M.set("x",D-M.width()-M.get("marginRight",0)),M.set("end",M.get("start",0)+T/this._contentHeight);const S=M.get("background");S&&S.setAll({width:M.width(),height:T});let X=!0;this._contentHeight<=T&&(X=!1),M.setPrivate("visible",X)}}}_applyThemes(e=!1){return super._applyThemes(e)?(this.eachChildren(t=>{t._applyThemes(e)}),!0):!1}_applyState(e){super._applyState(e),this.get("setStateOnChildren")&&this.eachChildren(t=>{t.states.apply(e)})}_applyStateAnimated(e,t){super._applyStateAnimated(e,t),this.get("setStateOnChildren")&&this.eachChildren(r=>{r.states.applyAnimate(e,t)})}innerWidth(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}innerHeight(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}_getBounds(){let e=this.get("width"),t=this.get("height"),r=this.getPrivate("width"),o=this.getPrivate("height"),u={left:0,top:0,right:this.width(),bottom:this.height()},f=this.get("layout"),m=!1,y=!1;if((f instanceof Ps||f instanceof ns)&&(m=!0),f instanceof Fs&&(y=!0),!((e!=null||r!=null)&&(t!=null||o!=null)&&!this.get("verticalScrollbar"))){let D=Number.MAX_VALUE,T=D,C=-D,M=D,S=-D;const X=this.get("paddingLeft",0),O=this.get("paddingTop",0),z=this.get("paddingRight",0),G=this.get("paddingBottom",0);this.children.each(N=>{if(N.get("position")!="absolute"&&N.get("isMeasured")){let V=N.adjustedLocalBounds(),se=N.x(),re=N.y(),ee=se+V.left,oe=se+V.right,xe=re+V.top,me=re+V.bottom;m&&(ee-=N.get("marginLeft",0),oe+=N.get("marginRight",0)),y&&(xe-=N.get("marginTop",0),me+=N.get("marginBottom",0)),ee<T&&(T=ee),oe>C&&(C=oe),xe<M&&(M=xe),me>S&&(S=me)}}),T==D&&(T=0),C==-D&&(C=0),M==D&&(M=0),S==-D&&(S=0),u.left=T-X,u.top=M-O,u.right=C+z,u.bottom=S+G;const R=this.get("minWidth");J(R)&&R>0&&u.right-u.left<R&&(u.right>=R?u.left=u.right-R:u.right=u.left+R);const U=this.get("minHeight");J(U)&&U>0&&u.bottom-u.top<U&&(u.bottom>=U?u.top=u.bottom-U:u.bottom=u.top+U)}this._contentWidth=u.right-u.left,this._contentHeight=u.bottom-u.top,J(e)&&(u.left=0,u.right=e),J(r)&&(u.left=0,u.right=r),J(t)&&(u.top=0,u.bottom=t),J(o)&&(u.top=0,u.bottom=o),this._localBounds=u}_updateBounds(){const e=this.get("layout");e&&e.updateContainer(this),super._updateBounds(),this.updateBackground()}markDirty(){super.markDirty(),this._root._addDirtyParent(this)}_prepareChildren(){const e=this.innerWidth(),t=this.innerHeight();if(e!=this._prevWidth||t!=this._prevHeight){let r=this.get("layout"),o=!1,u=!1;r&&((r instanceof Ps||r instanceof ns)&&(o=!0),r instanceof Fs&&(u=!0)),K(this._percentageSizeChildren,f=>{if(!o){let m=f.get("width");m instanceof Be&&f.setPrivate("width",m.value*e)}if(!u){let m=f.get("height");m instanceof Be&&f.setPrivate("height",m.value*t)}}),K(this._percentagePositionChildren,f=>{f.markDirtyPosition(),f.markDirtyBounds()}),this._prevWidth=e,this._prevHeight=t,this._sizeDirty=!0,this.updateBackground()}this._handleStates()}_updateChildren(){if(this.isDirty("html")){const e=this.get("html");e&&e!==""?this._root._setHTMLContent(this,ea(this,this.get("html",""))):this._root._removeHTMLContent(this),this._root._positionHTMLElement(this)}if(this.isDirty("verticalScrollbar")){const e=this.get("verticalScrollbar");if(e){e._setParent(this),e.startGrip.setPrivate("visible",!1),e.endGrip.setPrivate("visible",!1),this.set("maskContent",!0),this.set("paddingRight",e.width()+e.get("marginRight",0)+e.get("marginLeft",0));let t=this.get("background");t||(t=this.set("background",jt.new(this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._vsbd0=this.events.on("wheel",r=>{const o=r.originalEvent;if(Kn(o,this))o.preventDefault();else return;let u=o.deltaY/5e3;const f=e.get("start",0),m=e.get("end",1);f+u<=0&&(u=-f),m+u>=1&&(u=1-m),f+u>=0&&m+u<=1&&(e.set("start",f+u),e.set("end",m+u))}),this._disposers.push(this._vsbd0),this._vsbd1=e.events.on("rangechanged",()=>{let r=this._contentHeight;const o=this._childrenDisplay,u=this._contentMask;o.y=-e.get("start",0)*r,o.markDirtyLayer(),u&&(u._display.y=-o.y,o.mask=u._display)}),this._disposers.push(this._vsbd1),this._display.addChild(e._display)}else{const t=this._prevSettings.verticalScrollbar;if(t){this._display.removeChild(t._display),this._vsbd0&&this._vsbd0.dispose(),this._vsbd1&&this._vsbd1.dispose();const r=this._childrenDisplay;r.y=0,this.setPrivate("height",void 0),this.set("maskContent",!1),this.set("paddingRight",void 0)}}}if(this.isDirty("background")){const e=this._prevSettings.background;e&&this._display.removeChild(e._display);const t=this.get("background");t instanceof ri&&(t.set("isMeasured",!1),t._setParent(this),this._display.addChildAt(t._display,0))}if(this.isDirty("mask")){const e=this.get("mask"),t=this._prevSettings.mask;if(t&&(this._display.removeChild(t._display),t!=e&&t.dispose()),e){const r=e.parent;r&&r.children.removeValue(e),e._setParent(this),this._display.addChildAt(e._display,0),this._childrenDisplay.mask=e._display}}}_processTemplateField(){super._processTemplateField(),this.children.each(e=>{e._processTemplateField()})}walkChildren(e){this.children.each(t=>{t instanceof ke&&t.walkChildren(e),e(t)})}eachChildren(e){const t=this.get("background");t&&e(t);const r=this.get("verticalScrollbar");r&&e(r);const o=this.get("mask");o&&e(o),this.children.values.forEach(u=>{e(u)})}allChildren(){const e=[];return this.eachChildren(t=>{e.push(t)}),e}_setDataItem(e){const t=e!==this._dataItem;super._setDataItem(e);const r=this.get("html","");r&&r!==""&&t&&this._root._setHTMLContent(this,ea(this,r))}}Object.defineProperty(ke,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"});Object.defineProperty(ke,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ri.classNames.concat([ke.className])});class or extends ri{constructor(){super(...arguments),Object.defineProperty(this,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeTextStyle()}),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeText("",this.textStyle)}),Object.defineProperty(this,"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","maxChars"]}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_updateBounds(){if(this.get("text"))super._updateBounds();else{let e={left:0,right:0,top:0,bottom:0};this._adjustedLocalBounds=e}}_changed(){super._changed(),this._display.clear();let e=this.textStyle;if(this.isDirty("opacity")){let t=this.get("opacity",1);this._display.alpha=t}if((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),this.get("role")=="tooltip"&&this._root.updateTooltip(this)),this.isPrivateDirty("tooltipElement")&&this.getPrivate("tooltipElement")&&this._disposers.push(new ft(()=>{this._root._removeTooltipElement(this)})),this.isDirty("width")&&(e.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(e.oversizedBehavior=this.get("oversizedBehavior","none"),this.markDirtyBounds()),this.isDirty("breakWords")&&(e.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(e.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(e.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(e.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")){let t=this.get("fill");t&&(e.fill=t)}if(this.isDirty("fillOpacity")){let t=this.get("fillOpacity",1);t&&(e.fillOpacity=t)}(this.isDirty("maxWidth")||this.isPrivateDirty("maxWidth"))&&(e.maxWidth=this.get("maxWidth",this.getPrivate("maxWidth")),this.markDirtyBounds()),(this.isDirty("maxHeight")||this.isPrivateDirty("maxHeight"))&&(e.maxHeight=this.get("maxHeight",this.getPrivate("maxHeight")),this.markDirtyBounds()),K(this._textStyles,t=>{this._dirty[t]&&(e[t]=this.get(t),this.markDirtyBounds())}),e.fontSize=this.get("fontSize"),e.fontFamily=this.get("fontFamily"),this._display.style=e,this.isDirty("role")&&this.get("role")=="tooltip"&&this._root.updateTooltip(this)}_getText(){let e=this.get("text","");return this.get("maxChars")&&(e=hp(e,this.get("maxChars",1e8),this.get("breakWords"),this.get("ellipsis"))),this.get("populateText")?ea(this,e):e}markDirtyText(){this._display.text=this._getText(),this.get("role")=="tooltip"&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}_setDataItem(e){super._setDataItem(e),this.get("populateText")&&this.markDirtyText()}getNumberFormatter(){return this.parent?this.parent.getNumberFormatter():super.getNumberFormatter()}getDateFormatter(){return this.parent?this.parent.getDateFormatter():super.getDateFormatter()}getDurationFormatter(){return this.parent?this.parent.getDurationFormatter():super.getDurationFormatter()}}Object.defineProperty(or,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"});Object.defineProperty(or,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ri.classNames.concat([or.className])});class Yp{constructor(){Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver(e=>{K(e,t=>{K(this._targets,r=>{r.target===t.target&&r.callback()})})})}addTarget(e,t){this._observer.observe(e,{box:"border-box"}),this._targets.push({target:e,callback:t})}removeTarget(e){this._observer.unobserve(e),Sa(this._targets,t=>t.target!==e)}}class Fa{constructor(){Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}addTarget(e,t){if(this._timer===null){let o=null;const u=()=>{const f=Date.now();(o===null||f>o+Fa.delay)&&(o=f,K(this._targets,m=>{let y=m.target.getBoundingClientRect();(y.width!==m.size.width||y.height!==m.size.height)&&(m.size=y,m.callback())})),this._targets.length===0?this._timer=null:this._timer=requestAnimationFrame(u)};this._timer=requestAnimationFrame(u)}let r={width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0};this._targets.push({target:e,callback:t,size:r})}removeTarget(e){Sa(this._targets,t=>t.target!==e),this._targets.length===0&&this._timer!==null&&(cancelAnimationFrame(this._timer),this._timer=null)}}Object.defineProperty(Fa,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200});let Rr=null;function jp(){return Rr===null&&(typeof ResizeObserver<"u"?Rr=new Yp:Rr=new Fa),Rr}class zp{constructor(e,t){Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=jp(),this._element=e,this._listener=ql(t),this._sensor.addTarget(e,t)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}get sensor(){return this._sensor}}class ta extends pt{}Object.defineProperty(ta,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"});Object.defineProperty(ta,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pt.classNames.concat([ta.className])});class ai extends ke{constructor(){super(...arguments),Object.defineProperty(this,"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","fillOpacity","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting","maxChars"]})}get text(){return this._text}_afterNew(){super._afterNew(),this._makeText(),K(this._textKeys,e=>{const t=this.get(e);t!=null&&this._text.set(e,t)}),this.get("html","")!==""&&this._text.set("text",""),this.onPrivate("maxWidth",()=>{this._setMaxDimentions()}),this.onPrivate("maxHeight",()=>{this._setMaxDimentions()})}_makeText(){this._text=this.children.push(or.new(this._root,{}))}_updateChildren(){if(super._updateChildren(),K(this._textKeys,e=>{this._text.set(e,this.get(e))}),this.isDirty("maxWidth")&&this._setMaxDimentions(),this.isDirty("maxHeight")&&this._setMaxDimentions(),this.isDirty("rotation")&&this._setMaxDimentions(),this.get("html","")!==""?this._text.set("text",""):(this._text.set("text",this.get("text")),this._maybeUpdateHTMLColor()),this.isDirty("fill")&&this._maybeUpdateHTMLColor(),this.isDirty("textAlign")||this.isDirty("width")){const e=this.get("textAlign");let t;this.get("width")!=null?e=="right"?t=fe:e=="center"?t=Ie:t=0:e=="left"||e=="start"?t=this.get("paddingLeft"):(e=="right"||e=="end")&&(t=-this.get("paddingRight")),this.text.set("x",t)}}_maybeUpdateHTMLColor(){const e=this.getPrivate("htmlElement");e&&this.get("fill")&&(e.style.color=this.get("fill").toCSSHex())}_setMaxDimentions(){const e=this.get("rotation"),t=e==90||e==270||e==-90,r=this.get("maxWidth",this.getPrivate("maxWidth",1/0));J(r)?this.text.set(t?"maxHeight":"maxWidth",r-this.get("paddingLeft",0)-this.get("paddingRight",0)):this.text.set(t?"maxHeight":"maxWidth",void 0);const o=this.get("maxHeight",this.getPrivate("maxHeight",1/0));J(o)?this.text.set(t?"maxWidth":"maxHeight",o-this.get("paddingTop",0)-this.get("paddingBottom",0)):this.text.set(t?"maxWidth":"maxHeight",void 0)}_setDataItem(e){super._setDataItem(e),this._markDirtyKey("text"),this.text.get("populateText")&&this.text.markDirtyText()}getText(){return this._text._getText()}}Object.defineProperty(ai,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"});Object.defineProperty(ai,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ke.classNames.concat([ai.className])});class As extends Ge{_beforeChanged(){super._beforeChanged(),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){this.markDirtyBounds();let e=this.width(),t=this.height();if(e>0&&t>0){let r=this.get("cornerRadius",8);r=dt(r,0,Math.min(e/2,t/2));let o=this.get("pointerX",0),u=this.get("pointerY",0),f=this.get("pointerBaseWidth",15)/2,m=0,y=0,D=e,T=0,C=e,M=t,S=0,X=t,O=(o-m)*(M-y)-(u-y)*(C-m),z=(o-S)*(T-X)-(u-X)*(D-S);const G=this._display;if(G.moveTo(r,0),O>0&&z>0){let R=Math.round(dt(o,r+f,e-f-r));u=dt(u,-1/0,0),G.lineTo(R-f,0),G.lineTo(o,u),G.lineTo(R+f,0)}if(G.lineTo(e-r,0),G.arcTo(e,0,e,r,r),O>0&&z<0){let R=Math.round(dt(u,r+f,t-f-r));o=dt(o,e,1/0),G.lineTo(e,r),G.lineTo(e,Math.max(R-f,r)),G.lineTo(o,u),G.lineTo(e,R+f)}if(G.lineTo(e,t-r),G.arcTo(e,t,e-r,t,r),O<0&&z<0){let R=Math.round(dt(o,r+f,e-f-r));u=dt(u,t,1/0),G.lineTo(e-r,t),G.lineTo(R+f,t),G.lineTo(o,u),G.lineTo(R-f,t)}if(G.lineTo(r,t),G.arcTo(0,t,0,t-r,r),O<0&&z>0){let R=Math.round(dt(u,r+f,t-r-f));o=dt(o,-1/0,0),G.lineTo(0,t-r),G.lineTo(0,R+f),G.lineTo(o,u),G.lineTo(0,Math.max(R-f,r))}G.lineTo(0,r),G.arcTo(0,0,r,0,r),G.closePath()}}}}Object.defineProperty(As,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"});Object.defineProperty(As,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ge.classNames.concat([As.className])});class os extends ke{constructor(e,t,r,o=[]){super(e,t,r,o),Object.defineProperty(this,"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_keepHoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlContentHovered",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._settings.themeTags=tt(this._settings.themeTags,["tooltip"]),super._afterNew(),this.set("background",As.new(this._root,{themeTags:["tooltip","background"]})),this._label=this.children.push(ai.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",()=>{this._updateBackground()})),this._disposers.push(this.on("bounds",()=>{this._updateBackground()})),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._disposers.push(this.label.onPrivate("htmlElement",e=>{e&&(rt(e,"pointerover",t=>{this._htmlContentHovered=!0}),rt(e,"pointerout",t=>{this._htmlContentHovered=!1}))})),this._root._tooltips.push(this)}get label(){return this._label}dispose(){super.dispose(),Gt(this._root._tooltips,this)}_updateChildren(){super._updateChildren(),(this.isDirty("pointerOrientation")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&this.get("background")._markDirtyKey("width"),this.get("labelText")!=null&&this.label.set("text",this.get("labelText")),this.get("labelHTML")!=null&&this.label.set("html",this.get("labelHTML"))}_changed(){if(super._changed(),(this.isDirty("pointTo")||this.isDirty("pointerOrientation"))&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover"))if(this.get("keepTargetHover")){const t=this.get("background");this._keepHoverDp=new Rt([t.events.on("pointerover",r=>{let o=this.get("tooltipTarget");o&&(o.parent&&o.parent.getPrivate("tooltipTarget")==o&&(o=o.parent),o.hover())}),t.events.on("pointerout",r=>{let o=this.get("tooltipTarget");o&&(o.parent&&o.parent.getPrivate("tooltipTarget")==o&&(o=o.parent),this._htmlContentHovered||o.unhover())})]),this.label.onPrivate("htmlElement",r=>{this._keepHoverDp&&r&&this._keepHoverDp.disposers.push(rt(r,"pointerleave",o=>{const u=this.root._renderer.getEvent(o);t.events.dispatch("pointerout",{type:"pointerout",originalEvent:u.event,point:u.point,simulated:!1,target:t})}))})}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}_onShow(){super._onShow(),this.updateBackgroundColor()}updateBackgroundColor(){let e=this.get("tooltipTarget");const t=this.get("background");let r,o;e&&t&&(r=e.get("fill"),o=e.get("stroke"),r==null&&(r=o),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),r!=null&&t.set("fill",r),this._fillDp=e.on("fill",u=>{u!=null&&(t.set("fill",u),this._updateTextColor(u))}),this._disposers.push(this._fillDp)),this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),r!=null&&t.set("stroke",r),this._strokeDp=e.on("fill",u=>{u!=null&&t.set("stroke",u)}),this._disposers.push(this._strokeDp)),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),r!=null&&this.label.set("fill",r),this._labelDp=e.on("fill",u=>{u!=null&&this.label.set("fill",u)}),this._disposers.push(this._labelDp))),this._updateTextColor(r)}_updateTextColor(e){this.get("autoTextColor")&&(e==null&&(e=this.get("background").get("fill")),e==null&&(e=this._root.interfaceColors.get("background")),e instanceof ve&&this.label.set("fill",ve.alternative(e,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}_setDataItem(e){super._setDataItem(e),this.label._setDataItem(e)}_updateBackground(){super.updateBackground();const e=this._root.container;if(e){let t=.5,r=.5,o=this.get("centerX");o instanceof Be&&(t=o.value);let u=this.get("centerY");u instanceof Be&&(r=u.value);let f=e.width(),m=e.height(),y=this.parent,D=0,T=0;if(y){D=y.x(),T=y.y();const me=y.get("layerMargin");me&&(D+=me.left||0,T+=me.top||0,f+=(me.left||0)+(me.right||0),m+=(me.top||0)+(me.bottom||0))}const C=this.get("bounds",{left:-D,top:-T,right:f-D,bottom:m-T});this._updateBounds();let M=this.width(),S=this.height();M===0&&(M=this._w),S===0&&(S=this._h);let X=this.get("pointTo",{x:f/2,y:m/2}),O=X.x,z=X.y,G=this.get("pointerOrientation"),R=this.get("background"),U=0,N=0,V=0;R instanceof As&&(U=R.get("pointerLength",0),N=R.get("strokeWidth",0)/2,V=N,R.set("width",M),R.set("height",S));let se=0,re=0,ee=C.right-C.left,oe=C.bottom-C.top;G=="horizontal"||G=="left"||G=="right"?(N=0,G=="horizontal"?O>C.left+ee/2?(O-=M*(1-t)+U,V*=-1):O+=M*t+U:G=="left"?O+=M*(1-t)+U:(O-=M*t+U,V*=-1)):(V=0,G=="vertical"?z>C.top+S/2+U?z-=S*(1-r)+U:(z+=S*r+U,N*=-1):G=="down"?z-=S*(1-r)+U:(z+=S*r+U,N*=-1)),O=dt(O,C.left+M*t,C.left+ee-M*(1-t))+V,z=dt(z,C.top+S*r,C.top+oe-S*(1-r))-N,se=X.x-O+M*t+V,re=X.y-z+S*r-N,this._fx=O,this._fy=z;const xe=this.get("animationDuration",0);if(xe>0&&this.get("visible")&&this.get("opacity")>.1){const me=this.get("animationEasing");this.animate({key:"x",to:O,duration:xe,easing:me}),this.animate({key:"y",to:z,duration:xe,easing:me})}else this.set("x",O),this.set("y",z);R instanceof As&&(R.set("pointerX",se),R.set("pointerY",re)),M>0&&(this._w=M),S>0&&(this._h=S)}}}Object.defineProperty(os,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"});Object.defineProperty(os,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ke.classNames.concat([os.className])});class Xp extends pt{_setDefaults(){this._setDefault("negativeBase",0),this._setDefault("numberFormat","#,###.#####"),this._setDefault("smallNumberThreshold",1);const e="_big_number_suffix_",t="_small_number_suffix_",r="_byte_suffix_";this._setDefault("bigNumberPrefixes",[{number:1e3,suffix:this._t(e+"3")},{number:1e6,suffix:this._t(e+"6")},{number:1e9,suffix:this._t(e+"9")},{number:1e12,suffix:this._t(e+"12")},{number:1e15,suffix:this._t(e+"15")},{number:1e18,suffix:this._t(e+"18")},{number:1e21,suffix:this._t(e+"21")},{number:1e24,suffix:this._t(e+"24")}]),this._setDefault("smallNumberPrefixes",[{number:1e-24,suffix:this._t(t+"24")},{number:1e-21,suffix:this._t(t+"21")},{number:1e-18,suffix:this._t(t+"18")},{number:1e-15,suffix:this._t(t+"15")},{number:1e-12,suffix:this._t(t+"12")},{number:1e-9,suffix:this._t(t+"9")},{number:1e-6,suffix:this._t(t+"6")},{number:.001,suffix:this._t(t+"3")}]),this._setDefault("bytePrefixes",[{number:1,suffix:this._t(r+"B")},{number:1024,suffix:this._t(r+"KB")},{number:1048576,suffix:this._t(r+"MB")},{number:1073741824,suffix:this._t(r+"GB")},{number:1099511627776,suffix:this._t(r+"TB")},{number:0x4000000000000,suffix:this._t(r+"PB")}]),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,t,r){(t==null||Ss(t)&&t.toLowerCase()==="number")&&(t=this.get("numberFormat",""));let o,u=Number(e);if(yr(t))try{return this.get("intlLocales")?new Intl.NumberFormat(this.get("intlLocales"),t).format(u):new Intl.NumberFormat(void 0,t).format(u)}catch{return"Invalid"}else{t=Jn(t);let f=this.parseFormat(t,this._root.language),m;u>this.get("negativeBase")?m=f.positive:u<this.get("negativeBase")?m=f.negative:m=f.zero,r!=null&&!m.mod&&(m=is(m),m.decimals.active=u==0?0:r),o=m.template.split(Vi).join(this.applyFormat(u,m))}return this.get("forceLTR")===!0&&(o=""+o),o}parseFormat(e,t){const r=t.translateEmpty("_thousandSeparator"),o=t.translateEmpty("_decimalSeparator");let u={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:r},decimals:{active:-1,passive:-1,separator:o},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:r},decimals:{active:-1,passive:-1,separator:o},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:r},decimals:{active:-1,passive:-1,separator:o},template:"",source:"",parsed:!1}};e=e.replace("||",ws);let f=e.split("|");return u.positive.source=f[0],typeof f[2]>"u"?u.zero=u.positive:u.zero.source=f[2],typeof f[1]>"u"?u.negative=u.positive:u.negative.source=f[1],Ue(u,(m,y)=>{if(y.parsed)return;let D=y.source;D.toLowerCase()==="number"&&(D=this.get("numberFormat","#,###.#####"));let T=ei.chunk(D,!0);for(let C=0;C<T.length;C++){let M=T[C];if(M.text=M.text.replace(ws,"|"),M.type==="value"){let S=M.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP!]?/);if(S)if(S===null||S[0]==="")y.template+=M.text;else{let X=S[0].match(/[abespABESP%!]{2}|[abespABESP%]{1}$/);X&&(y.mod=X[0].toLowerCase(),y.modSpacing=!!S[0].match(/[ ]{1}[abespABESP%!]{1}$/));let O=S[0].split(".");if(O[0]!==""){y.thousands.active=(O[0].match(/0/g)||[]).length,y.thousands.passive=(O[0].match(/\#/g)||[]).length+y.thousands.active;let z=O[0].split(",");z.length===1||(y.thousands.interval=(z.pop()||"").length,y.thousands.interval===0&&(y.thousands.interval=-1))}typeof O[1]>"u"||(y.decimals.active=(O[1].match(/0/g)||[]).length,y.decimals.passive=(O[1].match(/\#/g)||[]).length+y.decimals.active),y.template+=M.text.split(S[0]).join(Vi)}}else y.template+=M.text}y.parsed=!0}),u}applyFormat(e,t){let r=e<0;e=Math.abs(e);let o="",u="",f=t.mod?t.mod.split(""):[];if(f.indexOf("b")!==-1){let C=this.applyPrefix(e,this.get("bytePrefixes"),f.indexOf("!")!==-1);e=C[0],o=C[1],u=C[2],t.modSpacing&&(u=" "+u)}else if(f.indexOf("a")!==-1){let C=this.applyPrefix(e,e<this.get("smallNumberThreshold")?this.get("smallNumberPrefixes"):this.get("bigNumberPrefixes"),f.indexOf("!")!==-1);e=C[0],o=C[1],u=C[2],t.modSpacing&&(u=" "+u)}else if(f.indexOf("p")!==-1){let C=Math.min(e.toString().length+2,21);e=parseFloat(e.toPrecision(C)),o=this._root.language.translate("_percentPrefix"),u=this._root.language.translate("_percentSuffix"),o==""&&u==""&&(u="%")}else if(f.indexOf("%")!==-1){let C=Math.min(e.toString().length+2,21);e*=100,e=parseFloat(e.toPrecision(C)),u="%"}else if(f.indexOf("")!==-1){let C=Math.min(e.toString().length+3,21);e*=1e3,e=parseFloat(e.toPrecision(C)),u=""}if(f.indexOf("e")!==-1){let C;t.decimals.passive>=0?C=e.toExponential(t.decimals.passive).split("e"):C=e.toExponential().split("e"),e=Number(C[0]),u="e"+C[1],t.modSpacing&&(u=" "+u)}else if(t.decimals.passive===0)e=Math.round(e);else if(t.decimals.passive>0){let C=Math.pow(10,t.decimals.passive);e=Math.round(e*C)/C}let m="",y=Wg(e).split("."),D=y[0];if(D.length<t.thousands.active&&(D=Array(t.thousands.active-D.length+1).join("0")+D),t.thousands.interval>0){let C=[],M=D.split("").reverse().join("");for(let S=0,X=D.length;S<=X;S+=t.thousands.interval){let O=M.substr(S,t.thousands.interval).split("").reverse().join("");O!==""&&C.unshift(O)}D=C.join(t.thousands.separator)}m+=D,y.length===1&&y.push("");let T=y[1];return T.length<t.decimals.active&&(T+=Array(t.decimals.active-T.length+1).join("0")),T!==""&&(m+=t.decimals.separator+T),m===""&&(m="0"),e!==0&&r&&f.indexOf("s")===-1&&(m="-"+m),o&&(m=o+m),u&&(m+=u),m}applyPrefix(e,t,r=!1){let o=e,u="",f="",m=!1,y=1;for(let D=0,T=t.length;D<T;D++)t[D].number<=e&&(t[D].number===0?o=0:(o=e/t[D].number,y=t[D].number),u=t[D].prefix,f=t[D].suffix,m=!0);return!m&&r&&t.length&&e!=0&&(o=e/t[0].number,u=t[0].prefix,f=t[0].suffix,m=!0),m&&(o=parseFloat(o.toPrecision(Math.min(y.toString().length+Math.floor(o).toString().replace(/[^0-9]*/g,"").length,21)))),[o,u,f]}escape(e){return e.replace("||",ws)}unescape(e){return e.replace(ws,"|")}}function rh(n,e){let t=0,r=0,o=1,u=0,f=0,m=0,y=0,D=0;return n.formatToParts(e).forEach(T=>{switch(T.type){case"year":t=+T.value;break;case"month":r=+T.value-1;break;case"day":o=+T.value;break;case"hour":u=+T.value;break;case"minute":f=+T.value;break;case"second":m=+T.value;break;case"fractionalSecond":y=+T.value;break;case"weekday":switch(T.value){case"Sun":D=0;break;case"Mon":D=1;break;case"Tue":D=2;break;case"Wed":D=3;break;case"Thu":D=4;break;case"Fri":D=5;break;case"Sat":D=6;break}}}),u===24&&(u=0),{year:t,month:r,day:o,hour:u,minute:f,second:m,millisecond:y,weekday:D}}function Fo(n,e){const{year:t,month:r,day:o,hour:u,minute:f,second:m,millisecond:y}=rh(n,e);return Date.UTC(t,r,o,u,f,m,y)}class Hp{constructor(e,t){if(Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!t)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=e,this._utc=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("UTC",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}static new(e){return new this(e,!0)}convertLocal(e){const t=this.offsetUTC(e),r=e.getTimezoneOffset(),o=new Date(e);o.setUTCMinutes(o.getUTCMinutes()-(t-r));const u=o.getTimezoneOffset();return r!=u&&o.setUTCMinutes(o.getUTCMinutes()+u-r),o}offsetUTC(e){const t=Fo(this._utc,e),r=Fo(this._dtf,e);return(t-r)/6e4}parseDate(e){return rh(this._dtf,e)}}class Np extends pt{_setDefaults(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,t){(typeof t>"u"||t==="")&&(t=this.get("dateFormat","yyyy-MM-dd"));let r,o=e;if(yr(t))try{const m=this.get("intlLocales");return m?new Intl.DateTimeFormat(m,t).format(o):new Intl.DateTimeFormat(void 0,t).format(o)}catch{return"Invalid"}let u=this.parseFormat(t);const f=this._root.timezone;return f&&!this._root.utc&&(o=f.convertLocal(o)),J(o.getTime())?(r=this.applyFormat(o,u),this.get("capitalize")&&(r=r.replace(/^.{1}/,r.substr(0,1).toUpperCase())),r):"Invalid date"}applyFormat(e,t){let r=t.template,o,u,f,m,y,D,T,C,M=e.getTime();this._root.utc?(o=e.getUTCFullYear(),u=e.getUTCMonth(),f=e.getUTCDay(),m=e.getUTCDate(),y=e.getUTCHours(),D=e.getUTCMinutes(),T=e.getUTCSeconds(),C=e.getUTCMilliseconds()):(o=e.getFullYear(),u=e.getMonth(),f=e.getDay(),m=e.getDate(),y=e.getHours(),D=e.getMinutes(),T=e.getSeconds(),C=e.getMilliseconds());for(let S=0,X=t.parts.length;S<X;S++){let O="";switch(t.parts[S]){case"G":O=this._t(o<0?"_era_bc":"_era_ad");break;case"yyyy":O=Math.abs(o).toString(),o<0&&(O+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":O=Math.abs(o).toString().substr(-t.parts[S].length),o<0&&(O+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":let z=cp(e,this._root.utc);t.parts[S]=="YYYY"?O=Math.abs(z).toString():O=Math.abs(z).toString().substr(-t.parts[S].length),z<0&&(O+=this._t("_era_bc"));break;case"u":break;case"q":O=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":O=this._t(this._getMonth(u)).substr(0,1);break;case"MMMM":O=this._t(this._getMonth(u));break;case"MMM":O=this._t(this._getShortMonth(u));break;case"MM":O=ot(u+1,2,"0");break;case"M":O=(u+1).toString();break;case"ww":O=ot(Kr(e,this._root.utc),2,"0");break;case"w":O=Kr(e,this._root.utc).toString();break;case"W":O=dp(e,this._root.utc).toString();break;case"dd":O=ot(m,2,"0");break;case"d":O=m.toString();break;case"DD":case"DDD":O=ot(Do(e,this._root.utc).toString(),t.parts[S].length,"0");break;case"D":O=Do(e,this._root.utc).toString();break;case"F":break;case"g":break;case"t":O=this._root.language.translateFunc("_dateOrd").call(this,m);break;case"E":O=(f||7).toString();break;case"EE":O=ot((f||7).toString(),2,"0");break;case"EEE":case"eee":O=this._t(this._getShortWeekday(f));break;case"EEEE":case"eeee":O=this._t(this._getWeekday(f));break;case"EEEEE":case"eeeee":O=this._t(this._getShortWeekday(f)).substr(0,1);break;case"e":case"ee":O=(f-(this._root.locale.firstDayOfWeek||1)+1).toString(),t.parts[S]=="ee"&&(O=ot(O,2,"0"));break;case"a":y>=12?O=this._t("PM"):O=this._t("AM");break;case"aa":y>=12?O=this._t("P.M."):O=this._t("A.M.");break;case"aaa":y>=12?O=this._t("P"):O=this._t("A");break;case"h":O=Lr(y).toString();break;case"hh":O=ot(Lr(y),2,"0");break;case"H":O=y.toString();break;case"HH":O=ot(y,2,"0");break;case"K":O=Lr(y,0).toString();break;case"KK":O=ot(Lr(y,0),2,"0");break;case"k":O=(y+1).toString();break;case"kk":O=ot(y+1,2,"0");break;case"m":O=D.toString();break;case"mm":O=ot(D,2,"0");break;case"s":O=T.toString();break;case"ss":O=ot(T,2,"0");break;case"S":case"SS":case"SSS":O=Math.round(C/1e3*Math.pow(10,t.parts[S].length)).toString();break;case"x":O=M.toString();break;case"n":case"nn":case"nnn":O=ot(C,t.parts[S].length,"0");break;case"z":O=Br(e,!1,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zz":O=Br(e,!0,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"zzz":O=Br(e,!1,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zzzz":O=Br(e,!0,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"Z":case"ZZ":let G=this._root.utc?"UTC":this._root.timezone;G instanceof Hp&&(G=G.name);const R=G?gp(G):e.getTimezoneOffset();let U=Math.abs(R)/60,N=Math.floor(U),V=U*60-N*60;this._root.utc&&(N=0,V=0),t.parts[S]=="Z"?(O="GMT",O+=R>0?"-":"+",O+=ot(N,2)+":"+ot(V,2)):(O=R>0?"-":"+",O+=ot(N,2)+ot(V,2));break;case"i":O=e.toISOString();break;case"I":O=e.toUTCString();break}r=r.replace(Vi,O)}return r}parseFormat(e){let t={template:"",parts:[]},r=ei.chunk(e,!0);for(let o=0;o<r.length;o++){let u=r[o];if(u.type==="value"){if(u.text.match(/^date$/i)){let m=this.get("dateFormat","yyyy-MM-dd");Ss(m)||(m="yyyy-MM-dd"),u.text=m}let f=u.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(f)for(let m=0;m<f.length;m++)t.parts.push(f[m]),u.text=u.text.replace(f[m],Vi)}t.template+=u.text}return t}_months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}_getMonth(e){return this._months()[e]}_shortMonths(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}_getShortMonth(e){return this._shortMonths()[e]}_weekdays(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}_getWeekday(e){return this._weekdays()[e]}_shortWeekdays(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}_getShortWeekday(e){return this._shortWeekdays()[e]}parse(e,t){if(e instanceof Date)return e;if(J(e))return new Date(e);if(t=="x")return new Date(parseInt(e));Ss(e)||(e=e.toString());let r,o="";t=Jn(t),t=t.substr(0,e.length);let u=this.parseFormat(t),f={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},m={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this._root.utc},y=0,D=0;for(let M=0;M<u.parts.length;M++){switch(D=M+y+1,u.parts[M]){case"yyyy":case"YYYY":o+="([0-9]{4})",f.year=D;break;case"yyy":case"YYY":o+="([0-9]{3})",f.year3=D;break;case"yy":case"YY":o+="([0-9]{2})",f.year2=D;break;case"y":case"Y":o+="([0-9]{1})",f.year1=D;break;case"MMMM":o+="("+this.getStringList(this._months()).join("|")+")",f.monthLong=D;break;case"MMM":o+="("+this.getStringList(this._shortMonths()).join("|")+")",f.monthShort=D;break;case"MM":case"M":o+="([0-9]{2}|[0-9]{1})",f.month=D;break;case"ww":case"w":o+="([0-9]{2}|[0-9]{1})",f.week=D;break;case"dd":case"d":o+="([0-9]{2}|[0-9]{1})",f.day=D;break;case"DDD":case"DD":case"D":o+="([0-9]{3}|[0-9]{2}|[0-9]{1})",f.yearDay=D;break;case"dddd":o+="("+this.getStringList(this._weekdays()).join("|")+")",f.weekdayLong=D;break;case"ddd":o+="("+this.getStringList(this._shortWeekdays()).join("|")+")",f.weekdayShort=D;break;case"aaa":case"aa":case"a":o+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",f.am=D;break;case"hh":case"h":o+="([0-9]{2}|[0-9]{1})",f.hour12Base1=D;break;case"HH":case"H":o+="([0-9]{2}|[0-9]{1})",f.hourBase0=D;break;case"KK":case"K":o+="([0-9]{2}|[0-9]{1})",f.hour12Base0=D;break;case"kk":case"k":o+="([0-9]{2}|[0-9]{1})",f.hourBase1=D;break;case"mm":case"m":o+="([0-9]{2}|[0-9]{1})",f.minute=D;break;case"ss":case"s":o+="([0-9]{2}|[0-9]{1})",f.second=D;break;case"SSS":case"SS":case"S":o+="([0-9]{3}|[0-9]{2}|[0-9]{1})",f.millisecond=D,f.millisecondDigits=u.parts[M].length;break;case"nnn":case"nn":case"n":o+="([0-9]{3}|[0-9]{2}|[0-9]{1})",f.millisecond=D;break;case"x":o+="([0-9]{1,})",f.timestamp=D;break;case"Z":o+="GMT([-+]+[0-9]{2}:[0-9]{2})",f.zone=D;break;case"ZZ":o+="([\\-+]+[0-9]{2}[0-9]{2})",f.zone=D;break;case"i":o+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",f.iso=D,y+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":y--;break}o+="[^0-9]*"}let T=new RegExp(o),C=e.match(T);if(C){if(f.year>-1&&(m.year=parseInt(C[f.year])),f.year3>-1){let M=parseInt(C[f.year3]);M+=1e3,m.year=M}if(f.year2>-1){let M=parseInt(C[f.year2]);M>50?M+=1e3:M+=2e3,m.year=M}if(f.year1>-1){let M=parseInt(C[f.year1]);M=Math.floor(new Date().getFullYear()/10)*10+M,m.year=M}if(f.monthLong>-1&&(m.month=this.resolveMonth(C[f.monthLong])),f.monthShort>-1&&(m.month=this.resolveShortMonth(C[f.monthShort])),f.month>-1&&(m.month=parseInt(C[f.month])-1),f.week>-1&&f.day===-1&&(m.month=0,m.day=fp(parseInt(C[f.week]),m.year,1,this._root.utc)),f.day>-1&&(m.day=parseInt(C[f.day])),f.yearDay>-1&&(m.month=0,m.day=parseInt(C[f.yearDay])),f.hourBase0>-1&&(m.hour=parseInt(C[f.hourBase0])),f.hourBase1>-1&&(m.hour=parseInt(C[f.hourBase1])-1),f.hour12Base0>-1){let M=parseInt(C[f.hour12Base0]);M==11&&(M=0),f.am>-1&&!this.isAm(C[f.am])&&(M+=12),m.hour=M}if(f.hour12Base1>-1){let M=parseInt(C[f.hour12Base1]);M==12&&(M=0),f.am>-1&&!this.isAm(C[f.am])&&(M+=12),m.hour=M}if(f.minute>-1&&(m.minute=parseInt(C[f.minute])),f.second>-1&&(m.second=parseInt(C[f.second])),f.millisecond>-1){let M=parseInt(C[f.millisecond]);f.millisecondDigits==2?M*=10:f.millisecondDigits==1&&(M*=100),m.millisecond=M}if(f.timestamp>-1){m.timestamp=parseInt(C[f.timestamp]);const M=new Date(m.timestamp);m.year=M.getUTCFullYear(),m.month=M.getUTCMonth(),m.day=M.getUTCDate(),m.hour=M.getUTCHours(),m.minute=M.getUTCMinutes(),m.second=M.getUTCSeconds(),m.millisecond=M.getUTCMilliseconds()}f.zone>-1&&(m.offset=this.resolveTimezoneOffset(new Date(m.year,m.month,m.day),C[f.zone])),f.iso>-1&&(m.year=Bt(C[f.iso+0]),m.month=Bt(C[f.iso+1])-1,m.day=Bt(C[f.iso+2]),m.hour=Bt(C[f.iso+3]),m.minute=Bt(C[f.iso+4]),m.second=Bt(C[f.iso+5]),m.millisecond=Bt(C[f.iso+6]),C[f.iso+7]=="Z"||C[f.iso+7]=="z"?m.utc=!0:C[f.iso+7]!=""&&(m.offset=this.resolveTimezoneOffset(new Date(m.year,m.month,m.day),C[f.iso+7]))),m.utc?r=new Date(Date.UTC(m.year,m.month,m.day,m.hour,m.minute,m.second,m.millisecond)):r=new Date(m.year,m.month,m.day,m.hour,m.minute+m.offset,m.second,m.millisecond)}else r=new Date(e);return r}resolveTimezoneOffset(e,t){if(t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){let o=t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),u=o[1],f=o[2],m=o[3],y=parseInt(f)*60+parseInt(m);u=="+"&&(y*=-1);let D=(e||new Date).getTimezoneOffset();return y-D}return 0}resolveMonth(e){let t=this._months().indexOf(e);return t>-1||!this._root.language.isDefault()&&(t=this._root.language.translateAll(this._months()).indexOf(e),t>-1)?t:0}resolveShortMonth(e){let t=this._shortMonths().indexOf(e);return t>-1||(t=this._months().indexOf(e),t>-1)||this._root.language&&!this._root.language.isDefault()&&(t=this._root.language.translateAll(this._shortMonths()).indexOf(e),t>-1)?t:0}isAm(e){return this.getStringList(["AM","A.M.","A"]).indexOf(e.toUpperCase())>-1}getStringList(e){let t=[];for(let r=0;r<e.length;r++)this._root.language?t.push(_o(this._t(e[r]))):t.push(_o(e[r]));return t}}class Wp extends pt{constructor(){super(...arguments),Object.defineProperty(this,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}})}_setDefaults(){const e="_duration_millisecond",t="_duration_second",r="_duration_minute",o="_duration_hour",u="_duration_day",f="_duration_week",m="_duration_month",y="_duration_year",D="_second",T="_minute",C="_hour",M="_day",S="_week",X="_week",O="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(e),second:this._t(e+D),minute:this._t(e+T),hour:this._t(e+C),day:this._t(e+M),week:this._t(e+S),month:this._t(e+X),year:this._t(e+O)},second:{second:this._t(t),minute:this._t(t+T),hour:this._t(t+C),day:this._t(t+M),week:this._t(t+S),month:this._t(t+X),year:this._t(t+O)},minute:{minute:this._t(r),hour:this._t(r+C),day:this._t(r+M),week:this._t(r+S),month:this._t(r+X),year:this._t(r+O)},hour:{hour:this._t(o),day:this._t(o+M),week:this._t(o+S),month:this._t(o+X),year:this._t(o+O)},day:{day:this._t(u),week:this._t(u+S),month:this._t(u+X),year:this._t(u+O)},week:{week:this._t(f),month:this._t(f+X),year:this._t(f+O)},month:{month:this._t(m),year:this._t(m+O)},year:{year:this._t(y)}}),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,t,r){let o=r||this.get("baseUnit");(typeof t>"u"||t==="")&&(this.get("durationFormat")!=null?t=this.get("durationFormat"):t=this.getFormat(Bt(e),void 0,o)),t=Jn(t);let u=this.parseFormat(t,o),f=Number(e),m;f>this.get("negativeBase")?m=u.positive:f<this.get("negativeBase")?m=u.negative:m=u.zero;let y=this.applyFormat(f,m);return m.color!==""&&(y="["+m.color+"]"+y+"[/]"),y}parseFormat(e,t){let r=t||this.get("baseUnit"),o={positive:{color:"",template:"",parts:[],source:"",baseUnit:r,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:r,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:r,parsed:!1,absolute:!1}};e=e.replace("||",ws);let u=e.split("|");return o.positive.source=u[0],typeof u[2]>"u"?o.zero=o.positive:o.zero.source=u[2],typeof u[1]>"u"?o.negative=o.positive:o.negative.source=u[1],Ue(o,(f,m)=>{if(m.parsed)return;let y=m.source,D=[];D=m.source.match(/^\[([^\]]*)\]/),D&&D.length&&D[0]!==""&&(y=m.source.substr(D[0].length),m.color=D[1]);let T=ei.chunk(y,!0);for(let C=0;C<T.length;C++){let M=T[C];if(M.text=M.text.replace(ws,"|"),M.type==="value"){M.text.match(/[yYMdDwhHKkmsSn]+a/)&&(m.absolute=!0,M.text=M.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));let S=M.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(S)for(let X=0;X<S.length;X++)S[X]==null&&(S[X]=this._unitAliases[S[X]]),m.parts.push(S[X]),M.text=M.text.replace(S[X],Vi)}m.template+=M.text}m.parsed=!0}),o}applyFormat(e,t){let r=!t.absolute&&e<this.get("negativeBase");e=Math.abs(e);let o=this.toTimeStamp(e,t.baseUnit),u=t.template;for(let f=0,m=t.parts.length;f<m;f++){let y=t.parts[f],D=this._toTimeUnit(y.substr(0,1)),T=y.length,C=Math.floor(o/this._getUnitValue(D));u=u.replace(Vi,ot(C,T,"0")),o-=C*this._getUnitValue(D)}return r&&(u="-"+u),u}toTimeStamp(e,t){return e*this._getUnitValue(t)}_toTimeUnit(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}getFormat(e,t,r){if(this.get("durationFormat")!=null)return this.get("durationFormat");if(r||(r=this.get("baseUnit")),t!=null&&e!=t){e=Math.abs(e),t=Math.abs(t);let o=this.getValueUnit(Math.max(e,t),r);return this.get("durationFormats")[r][o]}else{let o=this.getValueUnit(e,r);return this.get("durationFormats")[r][o]}}getValueUnit(e,t){t||(t=this.get("baseUnit"));let r,o=this.getMilliseconds(e,t);return $g(this._getUnitValues(),(u,f)=>{if(u==t||r){if(o/f<=1)return r||(r=u),!1;r=u}return!0}),r}getMilliseconds(e,t){return t||(t=this.get("baseUnit")),e*this._getUnitValue(t)}_getUnitValue(e){return this._getUnitValues()[e]}_getUnitValues(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}}const ah={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(n){let e="th";if(n<11||n>13)switch(n%10){case 1:e="st";break;case 2:e="nd";break;case 3:e="rd";break}return e},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""};class Vp extends pt{_setDefaults(){this.setPrivate("defaultLocale",ah),super._setDefaults()}translate(e,t,...r){t||(t=this._root.locale||this.getPrivate("defaultLocale"));let o=e,u=t[e];if(u===null)o="";else if(u!=null)u&&(o=u);else if(t!==this.getPrivate("defaultLocale"))return this.translate(e,this.getPrivate("defaultLocale"),...r);if(r.length)for(let f=r.length,m=0;m<f;++m)o=o.split("%"+(m+1)).join(r[m]);return o}translateAny(e,t,...r){return this.translate(e,t,...r)}setTranslationAny(e,t,r){const o=r||this._root.locale;o[e]=t}setTranslationsAny(e,t){Ue(e,(r,o)=>{this.setTranslationAny(r,o,t)})}translateEmpty(e,t,...r){let o=this.translate(e,t,...r);return o==e?"":o}translateFunc(e,t){return this._root.locale[e]?this._root.locale[e]:t!==this.getPrivate("defaultLocale")?this.translateFunc(e,this.getPrivate("defaultLocale")):()=>""}translateAll(e,t){return this.isDefault()?e:fn(e,r=>this.translate(r,t))}isDefault(){return this.getPrivate("defaultLocale")===this._root.locale}}class Ta{constructor(e,t){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=e,!t)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}static new(e){const t=new this(e,!0);return t.setupDefaultRules(),t}setupDefaultRules(){}_lookupRules(e){return this._rules[e]}ruleRaw(e,t=[]){let r=this._rules[e];r||(r=this._rules[e]=[]),t.sort(fi);const{index:o,found:u}=mn(r,f=>{const m=fi(f.tags.length,t.length);return m===0?ih(f.tags,t,fi):m});if(u)return r[o].template;{const f=vt.new({});return r.splice(o,0,{tags:t,template:f}),f}}rule(e,t=[]){return this.ruleRaw(e,t)}}function we(n,e,t,r){n.set(e,t.get(r)),t.on(r,o=>{n.set(e,o)})}class Gp extends Ta{setupDefaultRules(){super.setupDefaultRules();const e=this._root.language,t=this._root.interfaceColors,r=this._root.horizontalLayout,o=this._root.verticalLayout,u=this.rule.bind(this);u("InterfaceColors").setAll({stroke:ve.fromHex(15066597),fill:ve.fromHex(15987699),primaryButton:ve.fromHex(6788316),primaryButtonHover:ve.fromHex(6779356),primaryButtonDown:ve.fromHex(6872182),primaryButtonActive:ve.fromHex(6872182),primaryButtonText:ve.fromHex(16777215),primaryButtonStroke:ve.fromHex(16777215),secondaryButton:ve.fromHex(14277081),secondaryButtonHover:ve.fromHex(10724259),secondaryButtonDown:ve.fromHex(9276813),secondaryButtonActive:ve.fromHex(15132390),secondaryButtonText:ve.fromHex(0),secondaryButtonStroke:ve.fromHex(16777215),grid:ve.fromHex(0),background:ve.fromHex(16777215),alternativeBackground:ve.fromHex(0),text:ve.fromHex(0),alternativeText:ve.fromHex(16777215),disabled:ve.fromHex(11382189),positive:ve.fromHex(5288704),negative:ve.fromHex(11730944)});{const f=u("ColorSet");f.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[ve.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),f.setPrivate("currentStep",0),f.setPrivate("currentPass",0)}u("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:Ji(Xi)}),u("Component").setAll({interpolationDuration:0,interpolationEasing:Ji(Xi)}),u("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:Ie,tooltipY:Ie,tooltipPosition:"fixed",isMeasured:!0}),u("Sprite").states.create("default",{visible:!0,opacity:1}),u("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),u("Graphics").setAll({strokeWidth:1}),u("Chart").setAll({width:fe,height:fe,interactiveChildren:!1}),u("ZoomableContainer").setAll({width:fe,height:fe,wheelable:!0,pinchZoom:!0,maxZoomLevel:32,minZoomLevel:1,zoomStep:2,animationEasing:Ji(Xi),animationDuration:600}),u("Sprite",["horizontal","center"]).setAll({centerX:Ie,x:Ie}),u("Sprite",["vertical","center"]).setAll({centerY:Ie,y:Ie}),u("Container",["horizontal","layout"]).setAll({layout:r}),u("Container",["vertical","layout"]).setAll({layout:o}),u("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),u("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),u("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),u("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),u("GrainPattern").setAll({width:200,height:200,colors:[ve.fromHex(0)],size:1,horizontalGap:0,verticalGap:0,density:1,minOpacity:0,maxOpacity:.2}),u("LinearGradient").setAll({rotation:90}),u("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:ns.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),u("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:r,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:e.translate("Press ENTER to toggle"),role:"checkbox"});{const f=u("Rectangle",["legend","item","background"]);f.setAll({fillOpacity:0}),we(f,"fill",t,"background")}u("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:Ie,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),u("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:fe,height:fe,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{const f=u("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});we(f,"fill",t,"disabled"),we(f,"stroke",t,"disabled")}u("Label",["legend","label"]).setAll({centerY:Ie,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0});{const f=u("Label",["legend","label"]).states.create("disabled",{});we(f,"fill",t,"disabled")}u("Label",["legend","value","label"]).setAll({centerY:Ie,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:fe,populateText:!0});{const f=u("Label",["legend","value","label"]).states.create("disabled",{});we(f,"fill",t,"disabled")}u("HeatLegend").setAll({stepCount:1}),u("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),u("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:fe,width:15}),u("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:fe,height:15}),u("HeatLegend",["vertical"]).setAll({height:fe}),u("HeatLegend",["horizontal"]).setAll({width:fe}),u("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),u("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{const f=u("Label");f.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),we(f,"fill",t,"text")}u("RadialLabel").setAll({textType:"regular",centerY:Ie,centerX:Ie,inside:!1,radius:0,baseRadius:fe,orientation:"auto",textAlign:"center"}),u("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),u("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),u("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{const f=u("Tick");f.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute",crisp:!0}),we(f,"stroke",t,"grid")}u("Bullet").setAll({locationX:.5,locationY:.5}),u("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:Ie,centerY:Ie,animationEasing:Ji(Xi),exportable:!1}),u("Polygon").setAll({animationEasing:Ji(Xi)}),u("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:ve.fromHex(16777215)});{const f=u("Label",["tooltip"]);f.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),we(f,"fill",t,"alternativeText")}u("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:r,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),u("Button").states.create("hover",{}),u("Button").states.create("down",{stateAnimationDuration:0}),u("Button").states.create("active",{});{const f=u("RoundedRectangle",["button","background"]);we(f,"fill",t,"primaryButton"),we(f,"stroke",t,"primaryButtonStroke")}{const f=u("RoundedRectangle",["button","background"]).states.create("hover",{});we(f,"fill",t,"primaryButtonHover")}{const f=u("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0});we(f,"fill",t,"primaryButtonDown")}{const f=u("RoundedRectangle",["button","background"]).states.create("active",{});we(f,"fill",t,"primaryButtonActive")}{const f=u("Graphics",["button","icon"]);we(f,"stroke",t,"primaryButtonText")}{const f=u("Label",["button"]);we(f,"fill",t,"primaryButtonText")}u("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:fe,role:"button",ariaLabel:e.translate("Zoom Out"),layer:30});{const f=u("RoundedRectangle",["background","button","zoom"]);f.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),we(f,"fill",t,"primaryButton")}{const f=u("RoundedRectangle",["background","button","zoom"]).states.create("hover",{});we(f,"fill",t,"primaryButtonHover")}{const f=u("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0});we(f,"fill",t,"primaryButtonDown")}{const f=u("Graphics",["icon","button","zoom"]);f.setAll({crisp:!0,strokeOpacity:.7,draw:m=>{m.moveTo(0,0),m.lineTo(12,0)}}),we(f,"stroke",t,"primaryButtonText")}u("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:Ie,centerY:Ie,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:e.translate("Use up and down arrows to move selection")});{const f=u("RoundedRectangle",["background","resize","button"]);f.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),we(f,"fill",t,"secondaryButton"),we(f,"stroke",t,"secondaryButtonStroke")}{const f=u("RoundedRectangle",["background","resize","button"]).states.create("hover",{});we(f,"fill",t,"secondaryButtonHover")}{const f=u("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0});we(f,"fill",t,"secondaryButtonDown")}{const f=u("Graphics",["resize","button","icon"]);f.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:m=>{m.moveTo(0,.5),m.lineTo(0,12.5),m.moveTo(4,.5),m.lineTo(4,12.5)}}),we(f,"stroke",t,"secondaryButtonText")}u("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),u("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),u("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:e.translate("Play"),toggleKey:"active"});{const f=u("RoundedRectangle",["play","background"]);f.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),we(f,"fill",t,"primaryButton")}{const f=u("Graphics",["play","icon"]);f.setAll({stateAnimationDuration:0,dx:1,draw:m=>{m.moveTo(0,-5),m.lineTo(8,0),m.lineTo(0,5),m.lineTo(0,-5)}}),we(f,"fill",t,"primaryButtonText")}u("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),u("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:f=>{f.moveTo(-4,-5),f.lineTo(-1,-5),f.lineTo(-1,5),f.lineTo(-4,5),f.lineTo(-4,-5),f.moveTo(4,-5),f.lineTo(1,-5),f.lineTo(1,5),f.lineTo(4,5),f.lineTo(4,-5)}}),u("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:e.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{const f=u("RoundedRectangle",["switch","background"]);f.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),we(f,"fill",t,"primaryButton")}{const f=u("Circle",["switch","icon"]);f.setAll({radius:8,centerY:0,centerX:0,dx:0}),we(f,"fill",t,"primaryButtonText")}u("Graphics",["switch","icon"]).states.create("active",{dx:16}),u("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:Ji(Xi)}),u("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:fe}),u("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:fe}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{const f=u("RoundedRectangle",["scrollbar","main","background"]);f.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),we(f,"fill",t,"fill")}{const f=u("RoundedRectangle",["scrollbar","thumb"]);f.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),we(f,"fill",t,"secondaryButton")}{const f=u("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{});we(f,"fill",t,"secondaryButtonHover")}{const f=u("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0});we(f,"fill",t,"secondaryButtonDown")}u("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:Ie,width:fe,centerX:Ie,ariaLabel:e.translate("Use up and down arrows to move selection")}),u("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:Ie,centerY:Ie,height:fe,ariaLabel:e.translate("Use left and right arrows to move selection")});{const f=u("PointedRectangle",["axis","tooltip","background"]);f.setAll({cornerRadius:0}),we(f,"fill",t,"alternativeBackground")}u("Label",["axis","tooltip"]).setAll({role:void 0}),u("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),u("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),u("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),u("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),u("Star").setAll({spikes:5,innerRadius:5,radius:10}),u("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),u("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),u("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),u("SpriteResizer").setAll({rotationStep:10}),u("Container",["resizer","grip"]).states.create("hover",{});{const f=u("RoundedRectangle",["resizer","grip"]);f.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),we(f,"fill",t,"background"),we(f,"stroke",t,"alternativeBackground")}{const f=u("RoundedRectangle",["resizer","grip","outline"]);f.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),f.states.create("hover",{fillOpacity:.3}),we(f,"fill",t,"alternativeBackground")}u("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),u("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{const f=u("Rectangle",["resizer","rectangle"]);f.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),we(f,"stroke",t,"alternativeBackground")}u("Graphics",["button","plus","icon"]).setAll({x:Ie,y:Ie,draw:f=>{f.moveTo(-4,0),f.lineTo(4,0),f.moveTo(0,-4),f.lineTo(0,4)}}),u("Graphics",["button","minus","icon"]).setAll({x:Ie,y:Ie,draw:f=>{f.moveTo(-4,0),f.lineTo(4,0)}}),u("Graphics",["button","home","icon"]).setAll({x:Ie,y:Ie,svgPath:"M 8 -1 L 6 -1 L 6 7 L 2 7 L 2 1 L -2 1 L -2 7 L -6 7 L -6 -1 L -8 -1 L 0 -9 L 8 -1 Z M 8 -1"}),u("Button",["zoomtools"]).setAll({marginTop:1,marginBottom:2}),u("ZoomTools").setAll({x:fe,centerX:fe,y:fe,centerY:fe,paddingRight:10,paddingBottom:10})}}class Ka{constructor(e=1,t=0,r=0,o=1,u=0,f=0){Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=e,this.b=t,this.c=r,this.d=o,this.tx=u,this.ty=f}setTransform(e,t,r,o,u,f=1){this.a=Math.cos(u)*f,this.b=Math.sin(u)*f,this.c=-Math.sin(u)*f,this.d=Math.cos(u)*f,this.tx=e-(r*this.a+o*this.c),this.ty=t-(r*this.b+o*this.d)}apply(e){return{x:this.a*e.x+this.c*e.y+this.tx,y:this.b*e.x+this.d*e.y+this.ty}}applyInverse(e){const t=1/(this.a*this.d+this.c*-this.b);return{x:this.d*t*e.x+-this.c*t*e.y+(this.ty*this.c-this.tx*this.d)*t,y:this.a*t*e.y+-this.b*t*e.x+(-this.ty*this.a+this.tx*this.b)*t}}append(e){const t=this.a,r=this.b,o=this.c,u=this.d;this.a=e.a*t+e.b*o,this.b=e.a*r+e.b*u,this.c=e.c*t+e.d*o,this.d=e.c*r+e.d*u,this.tx=e.tx*t+e.ty*o+this.tx,this.ty=e.tx*r+e.ty*u+this.ty}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,o=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=o*e.a+this.d*e.c,this.d=o*e.b+this.d*e.d}this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty}copyFrom(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty}}var Up=function(){function n(e,t){var r=[],o=!0,u=!1,f=void 0;try{for(var m=e[Symbol.iterator](),y;!(o=(y=m.next()).done)&&(r.push(y.value),!(t&&r.length===t));o=!0);}catch(D){u=!0,f=D}finally{try{!o&&m.return&&m.return()}finally{if(u)throw f}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ks=Math.PI*2,Ja=function(e,t,r,o,u,f,m){var y=e.x,D=e.y;y*=t,D*=r;var T=o*y-u*D,C=u*y+o*D;return{x:T+f,y:C+m}},qp=function(e,t){var r=t===1.5707963267948966?.551915024494:t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),o=Math.cos(e),u=Math.sin(e),f=Math.cos(e+t),m=Math.sin(e+t);return[{x:o-u*r,y:u+o*r},{x:f+m*r,y:m-f*r},{x:f,y:m}]},To=function(e,t,r,o){var u=e*o-t*r<0?-1:1,f=e*r+t*o;return f>1&&(f=1),f<-1&&(f=-1),u*Math.acos(f)},Zp=function(e,t,r,o,u,f,m,y,D,T,C,M){var S=Math.pow(u,2),X=Math.pow(f,2),O=Math.pow(C,2),z=Math.pow(M,2),G=S*X-S*z-X*O;G<0&&(G=0),G/=S*z+X*O,G=Math.sqrt(G)*(m===y?-1:1);var R=G*u/f*M,U=G*-f/u*C,N=T*R-D*U+(e+r)/2,V=D*R+T*U+(t+o)/2,se=(C-R)/u,re=(M-U)/f,ee=(-C-R)/u,oe=(-M-U)/f,xe=To(1,0,se,re),me=To(se,re,ee,oe);return y===0&&me>0&&(me-=Ks),y===1&&me<0&&(me+=Ks),[N,V,xe,me]},$p=function(e){var t=e.px,r=e.py,o=e.cx,u=e.cy,f=e.rx,m=e.ry,y=e.xAxisRotation,D=y===void 0?0:y,T=e.largeArcFlag,C=T===void 0?0:T,M=e.sweepFlag,S=M===void 0?0:M,X=[];if(f===0||m===0)return[];var O=Math.sin(D*Ks/360),z=Math.cos(D*Ks/360),G=z*(t-o)/2+O*(r-u)/2,R=-O*(t-o)/2+z*(r-u)/2;if(G===0&&R===0)return[];f=Math.abs(f),m=Math.abs(m);var U=Math.pow(G,2)/Math.pow(f,2)+Math.pow(R,2)/Math.pow(m,2);U>1&&(f*=Math.sqrt(U),m*=Math.sqrt(U));var N=Zp(t,r,o,u,f,m,C,S,O,z,G,R),V=Up(N,4),se=V[0],re=V[1],ee=V[2],oe=V[3],xe=Math.abs(oe)/(Ks/4);Math.abs(1-xe)<1e-7&&(xe=1);var me=Math.max(Math.ceil(xe),1);oe/=me;for(var Pe=0;Pe<me;Pe++)X.push(qp(ee,oe)),ee+=oe;return X.map(function(ye){var Ce=Ja(ye[0],f,m,z,O,se,re),Ae=Ce.x,qe=Ce.y,Me=Ja(ye[1],f,m,z,O,se,re),$e=Me.x,De=Me.y,at=Ja(ye[2],f,m,z,O,se,re),Tt=at.x,je=at.y;return{x1:Ae,y1:qe,x2:$e,y2:De,x:Tt,y:je}})};function Kp(n,e,t){if(e!==t)throw new Error("Required "+t+" arguments for "+n+" but got "+e)}function Us(n,e,t){if(e<t)throw new Error("Required at least "+t+" arguments for "+n+" but got "+e)}function Xt(n,e,t){if(Us(n,e,t),e%t!==0)throw new Error("Arguments for "+n+" must be in pairs of "+t)}function Jp(n){for(let e=0;e<n.length;e+=7){let t=e+3,r=n[t];if(r.length>1){const o=/^([01])([01])(.*)$/.exec(r);o!==null&&(n.splice(t,0,o[1]),++t,n.splice(t,0,o[2]),++t,o[3].length>0?n[t]=o[3]:n.splice(t,1))}if(++t,r=n[t],r.length>1){const o=/^([01])(.+)$/.exec(r);o!==null&&(n.splice(t,0,o[1]),++t,n[t]=o[2])}}}function Mo(n){if(n===0||n===1)return n;throw new Error("Flag must be 0 or 1")}function Qp(n){const e=[0,0,0];for(let t=0;t<24;t++)e[t%3]<<=1,e[t%3]|=n&1,n>>=1;return(e[0]|0)+(e[1]<<8)+(e[2]<<16)}function Yr(n,e){for(;!(n.interactive&&!e(n));)if(n._parent)n=n._parent;else break}function em(n,e,t){return rt(n,bn(e),r=>{const o=Zl(r);let u=r.touches;u?(u.length==0&&(u=r.changedTouches),t(gn(u),o)):t([r],o)})}function Eo(n){const e=document.createElement("canvas");e.width=1,e.height=1;const t=e.getContext("2d",{willReadFrequently:!0});t.drawImage(n,0,0,1,1);try{return t.getImageData(0,0,1,1),!1}catch{return console.warn('Image "'+n.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function qs(n){n.width=0,n.height=0,n.style.width="0px",n.style.height="0px"}function Oo(n){return Math.floor(n)+.5}class tm{constructor(){Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}get x(){return this._x}get y(){return this._y}set x(e){this._x=e}set y(e){this._y=e}}class Ma extends $n{constructor(e){super(),Object.defineProperty(this,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"crisp",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new tm}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new Ka}),Object.defineProperty(this,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new Ka}),Object.defineProperty(this,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new Ka}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._renderer=e}subStatus(e){return{inactive:this.inactive==null?e.inactive:this.inactive,layer:this._layer||e.layer}}_dispose(){this._renderer._removeObject(this),this.getLayer().dirty=!0}getCanvas(){return this.getLayer().view}getLayer(){let e=this;for(;;){if(e._layer)return e._layer;if(e._parent)e=e._parent;else return this._renderer.defaultLayer}}setLayer(e,t){e==null?this._layer=void 0:(this._layer=this._renderer.getLayer(e,!0),this._layer.visible=!0,this._layer.margin=t,t&&xs(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._layer.dirty=!0,this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost())}markDirtyLayer(){this.getLayer().dirty=!0}clear(){this.invalidateBounds()}invalidateBounds(){this._localBounds=void 0}_addBounds(e){}_getColorId(){return this._colorId===void 0&&(this._colorId=this._renderer.paintId(this)),this._colorId}_isInteractive(e){return!e.inactive&&(this.interactive||this._renderer._forceInteractive>0)}_isInteractiveMask(e){return this._isInteractive(e)}contains(e){for(;;){if(e===this)return!0;if(e._parent)e=e._parent;else return!1}}toGlobal(e){return this._matrix.apply(e)}toLocal(e){return this._matrix.applyInverse(e)}getLocalMatrix(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}getLocalBounds(){return this._localBounds||(this._localBounds={left:1e7,top:1e7,right:-1e7,bottom:-1e7},this._addBounds(this._localBounds)),this._localBounds}getAdjustedBounds(e){this._setMatrix();const t=this.getLocalMatrix(),r=t.apply({x:e.left,y:e.top}),o=t.apply({x:e.right,y:e.top}),u=t.apply({x:e.right,y:e.bottom}),f=t.apply({x:e.left,y:e.bottom});return{left:Math.min(r.x,o.x,u.x,f.x),top:Math.min(r.y,o.y,u.y,f.y),right:Math.max(r.x,o.x,u.x,f.x),bottom:Math.max(r.y,o.y,u.y,f.y)}}on(e,t,r){return this.interactive?this._renderer._addEvent(this,e,t,r):new ft(()=>{})}_setMatrix(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}_transform(e,t){const r=this._matrix;let o=r.tx*t,u=r.ty*t;this.crisp&&(o=Oo(o),u=Oo(u)),e.setTransform(r.a*t,r.b*t,r.c*t,r.d*t,o,u)}_transformMargin(e,t,r){const o=this._matrix;e.setTransform(o.a*t,o.b*t,o.c*t,o.d*t,(o.tx+r.left)*t,(o.ty+r.top)*t)}_transformLayer(e,t,r){r.margin?this._transformMargin(e,r.scale||t,r.margin):this._transform(e,r.scale||t)}render(e){if(this.visible&&(this.exportable!==!1||!this._renderer._omitTainted)){this._setMatrix();const t=this.subStatus(e),r=this._renderer.resolution,o=this._renderer.layers,u=this._renderer._ghostLayer,f=u.context,m=this.mask;m&&m._setMatrix(),K(o,y=>{if(y){const D=y.context;D.save(),m&&(m._transformLayer(D,r,y),m._runPath(D),D.clip()),D.globalAlpha=this.compoundAlpha*this.alpha,this._transformLayer(D,r,y),this.filter&&(D.filter=this.filter)}}),f.save(),m&&this._isInteractiveMask(t)&&(m._transformMargin(f,r,u.margin),m._runPath(f),f.clip()),this._transformMargin(f,r,u.margin),this._render(t),f.restore(),K(o,y=>{y&&y.context.restore()})}}_render(e){this.exportable===!1&&(e.layer.tainted=!0)}hovering(){return this._renderer._hovering.has(this)}dragging(){return this._renderer._dragging.some(e=>e.value===this)}shouldCancelTouch(){const e=this._renderer;return e.tapToActivate&&!e._touchActive?!1:this.cancelTouch?!0:this._parent?this._parent.shouldCancelTouch():!1}}class im extends Ma{constructor(){super(...arguments),Object.defineProperty(this,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_isInteractiveMask(e){return this.interactiveChildren||super._isInteractiveMask(e)}addChild(e){e._parent=this,this._children.push(e),e._layer&&this.registerChildLayer(e._layer)}addChildAt(e,t){e._parent=this,this._children.splice(t,0,e),e._layer&&this.registerChildLayer(e._layer)}removeChild(e){e._parent=void 0,Ft(this._children,e)}_render(e){super._render(e);const t=this._renderer;this.interactive&&this.interactiveChildren&&++t._forceInteractive,K(this._children,r=>{r.compoundAlpha=this.compoundAlpha*this.alpha,r.render(e)}),this.interactive&&this.interactiveChildren&&--t._forceInteractive}registerChildLayer(e){this._childLayers||(this._childLayers=[]),rr(this._childLayers,e),this._parent&&this._parent.registerChildLayer(e)}markDirtyLayer(e=!1){super.markDirtyLayer(),e&&this._childLayers&&K(this._childLayers,t=>t.dirty=!0)}_dispose(){super._dispose(),this._childLayers&&K(this._childLayers,e=>{e.dirty=!0})}}function ht(n,e){n.left=Math.min(n.left,e.x),n.top=Math.min(n.top,e.y),n.right=Math.max(n.right,e.x),n.bottom=Math.max(n.bottom,e.y)}class mt{colorize(e,t){}colorizeGhost(e,t){this.colorize(e,t)}path(e){}pathGhost(e){this.path(e)}addBounds(e){}}class sm extends mt{colorize(e,t){e.beginPath()}}class Qa extends mt{constructor(e){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){t!==void 0?e.fillStyle=t:e.fillStyle=this.color}}class rm extends mt{constructor(e){super(),Object.defineProperty(this,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.fill(),this.clearShadow&&(e.shadowColor="",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}}class am extends mt{colorize(e,t){e.stroke()}}class en extends mt{constructor(e,t,r){super(),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:r})}colorize(e,t){t!==void 0?e.strokeStyle=t:e.strokeStyle=this.color,e.lineWidth=this.width,this.lineJoin&&(e.lineJoin=this.lineJoin)}}class nm extends mt{constructor(e){super(),Object.defineProperty(this,"dash",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.setLineDash(this.dash)}}class om extends mt{constructor(e){super(),Object.defineProperty(this,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.lineDashOffset=this.dashOffset}}class lm extends mt{constructor(e,t,r,o){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:o})}path(e){e.rect(this.x,this.y,this.width,this.height)}addBounds(e){const t=this.x,r=this.y,o=t+this.width,u=r+this.height;ht(e,{x:t,y:r}),ht(e,{x:o,y:r}),ht(e,{x:t,y:u}),ht(e,{x:o,y:u})}}class hm extends mt{constructor(e,t,r){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(e){e.moveTo(this.x+this.radius,this.y),e.arc(this.x,this.y,this.radius,0,2*Math.PI)}addBounds(e){ht(e,{x:this.x-this.radius,y:this.y-this.radius}),ht(e,{x:this.x+this.radius,y:this.y+this.radius})}}class um extends mt{constructor(e,t,r,o){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:o})}path(e){e.ellipse(0,0,this.radiusX,this.radiusY,0,0,Math.PI*2)}addBounds(e){ht(e,{x:this.x-this.radiusX,y:this.y-this.radiusY}),ht(e,{x:this.x+this.radiusX,y:this.y+this.radiusY})}}class cm extends mt{constructor(e,t,r,o,u,f){super(),Object.defineProperty(this,"cx",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cy",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:f})}path(e){this.radius>0&&e.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}addBounds(e){let t=Ap(this.cx,this.cy,this.startAngle*as,this.endAngle*as,this.radius);ht(e,{x:t.left,y:t.top}),ht(e,{x:t.right,y:t.bottom})}}class dm extends mt{constructor(e,t,r,o,u){super(),Object.defineProperty(this,"x1",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y1",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"x2",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"y2",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:u})}path(e){this.radius>0&&e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}addBounds(e){}}class fm extends mt{constructor(e,t){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t})}path(e){e.lineTo(this.x,this.y)}addBounds(e){ht(e,{x:this.x,y:this.y})}}class gm extends mt{constructor(e,t){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t})}path(e){e.moveTo(this.x,this.y)}addBounds(e){ht(e,{x:this.x,y:this.y})}}class pm extends mt{path(e){e.closePath()}}class mm extends mt{constructor(e,t,r,o,u,f){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:f})}path(e){e.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}addBounds(e){ht(e,{x:this.cpX,y:this.cpY}),ht(e,{x:this.cpX2,y:this.cpY2}),ht(e,{x:this.toX,y:this.toY})}}class bm extends mt{constructor(e,t,r,o){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:o})}path(e){e.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}addBounds(e){ht(e,{x:this.cpX,y:this.cpY}),ht(e,{x:this.toX,y:this.toY})}}class xm extends mt{constructor(e,t,r,o,u){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"blur",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:u})}colorize(e,t){this.opacity&&(e.fillStyle=this.color),e.shadowColor=this.color,e.shadowBlur=this.blur,e.shadowOffsetX=this.offsetX,e.shadowOffsetY=this.offsetY}colorizeGhost(e,t){}}class vm extends mt{constructor(e,t,r,o,u){super(),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:u})}path(e){e.drawImage(this.image,this.x,this.y,this.width,this.height)}addBounds(e){ht(e,{x:this.x,y:this.y}),ht(e,{x:this.width,y:this.height})}}class ym extends Ma{constructor(){super(...arguments),Object.defineProperty(this,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:Qr.NORMAL}),Object.defineProperty(this,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}clear(){super.clear(),this._operations.length=0}_pushOp(e){this._operations.push(e)}beginFill(e,t=1){this._fillAlpha=t,e?e instanceof ve?this._pushOp(new Qa(e.toCSS(t))):(this.isMeasured=!0,this._pushOp(new Qa(e))):this._pushOp(new Qa("rgba(0, 0, 0, "+t+")"))}endFill(){this._pushOp(new rm(this._hasShadows))}endStroke(){this._pushOp(new am)}beginPath(){this._pushOp(new sm)}lineStyle(e=0,t,r=1,o){this._strokeAlpha=r,t?t instanceof ve?this._pushOp(new en(e,t.toCSS(r),o)):this._pushOp(new en(e,t,o)):this._pushOp(new en(e,"rgba(0, 0, 0, "+r+")",o))}setLineDash(e){this._pushOp(new nm(e||[]))}setLineDashOffset(e=0){this._pushOp(new om(e))}drawRect(e,t,r,o){this._pushOp(new lm(e,t,r,o))}drawCircle(e,t,r){this._pushOp(new hm(e,t,r))}drawEllipse(e,t,r,o){this._pushOp(new um(e,t,r,o))}arc(e,t,r,o,u,f=!1){this._pushOp(new cm(e,t,r,o,u,f))}arcTo(e,t,r,o,u){this._pushOp(new dm(e,t,r,o,u))}lineTo(e,t){this._pushOp(new fm(e,t))}moveTo(e,t){this._pushOp(new gm(e,t))}bezierCurveTo(e,t,r,o,u,f){this._pushOp(new mm(e,t,r,o,u,f))}quadraticCurveTo(e,t,r,o){this._pushOp(new bm(e,t,r,o))}closePath(){this._pushOp(new pm)}shadow(e,t=0,r=0,o=0,u){this._hasShadows=!0,this._pushOp(new xm(u?e.toCSS(u):e.toCSS(this._fillAlpha||this._strokeAlpha),t,r,o))}image(e,t,r,o,u){this._pushOp(new vm(e,t,r,o,u))}svgPath(e){let t=0,r=0,o=null,u=null,f=null,m=null;const y=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,D=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g;let T;for(;(T=y.exec(e))!==null;){const C=T[1],M=T[2],S=[];for(;(T=D.exec(M))!==null;)S.push(T[1]);switch(C!=="S"&&C!=="s"&&C!=="C"&&C!=="c"&&(o=null,u=null),C!=="Q"&&C!=="q"&&C!=="T"&&C!=="t"&&(f=null,m=null),C){case"M":Xt(C,S.length,2),t=+S[0],r=+S[1],this.moveTo(t,r);for(let O=2;O<S.length;O+=2)t=+S[O],r=+S[O+1],this.lineTo(t,r);break;case"m":Xt(C,S.length,2),t+=+S[0],r+=+S[1],this.moveTo(t,r);for(let O=2;O<S.length;O+=2)t+=+S[O],r+=+S[O+1],this.lineTo(t,r);break;case"L":Xt(C,S.length,2);for(let O=0;O<S.length;O+=2)t=+S[O],r=+S[O+1],this.lineTo(t,r);break;case"l":Xt(C,S.length,2);for(let O=0;O<S.length;O+=2)t+=+S[O],r+=+S[O+1],this.lineTo(t,r);break;case"H":Us(C,S.length,1);for(let O=0;O<S.length;++O)t=+S[O],this.lineTo(t,r);break;case"h":Us(C,S.length,1);for(let O=0;O<S.length;++O)t+=+S[O],this.lineTo(t,r);break;case"V":Us(C,S.length,1);for(let O=0;O<S.length;++O)r=+S[O],this.lineTo(t,r);break;case"v":Us(C,S.length,1);for(let O=0;O<S.length;++O)r+=+S[O],this.lineTo(t,r);break;case"C":Xt(C,S.length,6);for(let O=0;O<S.length;O+=6){const z=+S[O],G=+S[O+1];o=+S[O+2],u=+S[O+3],t=+S[O+4],r=+S[O+5],this.bezierCurveTo(z,G,o,u,t,r)}break;case"c":Xt(C,S.length,6);for(let O=0;O<S.length;O+=6){const z=+S[O]+t,G=+S[O+1]+r;o=+S[O+2]+t,u=+S[O+3]+r,t+=+S[O+4],r+=+S[O+5],this.bezierCurveTo(z,G,o,u,t,r)}break;case"S":Xt(C,S.length,4),(o===null||u===null)&&(o=t,u=r);for(let O=0;O<S.length;O+=4){const z=2*t-o,G=2*r-u;o=+S[O],u=+S[O+1],t=+S[O+2],r=+S[O+3],this.bezierCurveTo(z,G,o,u,t,r)}break;case"s":Xt(C,S.length,4),(o===null||u===null)&&(o=t,u=r);for(let O=0;O<S.length;O+=4){const z=2*t-o,G=2*r-u;o=+S[O]+t,u=+S[O+1]+r,t+=+S[O+2],r+=+S[O+3],this.bezierCurveTo(z,G,o,u,t,r)}break;case"Q":Xt(C,S.length,4);for(let O=0;O<S.length;O+=4)f=+S[O],m=+S[O+1],t=+S[O+2],r=+S[O+3],this.quadraticCurveTo(f,m,t,r);break;case"q":Xt(C,S.length,4);for(let O=0;O<S.length;O+=4)f=+S[O]+t,m=+S[O+1]+r,t+=+S[O+2],r+=+S[O+3],this.quadraticCurveTo(f,m,t,r);break;case"T":Xt(C,S.length,2),(f===null||m===null)&&(f=t,m=r);for(let O=0;O<S.length;O+=2)f=2*t-f,m=2*r-m,t=+S[O],r=+S[O+1],this.quadraticCurveTo(f,m,t,r);break;case"t":Xt(C,S.length,2),(f===null||m===null)&&(f=t,m=r);for(let O=0;O<S.length;O+=2)f=2*t-f,m=2*r-m,t+=+S[O],r+=+S[O+1],this.quadraticCurveTo(f,m,t,r);break;case"A":case"a":const X=C==="a";Jp(S),Xt(C,S.length,7);for(let O=0;O<S.length;O+=7){let z=+S[O+5],G=+S[O+6];X&&(z+=t,G+=r);const R=$p({px:t,py:r,rx:+S[O],ry:+S[O+1],xAxisRotation:+S[O+2],largeArcFlag:Mo(+S[O+3]),sweepFlag:Mo(+S[O+4]),cx:z,cy:G});K(R,U=>{this.bezierCurveTo(U.x1,U.y1,U.x2,U.y2,U.x,U.y),t=U.x,r=U.y})}break;case"Z":case"z":Kp(C,S.length,0),this.closePath();break}}}_runPath(e){e.beginPath(),K(this._operations,t=>{t.path(e)})}_render(e){super._render(e);const t=e.layer.dirty,r=this._isInteractive(e);if(t||r){const o=e.layer.context,u=this._renderer._ghostLayer.context;t&&(o.globalCompositeOperation=this.blendMode,o.beginPath());let f;r&&(u.beginPath(),f=this._getColorId()),K(this._operations,m=>{t&&(m.path(o),m.colorize(o,void 0)),r&&(m.pathGhost(u),m.colorizeGhost(u,f))})}}renderDetached(e){if(this.visible){this._setMatrix(),e.save();const t=this.mask;t&&(t._setMatrix(),t._transform(e,1),t._runPath(e),e.clip()),e.globalAlpha=this.compoundAlpha*this.alpha,this._transform(e,1),this.filter&&(e.filter=this.filter),e.globalCompositeOperation=this.blendMode,e.beginPath(),K(this._operations,r=>{r.path(e),r.colorize(e,void 0)}),e.restore()}}_addBounds(e){this.visible&&this.isMeasured&&K(this._operations,t=>{t.addBounds(e)})}}class nh extends Ma{constructor(e,t,r){super(e),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),this.text=t,this.style=r}invalidateBounds(){super.invalidateBounds(),this._textInfo=void 0}_shared(e){this.style.textAlign&&(e.textAlign=this.style.textAlign),this.style.direction&&(e.direction=this.style.direction),this.style.textBaseline&&(e.textBaseline=this.style.textBaseline)}_prerender(e,t=!1,r=!1){super._render(e);const o=e.layer.context,u=this._renderer._ghostLayer.context,f=this.style;let m=this._getFontStyle(void 0,r);o.font=m,this._isInteractive(e)&&!t&&(u.font=m),f.fill&&(f.fill instanceof ve?o.fillStyle=f.fill.toCSS(f.fillOpacity!=null?f.fillOpacity:1):o.fillStyle=f.fill),f.shadowColor&&(e.layer.context.shadowColor=f.shadowColor.toCSS(f.shadowOpacity||1)),f.shadowBlur&&(e.layer.context.shadowBlur=f.shadowBlur),f.shadowOffsetX&&(e.layer.context.shadowOffsetX=f.shadowOffsetX),f.shadowOffsetY&&(e.layer.context.shadowOffsetY=f.shadowOffsetY),this._shared(o),this._isInteractive(e)&&!t&&(u.fillStyle=this._getColorId(),this._shared(u))}_getFontStyle(e,t=!1){const r=this.style;let o=[];return e&&e.fontVariant?o.push(e.fontVariant):r.fontVariant&&o.push(r.fontVariant),t||(e&&e.fontWeight?o.push(e.fontWeight):r.fontWeight&&o.push(r.fontWeight)),e&&e.fontStyle?o.push(e.fontStyle):r.fontStyle&&o.push(r.fontStyle),e&&e.fontSize?(J(e.fontSize)&&(e.fontSize=e.fontSize+"px"),o.push(e.fontSize)):r.fontSize&&(J(r.fontSize)&&(r.fontSize=r.fontSize+"px"),o.push(r.fontSize)),e&&e.fontFamily?o.push(e.fontFamily):r.fontFamily?o.push(r.fontFamily):o.length&&o.push("Arial"),o.join(" ")}_render(e){if(this._textInfo||this._measure(e),this.textVisible){const t=this._isInteractive(e),r=e.layer.context,o=e.layer.dirty,u=this._renderer._ghostLayer.context;r.save(),u.save(),this._prerender(e),K(this._textInfo,(f,m)=>{K(f.textChunks,(y,D)=>{if(y.style&&(r.save(),u.save(),r.font=y.style,this._isInteractive(e)&&(u.font=y.style)),y.fill&&(r.save(),r.fillStyle=y.fill.toCSS()),o&&r.fillText(y.text,y.offsetX,f.offsetY+y.offsetY),y.textDecoration=="underline"||y.textDecoration=="line-through"){let T=1,C=1,M=y.height,S=y.offsetX;switch(this.style.textAlign){case"right":case"end":S-=y.width;break;case"center":S-=y.width/2;break}if(y.style)switch(ei.getTextStyle(y.style).fontWeight){case"bolder":case"bold":case"700":case"800":case"900":T=2;break}M&&(C=M/20);let X;y.textDecoration=="line-through"?X=T+f.offsetY+y.offsetY-y.height/2:X=T+C*1.5+f.offsetY+y.offsetY,r.save(),r.beginPath(),y.fill?r.strokeStyle=y.fill.toCSS():this.style.fill&&this.style.fill instanceof ve&&(r.strokeStyle=this.style.fill.toCSS()),r.lineWidth=T*C,r.moveTo(S,X),r.lineTo(S+y.width,X),r.stroke(),r.restore()}t&&this.interactive&&u.fillText(y.text,y.offsetX,f.offsetY+y.offsetY),y.fill&&r.restore(),y.style&&(r.restore(),u.restore())})}),r.restore(),u.restore()}}_addBounds(e){if(this.visible&&this.isMeasured){const t=this._measure({inactive:this.inactive,layer:this.getLayer()});ht(e,{x:t.left,y:t.top}),ht(e,{x:t.right,y:t.bottom})}}_ignoreFontWeight(){return/apple/i.test(navigator.vendor)}_measure(e){const t=e.layer.context,r=this._renderer._ghostLayer.context,o=this.style.direction=="rtl";this._textInfo=[];const u=this.style.oversizedBehavior,f=this.style.maxWidth,m=J(f)&&u=="truncate",y=J(f)&&(u=="wrap"||u=="wrap-no-break");t.save(),r.save(),this._prerender(e,!0,this._ignoreFontWeight());const D="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",T=this.text.toString().replace(/\r/g,"").split(/\n/);let C=!0,M=0,S=0,X=0,O;K(T,(G,R)=>{let U;for(G==""?U=[{type:"value",text:""}]:U=ei.chunk(G,!1,this.style.ignoreFormatting);U.length>0;){let N={offsetY:X,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};const V=this._measureText(D,t),se=V.actualBoundingBoxAscent+V.actualBoundingBoxDescent;N.height=se,N.ascent=V.actualBoundingBoxAscent;let re,ee=this.style.textDecoration,oe,xe,me=!1,Pe=!0,ye=[],Ce;Nl(U,(Ae,qe)=>{if(Ae.type=="format")if(Ae.text=="[/]")C||(t.restore(),r.restore(),C=!0),oe=void 0,O=void 0,xe=void 0,ee=this.style.textDecoration,Ce=void 0,re=Ae.text;else{C||(t.restore(),r.restore());let Me=ei.getTextStyle(Ae.text);const $e=this._getFontStyle(Me);t.save(),r.save(),t.font=$e,O=$e,re=Ae.text,Me.textDecoration&&(ee=Me.textDecoration),Me.fill&&(oe=Me.fill),Me.width&&(xe=Bt(Me.width)),Me.verticalAlign&&(Ce=Me.verticalAlign),C=!1;const De=this._measureText(D,t),at=De.actualBoundingBoxAscent+De.actualBoundingBoxDescent;at>N.height&&(N.height=at),De.actualBoundingBoxAscent>N.ascent&&(N.ascent=De.actualBoundingBoxAscent)}else if(Ae.type=="value"&&!me){const Me=this._measureText(Ae.text,t);let $e=Me.actualBoundingBoxLeft+Me.actualBoundingBoxRight;if(m){let je=Pe||this.style.breakWords||!1;const We=this.style.ellipsis||"",yt=this._measureText(We,t),At=yt.actualBoundingBoxLeft+yt.actualBoundingBoxRight;if(N.width+$e>f){const Ee=f-N.width-At;Ae.text=this._truncateText(t,Ae.text,Ee,je),Ae.text+=We,me=!0}}else if(y&&N.width+$e>f){const je=f-N.width,We=this._truncateText(t,Ae.text,je,!1,Pe&&this.style.oversizedBehavior!="wrap-no-break");if(We=="")return this.textVisible=!0,!1;ye=U.slice(qe+1),Cs(We)!=Cs(Ae.text)&&(ye.unshift({type:"value",text:Ae.text.substr(We.length)}),re&&ye.unshift({type:"format",text:re})),Ae.text=Cs(We),U=[],me=!0}let De=1,at=1;if(O&&xe&&xe>$e){const je=$e/xe;switch(this.style.textAlign){case"right":case"end":De=je;break;case"center":De=je,at=je;break;default:at=je}$e=xe}const Tt=Me.actualBoundingBoxAscent+Me.actualBoundingBoxDescent;Tt>N.height&&(N.height=Tt),Me.actualBoundingBoxAscent>N.ascent&&(N.ascent=Me.actualBoundingBoxAscent),N.width+=$e,N.left+=Me.actualBoundingBoxLeft/De,N.right+=Me.actualBoundingBoxRight/at,N.textChunks.push({style:O,fill:oe,text:Ae.text,width:$e,height:Tt,left:Me.actualBoundingBoxLeft,right:Me.actualBoundingBoxRight,ascent:Me.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:ee,verticalAlign:Ce}),Pe=!1}return!0}),this.style.lineHeight instanceof Be?(N.height*=this.style.lineHeight.value,N.ascent*=this.style.lineHeight.value):(N.height*=this.style.lineHeight||1.2,N.ascent*=this.style.lineHeight||1.2),M<N.left&&(M=N.left),S<N.right&&(S=N.right),this._textInfo.push(N),X+=N.height,U=ye||[]}}),C||(t.restore(),r.restore()),K(this._textInfo,(G,R)=>{let U=0;K(G.textChunks,N=>{if(N.offsetX=U+N.left-G.left,N.offsetY+=G.height-G.height*(this.style.baselineRatio||.19),U+=N.width,N.verticalAlign)switch(N.verticalAlign){case"super":N.offsetY-=G.height/2-N.height/2;break;case"sub":N.offsetY+=N.height/2;break}})});const z={left:o?-S:-M,top:0,right:o?M:S,bottom:X};if(u!=="none"){const G=this._fitRatio(z);if(G<1)if(u=="fit")J(this.style.minScale)&&G<this.style.minScale?(this.textVisible=!1,z.left=0,z.top=0,z.right=0,z.bottom=0):((!this._originalScale||this._originalScale==1)&&(this._originalScale=this.scale),this.scale=G,this.textVisible=!0);else if(u=="hide")this.textVisible=!1,z.left=0,z.top=0,z.right=0,z.bottom=0;else{switch(this.style.textAlign){case"right":case"end":z.left=-f,z.right=0;break;case"center":z.left=-f/2,z.right=f/2;break;default:z.left=0,z.right=f}this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}return t.restore(),r.restore(),z}_fitRatio(e){const t=this.style.maxWidth,r=this.style.maxHeight;if(!J(t)&&!J(r))return 1;const o=e.right-e.left,u=e.bottom-e.top;return Math.min(t/o||1,r/u||1)}_truncateText(e,t,r,o=!1,u=!0){let f;do{if(o)t=t.slice(0,-1);else{let y=t.replace(/[^,;:!?\\\/\s]+[,;:!?\\\/\s]*$/g,"");if((y==""||y===t)&&u)o=!0;else{if(y=="")return t;t=y}}const m=this._measureText(t,e);f=m.actualBoundingBoxLeft+m.actualBoundingBoxRight}while(f>r&&t!="");return t}_measureText(e,t){let r=t.measureText(e),o={};if(r.actualBoundingBoxAscent==null){const f=document.createElement("div");f.innerText=e,f.style.visibility="hidden",f.style.position="absolute",f.style.top="-1000000px;",f.style.fontFamily=this.style.fontFamily||"",f.style.fontSize=this.style.fontSize+"",document.body.appendChild(f);const m=f.getBoundingClientRect();document.body.removeChild(f);const y=m.height,D=r.width;o={actualBoundingBoxAscent:y,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:D,fontBoundingBoxAscent:y,fontBoundingBoxDescent:0,width:D}}else o={actualBoundingBoxAscent:r.actualBoundingBoxAscent,actualBoundingBoxDescent:r.actualBoundingBoxDescent,actualBoundingBoxLeft:r.actualBoundingBoxLeft,actualBoundingBoxRight:r.actualBoundingBoxRight,fontBoundingBoxAscent:r.actualBoundingBoxAscent,fontBoundingBoxDescent:r.actualBoundingBoxDescent,width:r.width};const u=r.width;switch(this.style.textAlign){case"right":case"end":o.actualBoundingBoxLeft=u,o.actualBoundingBoxRight=0;break;case"center":o.actualBoundingBoxLeft=u/2,o.actualBoundingBoxRight=u/2;break;default:o.actualBoundingBoxLeft=0,o.actualBoundingBoxRight=u}return o}}class wm{constructor(){Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fillOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:Ht(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class _m extends nh{constructor(){super(...arguments),Object.defineProperty(this,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(this,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_render(e){switch(this.textType){case"circular":this._renderCircular(e);break;default:super._render(e);break}}_renderCircular(e){if(this.textVisible){this._prerender(e);const t=this._isInteractive(e),r=e.layer.context,o=e.layer.dirty,u=this._renderer._ghostLayer.context;r.save(),t&&u.save(),this._textInfo||this._measure(e);let f=this.radius||0,m=this.startAngle||0,y=0,D=this.orientation,T=D=="auto"?"auto":D=="inward";const C=this.inside,M=this.style.textAlign||"left",S=this.kerning||0;let X=M=="left"?1:-1;const O=!this._textReversed;if(T=="auto"){let z=0,G=0;K(this._textInfo,(R,U)=>{const N=m+R.width/(f-R.height)/2*-X;N>z&&(z=N)}),M=="left"?G=(z+y/2)*as:M=="right"?G=(z-y/2)*as:G=m*as,G=Cp(G),T=G>=270||G<=90}T==!0&&O&&(this._textInfo.reverse(),this._textReversed=!0),K(this._textInfo,(z,G)=>{const R=z.height;C||(f+=R),(X==-1&&T||X==1&&!T)&&O&&z.textChunks.reverse();let U=m;y=0,M=="center"&&(U+=z.width/(f-R)/2*-X,y=U-m),U+=Math.PI*(T?0:1),r.save(),t&&u.save(),r.rotate(U),t&&u.rotate(U);let N=0;K(z.textChunks,(V,se)=>{const re=V.text,ee=V.width;N=ee/2/(f-R)*X,r.rotate(N),t&&u.rotate(N),V.style&&(r.save(),u.save(),r.font=V.style,t&&(u.font=V.style)),V.fill&&(r.save(),r.fillStyle=V.fill.toCSS()),r.textBaseline="middle",r.textAlign="center",t&&(u.textBaseline="middle",u.textAlign="center"),o&&r.fillText(re,0,(T?1:-1)*(0-f+R/2)),t&&u.fillText(re,0,(T?1:-1)*(0-f+R/2)),V.fill&&r.restore(),V.style&&(r.restore(),u.restore()),N=(ee/2+S)/(f-R)*X,r.rotate(N),t&&u.rotate(N)}),r.restore(),t&&u.restore(),C&&(f-=R)}),r.restore(),t&&u.restore()}}_measure(e){switch(this.textType){case"circular":return this._measureCircular(e);default:return super._measure(e)}}_measureCircular(e){const t=e.layer.context,r=this._renderer._ghostLayer.context,o=this.style.direction=="rtl",u=this.style.oversizedBehavior,f=this.style.maxWidth,m=J(f)&&u=="truncate",y=this.style.ellipsis||"";let D;this.textVisible=!0,this._textInfo=[],this._textReversed=!1,t.save(),r.save(),this._prerender(e,!0);const T=this.text.toString().replace(/\r/g,"").split(/\n/);let C=!0,M=0,S=0;return K(T,(X,O)=>{let z=ei.chunk(X,!1,this.style.ignoreFormatting),G={offsetY:S,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]},R,U,N;K(z,(V,se)=>{if(V.type=="format"){if(V.text=="[/]")C||(t.restore(),r.restore(),C=!0),U=void 0,R=void 0,N=void 0;else{let re=ei.getTextStyle(V.text);const ee=this._getFontStyle(re);t.save(),r.save(),t.font=ee,R=ee,re.fill&&(U=re.fill),re.width&&(N=Bt(re.width)),C=!1}m&&(D=this._measureText(y,t))}else if(V.type=="value"){const re=V.text.match(/./ug)||[];o&&re.reverse();for(let ee=0;ee<re.length;ee++){const oe=re[ee],xe=this._measureText(oe,t);let me=xe.width;R&&N&&N>me&&(me=N);const Pe=xe.actualBoundingBoxAscent+xe.actualBoundingBoxDescent;if(Pe>G.height&&(G.height=Pe),xe.actualBoundingBoxAscent>G.ascent&&(G.ascent=xe.actualBoundingBoxAscent),M+=me,m){D||(D=this._measureText(y,t));const ye=D.actualBoundingBoxLeft+D.actualBoundingBoxRight;if(M+ye>f){G.textChunks.length==1?this.textVisible=!1:(G.width+=ye,G.left+=D.actualBoundingBoxLeft,G.right+=D.actualBoundingBoxRight,G.textChunks.push({style:R,fill:U,text:y,width:ye,height:Pe+D.actualBoundingBoxDescent,left:D.actualBoundingBoxLeft,right:D.actualBoundingBoxRight,ascent:D.actualBoundingBoxAscent,offsetX:0,offsetY:Pe,textDecoration:void 0}));break}}if(G.width+=me,G.left+=xe.actualBoundingBoxLeft,G.right+=xe.actualBoundingBoxRight,G.textChunks.push({style:R,fill:U,text:oe,width:me,height:Pe+xe.actualBoundingBoxDescent,left:xe.actualBoundingBoxLeft,right:xe.actualBoundingBoxRight,ascent:xe.actualBoundingBoxAscent,offsetX:0,offsetY:Pe,textDecoration:void 0}),o)break}}}),this.style.lineHeight instanceof Be?G.height*=this.style.lineHeight.value:G.height*=this.style.lineHeight||1.2,this._textInfo.push(G),S+=G.height}),C||(t.restore(),r.restore()),u=="hide"&&M>f&&(this.textVisible=!1),K(this._textInfo,X=>{K(X.textChunks,O=>{O.offsetY+=Math.round((X.height-O.height+(X.ascent-O.ascent))/2)})}),t.restore(),r.restore(),{left:0,top:0,right:0,bottom:0}}}class Dm extends Ma{constructor(e,t){super(e),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.image=t}_dispose(){super._dispose(),this._imageMask&&qs(this._imageMask)}getLocalBounds(){if(!this._localBounds){let e=0,t=0;this.width&&(e=this.width),this.height&&(t=this.height),this._localBounds={left:0,top:0,right:e,bottom:t},this._addBounds(this._localBounds)}return this._localBounds}_render(e){if(super._render(e),this.image){if(this.tainted===void 0&&(this.tainted=Eo(this.image),e.layer.tainted=!0),this.tainted&&this._renderer._omitTainted)return;if(e.layer.dirty){this.shadowColor&&(e.layer.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(e.layer.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(e.layer.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(e.layer.context.shadowOffsetY=this.shadowOffsetY);const t=this.width||this.image.naturalWidth,r=this.height||this.image.naturalHeight;e.layer.context.drawImage(this.image,0,0,t,r)}if(this.interactive&&this._isInteractive(e)){const t=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(t,0,0)}}}clear(){super.clear(),this.image=void 0,this._imageMask=void 0}_getMask(e){if(this._imageMask===void 0){const t=this.width||e.naturalWidth,r=this.height||e.naturalHeight,o=document.createElement("canvas");o.width=t,o.height=r;const u=o.getContext("2d");u.imageSmoothingEnabled=!1,u.fillStyle=this._getColorId(),u.fillRect(0,0,t,r),Eo(e)||(u.globalCompositeOperation="destination-in",u.drawImage(e,0,0,t,r)),this._imageMask=o}return this._imageMask}}class km{constructor(e,t,r,o){Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"originalPoint",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Ti("touchevents")&&e instanceof Touch?this.id=e.identifier:this.id=null}}class Cm extends Jg{constructor(e){if(super(),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:this.getLayer(0)}),Object.defineProperty(this,"_ghostLayer",{enumerable:!0,configurable:!0,writable:!0,value:new Am}),Object.defineProperty(this,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(this,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:this._patternCanvas.getContext("2d")}),Object.defineProperty(this,"_realWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_realHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e==null?this.resolution=window.devicePixelRatio:this.resolution=e,this.view.style.position="absolute",this.view.setAttribute("aria-hidden","true"),this.view.appendChild(this._layerDom),this._disposers.push(new ft(()=>{Ue(this._events,(t,r)=>{r.disposer.dispose()}),K(this.layers,t=>{qs(t.view),t.exportableView&&qs(t.exportableView)}),qs(this._ghostLayer.view),qs(this._patternCanvas)})),this._disposers.push(ql(()=>{e==null&&(this.resolution=window.devicePixelRatio)})),Ti("touchevents")){const t=r=>{this._dragging.length!==0&&Nl(this._dragging,o=>o.value.shouldCancelTouch()?(r.preventDefault(),!1):!0),this._touchActiveTimeout&&this._delayTouchDeactivate()};this._disposers.push(rt(window,"touchstart",t,{passive:!1})),this._disposers.push(rt(this.view,"touchstart",t,{passive:!1})),this._disposers.push(rt(this.view,"touchmove",()=>{this._touchActiveTimeout&&this._delayTouchDeactivate()},{passive:!0})),this._disposers.push(rt(window,"click",r=>{this._touchActive=!1},{passive:!0})),this._disposers.push(rt(this.view,"click",r=>{window.setTimeout(()=>{this._touchActive=!0,this._delayTouchDeactivate()},100)},{passive:!0}))}Ti("wheelevents")&&this._disposers.push(rt(this.view,"wheel",t=>{let r=!1;this._hovering.forEach(o=>{if(o.wheelable)return r=!0,!1}),r&&t.preventDefault()},{passive:!1}))}resetImageArray(){this._ghostLayer.imageArray=void 0}_delayTouchDeactivate(){this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout(()=>{this._touchActive=!1},this.tapToActivateTimeout))}get debugGhostView(){return!!this._ghostLayer.view.parentNode}set debugGhostView(e){e?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}createLinearGradient(e,t,r,o){return this.defaultLayer.context.createLinearGradient(e,t,r,o)}createRadialGradient(e,t,r,o,u,f){return this.defaultLayer.context.createRadialGradient(e,t,r,o,u,f)}createPattern(e,t,r,o,u){return this._patternCanvas.width=o,this._patternCanvas.height=u,this._patternContext.clearRect(0,0,o,u),t.renderDetached(this._patternContext),e.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,r)}makeContainer(){return new im(this)}makeGraphics(){return new ym(this)}makeText(e,t){return new nh(this,e,t)}makeTextStyle(){return new wm}makeRadialText(e,t){return new _m(this,e,t)}makePicture(e){return new Dm(this,e)}resizeLayer(e){e.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resizeGhost(){this._ghostLayer.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resize(e,t,r,o){this._realWidth=e,this._realHeight=t,this._calculatedWidth=r,this._calculatedHeight=o,K(this.layers,u=>{u&&(u.dirty=!0,this.resizeLayer(u))}),this.resizeGhost(),this.view.style.width=r+"px",this.view.style.height=o+"px"}createDetachedLayer(e=!1){const t=document.createElement("canvas"),r=t.getContext("2d",{willReadFrequently:e}),o=new Sm(t,r);return t.style.position="absolute",t.style.top="0px",t.style.left="0px",o}getLayerByOrder(e){const t=this.layers,r=t.length;for(let o=0;o<r;o++){const u=t[o];if(u.order==e)return u}}getLayer(e,t=!0){let r=this.getLayerByOrder(e);if(r)return r;const o=this.createDetachedLayer(e==99);o.order=e,o.visible=t,o.view.className="am5-layer-"+e,o.visible&&this.resizeLayer(o);const u=this.layers;u.push(o),u.sort((D,T)=>D.order>T.order?1:D.order<T.order?-1:0);const f=u.length,m=sr(u,o);let y;for(let D=m+1;D<f;D++)if(u[D].visible){y=u[D];break}return o.visible&&(y===void 0?this._layerDom.appendChild(o.view):this._layerDom.insertBefore(o.view,y.view)),o}render(e){if(this._dirtyLayers.length=0,K(this.layers,t=>{t&&t.dirty&&t.visible&&(this._dirtyLayers.push(t),t.clear())}),this._ghostLayer.clear(),e.render({inactive:null,layer:this.defaultLayer}),this._ghostLayer.context.restore(),K(this.layers,t=>{if(t){const r=t.context;r.beginPath(),r.moveTo(0,0),r.stroke()}}),K(this._dirtyLayers,t=>{t.context.restore(),t.dirty=!1}),this._hovering.size&&this._lastPointerMoveEvent){const{events:t,target:r,native:o}=this._lastPointerMoveEvent;K(t,u=>{this._dispatchGlobalMousemove(u,r,o)})}}paintId(e){const t=Qp(++this._colorId),r=ve.fromHex(t).toCSS();return this._colorMap[r]=e,r}_removeObject(e){e._colorId!==void 0&&delete this._colorMap[e._colorId]}_adjustBoundingBox(e){const t=this._ghostLayer.margin;return new DOMRect(-t.left,-t.top,e.width+t.left+t.right,e.height+t.top+t.bottom)}getEvent(e,t=!0){const r=this.view.getBoundingClientRect(),o=e.clientX||0,u=e.clientY||0,f=this._calculatedWidth/this._realWidth,m=this._calculatedHeight/this._realHeight,y={x:o-r.left,y:u-r.top},D={x:(o-(t?r.left:0))*f,y:(u-(t?r.top:0))*m};return new km(e,y,D,this._adjustBoundingBox(r))}_getHitTarget(e,t,r){if(t.width===0||t.height===0||e.x<t.left||e.x>t.right||e.y<t.top||e.y>t.bottom||!r||!this._layerDom.contains(r))return;const o=this._ghostLayer.getImageData(e,t);if(o.data[0]===0&&o.data[1]===0&&o.data[2]===0)return!1;const u=ve.fromRGB(o.data[0],o.data[1],o.data[2]).toCSS();return this._colorMap[u]}getObjectAtPoint(e){const t=this._ghostLayer.getImageArray(e);if(t[0]===0&&t[1]===0&&t[2]===0)return;const r=ve.fromRGB(t[0],t[1],t[2]).toCSS();return this._colorMap[r]}_withEvents(e,t){const r=this._events[e];if(r!==void 0){r.dispatching=!0;try{t(r)}finally{r.dispatching=!1,r.cleanup&&(r.cleanup=!1,Sa(r.callbacks,o=>!o.disposed),r.callbacks.length===0&&(r.disposer.dispose(),delete this._events[e]))}}}_dispatchEventAll(e,t){this.interactionsEnabled&&this._withEvents(e,r=>{K(r.callbacks,o=>{o.disposed||o.callback.call(o.context,t)})})}_dispatchEvent(e,t,r){if(!this.interactionsEnabled)return!1;let o=!1;return this._withEvents(e,u=>{K(u.callbacks,f=>{!f.disposed&&f.object===t&&(f.callback.call(f.context,r),o=!0)})}),o}_dispatchMousedown(e,t){const r=e.button;if(r!=0&&r!=2&&r!=1&&r!==void 0)return;const o=this.getEvent(e),u=this._getHitTarget(o.originalPoint,o.bbox,t);if(u){const f=o.id;let m=!1;Yr(u,y=>{const D={id:f,value:y};return this._mousedown.push(D),!m&&this._dispatchEvent("pointerdown",y,o)&&(m=!0,this._dragging.some(C=>C.value===y&&C.id===f)||this._dragging.push(D)),!0})}}_dispatchGlobalMousemove(e,t,r){const o=this.getEvent(e),u=this._getHitTarget(o.originalPoint,o.bbox,t);o.native=r,u?(this._hovering.forEach(f=>{f.contains(u)||(this._hovering.delete(f),f.cursorOverStyle&&Or(document.body,"cursor",f._replacedCursorStyle),this._dispatchEvent("pointerout",f,o))}),o.native&&Yr(u,f=>(this._hovering.has(f)||(this._hovering.add(f),f.cursorOverStyle&&(f._replacedCursorStyle=ip(document.body,"cursor"),Or(document.body,"cursor",f.cursorOverStyle)),this._dispatchEvent("pointerover",f,o)),!0))):(this._hovering.forEach(f=>{f.cursorOverStyle&&Or(document.body,"cursor",f._replacedCursorStyle),this._dispatchEvent("pointerout",f,o)}),this._hovering.clear()),this._dispatchEventAll("globalpointermove",o)}removeHovering(e){this._hovering.delete(e),e.cursorOverStyle&&Or(document.body,"cursor",e._replacedCursorStyle)}_dispatchGlobalMouseup(e,t){const r=this.getEvent(e);r.native=t,this._dispatchEventAll("globalpointerup",r)}_dispatchDragMove(e){if(this._dragging.length!==0){const t=this.getEvent(e),r=t.id;this._dragging.forEach(o=>{o.id===r&&this._dispatchEvent("pointermove",o.value,t)})}}_dispatchDragEnd(e,t){const r=e.button;let o;if(r==0||r===void 0)o="click";else if(r==2)o="rightclick";else if(r==1)o="middleclick";else return;const u=this.getEvent(e),f=u.id;if(this._mousedown.length!==0){const m=this._getHitTarget(u.originalPoint,u.bbox,t);m&&this._mousedown.forEach(y=>{y.id===f&&y.value.contains(m)&&this._dispatchEvent(o,y.value,u)}),this._mousedown.length=0}this._dragging.length!==0&&(this._dragging.forEach(m=>{m.id===f&&this._dispatchEvent("pointerup",m.value,u)}),this._dragging.length=0)}_dispatchDoubleClick(e,t){const r=this.getEvent(e),o=this._getHitTarget(r.originalPoint,r.bbox,t);o&&Yr(o,u=>!this._dispatchEvent("dblclick",u,r))}_dispatchWheel(e,t){const r=this.getEvent(e),o=this._getHitTarget(r.originalPoint,r.bbox,t);o&&Yr(o,u=>!this._dispatchEvent("wheel",u,r))}_makeSharedEvent(e,t){if(this._listeners[e]===void 0){const r=t();this._listeners[e]=new Ul(()=>{delete this._listeners[e],r.dispose()})}return this._listeners[e].increment()}_onPointerEvent(e,t){let r=!1,o=null;function u(){o=null,r=!1}return new Rt([new ft(()=>{o!==null&&clearTimeout(o),u()}),rt(this.view,bn(e),f=>{r=!0,o!==null&&clearTimeout(o),o=window.setTimeout(u,0)}),em(window,e,(f,m)=>{o!==null&&(clearTimeout(o),o=null),t(f,m,r),r=!1})])}_initEvent(e){switch(e){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",()=>{const t=(r,o,u)=>{this._lastPointerMoveEvent={events:r,target:o,native:u},K(r,f=>{this._dispatchGlobalMousemove(f,o,u)})};return new Rt([this._onPointerEvent("pointerdown",t),this._onPointerEvent("pointermove",t)])});case"globalpointerup":return this._makeSharedEvent("pointerup",()=>{const t=this._onPointerEvent("pointerup",(o,u,f)=>{K(o,m=>{this._dispatchGlobalMouseup(m,f)}),this._lastPointerMoveEvent={events:o,target:u,native:f}}),r=this._onPointerEvent("pointercancel",(o,u,f)=>{K(o,m=>{this._dispatchGlobalMouseup(m,f)}),this._lastPointerMoveEvent={events:o,target:u,native:f}});return new ft(()=>{t.dispose(),r.dispose()})});case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",()=>{const t=this._onPointerEvent("pointerdown",(f,m)=>{K(f,y=>{this._dispatchMousedown(y,m)})}),r=this._onPointerEvent("pointermove",f=>{K(f,m=>{this._dispatchDragMove(m)})}),o=this._onPointerEvent("pointerup",(f,m)=>{K(f,y=>{this._dispatchDragEnd(y,m)})}),u=this._onPointerEvent("pointercancel",(f,m)=>{K(f,y=>{this._dispatchDragEnd(y,m)})});return new ft(()=>{t.dispose(),r.dispose(),o.dispose(),u.dispose()})});case"dblclick":return this._makeSharedEvent("dblclick",()=>this._onPointerEvent("dblclick",(t,r)=>{K(t,o=>{this._dispatchDoubleClick(o,r)})}));case"wheel":return this._makeSharedEvent("wheel",()=>rt(this.view,bn("wheel"),t=>{this._dispatchWheel(t,Zl(t))},{passive:!1}))}}_addEvent(e,t,r,o){let u=this._events[t];u===void 0&&(u=this._events[t]={disposer:this._initEvent(t),callbacks:[],dispatching:!1,cleanup:!1});const f={object:e,context:o,callback:r,disposed:!1};return u.callbacks.push(f),new ft(()=>{f.disposed=!0,u.dispatching?u.cleanup=!0:(Ft(u.callbacks,f),u.callbacks.length===0&&(u.disposer.dispose(),delete this._events[t]))})}getCanvas(e,t){this.render(e),t||(t={});let r=this.resolution,o=Math.floor(this._calculatedWidth*this.resolution),u=Math.floor(this._calculatedHeight*this.resolution);if(t.minWidth&&t.minWidth>o){let S=t.minWidth/o;S>r&&(r=S*this.resolution)}if(t.minHeight&&t.minHeight>u){let S=t.minHeight/u;S>r&&(r=S*this.resolution)}if(t.maxWidth&&t.maxWidth<o){let S=t.maxWidth/o;S<r&&(r=S*this.resolution)}if(t.maxHeight&&t.maxHeight>u){let S=t.maxHeight/u;S<r&&(r=S*this.resolution)}t.maintainPixelRatio&&(r/=this.resolution);const f=[];let m=!1;const y=document.createElement("canvas");r!=this.resolution&&(m=!0,o=o*r/this.resolution,u=u*r/this.resolution),y.width=o,y.height=u,y.style.position="fixed",y.style.top="-10000px",this.view.appendChild(y),f.push(y);const D=y.getContext("2d");let T=0,C=0,M=!1;return K(this.layers,S=>{if(S&&S.visible&&(S.tainted||m)){M=!0,S.exportableView=S.view,S.exportableContext=S.context,S.view=document.createElement("canvas"),S.view.style.position="fixed",S.view.style.top="-10000px",this.view.appendChild(S.view),f.push(S.view);let X=0,O=0;S.margin&&(X+=S.margin.left||0+S.margin.right||0,O+=S.margin.top||0+S.margin.bottom||0),S.view.width=o+X,S.view.height=u+O,S.context=S.view.getContext("2d"),S.dirty=!0,S.scale=r}}),M&&(this._omitTainted=!0,this.render(e),this._omitTainted=!1),K(this.layers,S=>{if(S&&S.visible){let X=0,O=0;S.margin&&(X=-(S.margin.left||0)*this.resolution,O=-(S.margin.top||0)*this.resolution),D.drawImage(S.view,X,O),S.exportableView&&(S.view=S.exportableView,S.exportableView=void 0),S.exportableContext&&(S.context=S.exportableContext,S.exportableContext=void 0),T<S.view.clientWidth&&(T=S.view.clientWidth),C<S.view.clientHeight&&(C=S.view.clientHeight),S.scale=void 0}}),y.style.width=T+"px",y.style.height=C+"px",K(f,S=>{S.style.position="",S.style.top="",this.view.removeChild(S)}),y}}class Am{constructor(){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"imageArray",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}resize(e,t,r,o,u){this._resolution=u,e+=this.margin.left+this.margin.right,t+=this.margin.top+this.margin.bottom,r+=this.margin.left+this.margin.right,o+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(e*u),this._height=Math.floor(t*u),this.view.width=this._width,this.view.style.width=r+"px",this.view.height=this._height,this.view.style.height=o+"px"}getImageData(e,t){return this.context.getImageData(Math.round((e.x-t.left)/t.width*this._width),Math.round((e.y-t.top)/t.height*this._height),1,1)}getImageArray(e){this.imageArray||(this.imageArray=this.context.getImageData(0,0,this._width,this._height).data);const t=this.imageArray,r=Math.round(e.x*this._resolution),u=(Math.round(e.y*this._resolution)*this._width+r)*4;return[t[u],t[u+1],t[u+2],t[u+3]]}setMargin(e){this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,K(e,t=>{t.margin&&(this.margin.left=Math.max(this.margin.left,t.margin.left),this.margin.right=Math.max(this.margin.right,t.margin.right),this.margin.top=Math.max(this.margin.top,t.margin.top),this.margin.bottom=Math.max(this.margin.bottom,t.margin.bottom))})}clear(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}}class Sm{constructor(e,t){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dirty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportableView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exportableContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=e,this.context=t}resize(e,t,r,o,u){this.width!=null&&(e=this.width,r=this.width),this.height!=null&&(t=this.height,o=this.height),this.margin?(e+=this.margin.left+this.margin.right,t+=this.margin.top+this.margin.bottom,r+=this.margin.left+this.margin.right,o+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(e*u),this._height=Math.floor(t*u),this.view.width=this._width,this.view.style.width=r+"px",this.view.height=this._height,this.view.style.height=o+"px"}clear(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}}function Lo(n,e){n==null?requestAnimationFrame(e):setTimeout(()=>{requestAnimationFrame(e)},1e3/n)}class Ea{constructor(e,t={},r){if(Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_updateTick",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Rs}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipContainerSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:Vp.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:ah}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:Xp.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:Np.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:Wp.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_a11yD",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:Fs.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:Ps.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:ns.new(this,{})}),Object.defineProperty(this,"_paused",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),!r)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=t,t.accessible==!1&&(this._a11yD=!0),t.useSafeResolution==null&&(t.useSafeResolution=!0);let o;t.useSafeResolution&&(o=ap()),this._renderer=new Cm(o);let u;if(e instanceof HTMLElement?u=e:u=document.getElementById(e),K(di.rootElements,y=>{if(y.dom===u)throw new Error("You cannot have multiple Roots on the same DOM node")}),this.interfaceColors=ta.new(this,{}),u===null)throw new Error("Could not find HTML element with id `"+e+"`");this.dom=u;let f=document.createElement("div");f.style.position="relative",f.style.width="100%",f.style.height="100%",u.appendChild(f);const m=t.tooltipContainerBounds;m&&(this._tooltipContainerSettings=m),this._inner=f,this._updateComputedStyles(),di.rootElements.push(this)}static new(e,t){const r=new Ea(e,t,!0);return r._init(),r}moveDOM(e){let t;if(e instanceof HTMLElement?t=e:t=document.getElementById(e),t){for(;this.dom.childNodes.length>0;)t.appendChild(this.dom.childNodes[0]);this.dom=t,this._initResizeSensor(),this.resize()}}_handleLogo(){if(this._logo){const e=this.dom.offsetWidth,t=this.dom.offsetHeight;e<=150||t<=60?this._logo.hide():this._logo.show()}}_showBranding(){if(!this._logo){const e=this.tooltipContainer.children.push(ke.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:Ht(100),centerY:fe,tooltipText:"Created using amCharts 5",tooltipX:fe,cursorOverStyle:"pointer",background:jt.new(this,{fill:vs(4671320),fillOpacity:0,tooltipY:5})})),t=os.new(this,{pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});t.label.setAll({fontSize:12}),t.get("background").setAll({fill:this.interfaceColors.get("background"),stroke:this.interfaceColors.get("grid"),strokeOpacity:.3}),e.set("tooltip",t),e.events.on("click",()=>{window.open("https://www.amcharts.com/","_blank")}),e.states.create("hover",{}),e.children.push(Ge.new(this,{stroke:vs(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"})).states.create("hover",{stroke:vs(3976191)}),e.children.push(Ge.new(this,{stroke:vs(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"})).states.create("hover",{stroke:vs(4671320)}),this._logo=e,this._handleLogo()}}_getRealSize(){return this.dom.getBoundingClientRect()}_getCalculatedSize(e){return this._settings.calculateSize?this._settings.calculateSize(e):{width:e.width,height:e.height}}_init(){const e=this._settings;e.accessible!==!1&&(e.focusable&&(this._inner.setAttribute("focusable","true"),this._inner.setAttribute("tabindex",this.tabindex+"")),e.ariaLabel&&this._inner.setAttribute("aria-label",e.ariaLabel),e.role&&this._inner.setAttribute("role",e.role));const t=this._renderer,r=this._getRealSize(),o=this._getCalculatedSize(r),u=Math.floor(o.width),f=Math.floor(o.height),m=Math.floor(r.width),y=Math.floor(r.height),D=ke.new(this,{visible:!0,width:u,height:f});this._rootContainer=D,this._rootContainer._defaultThemes.push(Gp.new(this));const T=D.children.push(ke.new(this,{visible:!0,width:fe,height:fe}));this.container=T,t.resize(m,y,u,f),this._inner.appendChild(t.view),this._initResizeSensor();const C=document.createElement("div");if(this._htmlElementContainer=C,C.className="am5-html-container",C.style.position="absolute",C.style.pointerEvents="none",this._tooltipContainerSettings||(C.style.overflow="hidden"),this._inner.appendChild(C),this._a11yD!==!0){const M=document.createElement("div");M.className="am5-reader-container",M.setAttribute("role","alert"),M.style.position="absolute",M.style.width="1px",M.style.height="1px",M.style.overflow="hidden",M.style.clip="rect(1px, 1px, 1px, 1px)",this._readerAlertElement=M,this._inner.appendChild(this._readerAlertElement);const S=document.createElement("div");S.className="am5-focus-container",S.style.position="absolute",S.style.pointerEvents="none",S.style.top="0px",S.style.left="0px",S.style.overflow="hidden",S.style.width=u+"px",S.style.height=f+"px",S.setAttribute("role","graphics-document"),xs(S,!1),this._focusElementContainer=S,this._inner.appendChild(this._focusElementContainer);const X=document.createElement("div");this._tooltipElementContainer=X,X.className="am5-tooltip-container",this._inner.appendChild(X),Ti("keyboardevents")&&(this._disposers.push(rt(window,"keydown",O=>{O.keyCode==16?this._isShift=!0:O.keyCode==9&&(this._isShift=O.shiftKey)})),this._disposers.push(rt(window,"keyup",O=>{O.keyCode==16&&(this._isShift=!1)})),this._disposers.push(rt(S,"click",()=>{const O=this._focusedSprite;if(O){const z=t.getEvent(new MouseEvent("click"));O.events.dispatch("click",{type:"click",originalEvent:z.event,point:z.point,simulated:!0,target:O})}})),this._disposers.push(rt(S,"keydown",O=>{const z=this._focusedSprite;if(z){O.keyCode==27&&(ep(),this._focusedSprite=void 0);let G=0,R=0;switch(O.keyCode){case 13:O.preventDefault();const U=t.getEvent(new MouseEvent("click"));z.events.dispatch("click",{type:"click",originalEvent:U.event,point:U.point,simulated:!0,target:z});return;case 37:G=-6;break;case 39:G=6;break;case 38:R=-6;break;case 40:R=6;break;default:return}if(G!=0||R!=0){if(O.preventDefault(),!z.isDragging()){this._keyboardDragPoint={x:0,y:0};const V=t.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));z.events.isEnabled("pointerdown")&&z.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:V.event,point:V.point,simulated:!0,target:z})}const U=this._keyboardDragPoint;U.x+=G,U.y+=R;const N=t.getEvent(new MouseEvent("mousemove",{clientX:U.x,clientY:U.y}),!1);z.events.isEnabled("globalpointermove")&&z.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:N.event,point:N.point,simulated:!0,target:z})}}})),this._disposers.push(rt(S,"keyup",O=>{if(this._focusedSprite){const z=this._focusedSprite,G=O.keyCode;switch(G){case 37:case 39:case 38:case 40:if(z.isDragging()){const R=this._keyboardDragPoint,U=t.getEvent(new MouseEvent("mouseup",{clientX:R.x,clientY:R.y}));z.events.isEnabled("globalpointerup")&&z.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:U.event,point:U.point,simulated:!0,target:z}),this._keyboardDragPoint=void 0;return}else if(z.get("focusableGroup")){const R=z.get("focusableGroup"),U=this._tabindexes.filter(se=>se.get("focusableGroup")==R&&se.getPrivate("focusable")!==!1);let N=U.indexOf(z);const V=U.length-1;N+=G==39||G==40?1:-1,N<0?N=V:N>V&&(N=0),tp(U[N].getPrivate("focusElement").dom)}break}}})))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}_initResizeSensor(){this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new zp(this.dom,()=>{this.autoResize&&this.resize()}),this._disposers.push(this._resizeSensorDisposer)}resize(){const e=this._getRealSize(),t=this._getCalculatedSize(e),r=Math.floor(t.width),o=Math.floor(t.height);if(r>0&&o>0){const u=Math.floor(e.width),f=Math.floor(e.height),m=this._htmlElementContainer;if(m.style.width=r+"px",m.style.height=o+"px",this._a11yD!==!0){const D=this._focusElementContainer;D.style.width=r+"px",D.style.height=o+"px"}this._renderer.resize(u,f,r,o);const y=this._rootContainer;y.setPrivate("width",r),y.setPrivate("height",o),this._render(),this._handleLogo()}}_render(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}_runTickers(e){K(this._tickers,t=>{t(e)})}_runAnimations(e){let t=0;return Sa(this._animations,r=>{const o=r._runAnimation(e);return o===rs.Stopped?!1:(o===rs.Playing&&++t,!0)}),t===0}_runDirties(){let e={};for(;this._isDirtyParents;)this._isDirtyParents=!1,ut(this._dirtyParents).forEach(f=>{const m=this._dirtyParents[f];delete this._dirtyParents[f],m.isDisposed()||(e[m.uid]=m,m._prepareChildren())});ut(e).forEach(f=>{e[f]._updateChildren()});const t=[];ut(this._dirty).forEach(f=>{const m=this._dirty[f];m.isDisposed()?delete this._dirty[m.uid]:(t.push(m),m._beforeChanged())}),t.forEach(f=>{f._changed(),delete this._dirty[f.uid],f._clearDirty()}),this._isDirty=!1;const r={},o=[];ut(this._dirtyBounds).forEach(f=>{const m=this._dirtyBounds[f];delete this._dirtyBounds[f],m.isDisposed()||(r[m.uid]=m.depth(),o.push(m))}),this._positionHTMLElements(),o.sort((f,m)=>fi(r[m.uid],r[f.uid])),o.forEach(f=>{f._updateBounds()});const u=this._dirtyPositions;ut(u).forEach(f=>{const m=u[f];delete u[f],m.isDisposed()||m._updatePosition()}),t.forEach(f=>{f._afterChanged()})}_renderFrame(e){if(this._updateTick){this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:e}),this._checkComputedStyles(),this._runTickers(e);const t=this._runAnimations(e);return this._runDirties(),this._render(),this._renderer.resetImageArray(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:e}),this._tickers.length===0&&t&&!this._isDirty}else return!0}_runTicker(e,t){this.isDisposed()||(this.animationTime=e,this._renderFrame(e)?(this._ticker=null,this.animationTime=null):this._paused||(t?this._ticker:Lo(this.fps,this._ticker)))}_runTickerNow(e=1e4){if(!this.isDisposed()){const t=performance.now()+e;for(;;){const r=performance.now();if(r>=t){this.animationTime=null;break}if(this.animationTime=r,this._renderFrame(r)){this.animationTime=null;break}}}}_startTicker(){this._ticker===null&&(this.animationTime=null,this._ticker=e=>{this._runTicker(e)},Lo(this.fps,this._ticker))}get updateTick(){return this._updateTick}set updateTick(e){this._updateTick=e,e&&this._startTicker()}_addDirtyEntity(e){this._dirty[e.uid]===void 0&&(this._isDirty=!0,this._dirty[e.uid]=e,this._startTicker())}_addDirtyParent(e){this._dirtyParents[e.uid]===void 0&&(this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[e.uid]=e,this._startTicker())}_addDirtyBounds(e){this._dirtyBounds[e.uid]===void 0&&(this._isDirty=!0,this._dirtyBounds[e.uid]=e,this._startTicker())}_addDirtyPosition(e){this._dirtyPositions[e.uid]===void 0&&(this._isDirty=!0,this._dirtyPositions[e.uid]=e,this._startTicker())}_addAnimation(e){this._animations.indexOf(e)===-1&&this._animations.push(e),this._startTicker()}_markDirty(){this._isDirty=!0}_markDirtyRedraw(){this.events.once("frameended",()=>{this._isDirty=!0,this._startTicker()})}eachFrame(e){return this._tickers.push(e),this._startTicker(),new ft(()=>{Ft(this._tickers,e)})}markDirtyGlobal(e){e||(e=this.container),e.walkChildren(t=>{t instanceof ke&&this.markDirtyGlobal(t),t.markDirty(),t.markDirtyBounds()})}width(){return Math.floor(this._getCalculatedSize(this._getRealSize()).width)}height(){return Math.floor(this._getCalculatedSize(this._getRealSize()).height)}dispose(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),K(this._disposers,e=>{e.dispose()}),this._inner&&Qg(this._inner),Gt(di.rootElements,this))}isDisposed(){return this._isDisposed}readerAlert(e){this._a11yD!==!0&&(this._readerAlertElement.innerHTML=wo(e))}setThemes(e){this._rootContainer.set("themes",e);const t=this.tooltipContainer;t&&t._applyThemes();const r=this.interfaceColors;r&&r._applyThemes()}_addTooltip(){if(!this.tooltipContainer){const e=this._tooltipContainerSettings,t=this._rootContainer.children.push(ke.new(this,{position:"absolute",isMeasured:!1,width:fe,height:fe,layer:e?35:30,layerMargin:e||void 0}));this.tooltipContainer=t;const r=os.new(this,{});this.container.set("tooltip",r),r.hide(0),this._tooltip=r}}_registerTabindexOrder(e){this._a11yD!=!0&&(e.get("focusable")?rr(this._tabindexes,e):Gt(this._tabindexes,e),this._invalidateTabindexes())}_unregisterTabindexOrder(e){this._a11yD!=!0&&(Gt(this._tabindexes,e),this._invalidateTabindexes())}_invalidateTabindexes(){if(this._a11yD==!0)return;this._tabindexes.sort((t,r)=>{const o=t.get("tabindexOrder",0),u=r.get("tabindexOrder",0);return o==u?0:o>u?1:-1});const e=[];K(this._tabindexes,(t,r)=>{t.getPrivate("focusElement")?this._moveFocusElement(r,t):this._makeFocusElement(r,t);const o=t.get("focusableGroup");o&&t.getPrivate("focusable")!==!1&&(e.indexOf(o)!==-1?t.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):e.push(o))})}_updateCurrentFocus(){this._a11yD!=!0&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}_decorateFocusElement(e,t){if(this._a11yD==!0||(t||(t=e.getPrivate("focusElement").dom),!t))return;const r=e.get("role");r?t.setAttribute("role",r):t.removeAttribute("role");const o=e.get("ariaLabel");if(o){const S=ea(e,o);t.setAttribute("aria-label",S)}else t.removeAttribute("aria-label");const u=e.get("ariaLive");u?t.setAttribute("aria-live",u):t.removeAttribute("aria-live");const f=e.get("ariaChecked");f!=null&&r&&["checkbox","option","radio","menuitemcheckbox","menuitemradio","treeitem"].indexOf(r)!==-1?t.setAttribute("aria-checked",f?"true":"false"):t.removeAttribute("aria-checked"),e.get("ariaHidden")?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden");const m=e.get("ariaOrientation");m?t.setAttribute("aria-orientation",m):t.removeAttribute("aria-orientation");const y=e.get("ariaValueNow");y?t.setAttribute("aria-valuenow",y):t.removeAttribute("aria-valuenow");const D=e.get("ariaValueMin");D?t.setAttribute("aria-valuemin",D):t.removeAttribute("aria-valuemin");const T=e.get("ariaValueMax");T?t.setAttribute("aria-valuemax",T):t.removeAttribute("aria-valuemax");const C=e.get("ariaValueText");C?t.setAttribute("aria-valuetext",C):t.removeAttribute("aria-valuetext");const M=e.get("ariaControls");M?t.setAttribute("aria-controls",M):t.removeAttribute("aria-controls"),e.get("visible")&&e.get("opacity")!==0&&e.get("role")!="tooltip"&&!e.isHidden()&&e.getPrivate("focusable")!==!1?(t.getAttribute("tabindex")!="-1"&&t.setAttribute("tabindex",""+this.tabindex),t.removeAttribute("aria-hidden")):(t.removeAttribute("tabindex"),t.setAttribute("aria-hidden","true"))}_makeFocusElement(e,t){if(t.getPrivate("focusElement")||this._a11yD==!0)return;const r=document.createElement("div");t.get("role")!="tooltip"&&(r.tabIndex=this.tabindex),r.style.position="absolute",xs(r,!1);const o=[];t.setPrivate("focusElement",{dom:r,disposers:o}),this._decorateFocusElement(t),o.push(rt(r,"focus",u=>{this._handleFocus(u,e)})),o.push(rt(r,"blur",u=>{this._handleBlur(u,e)})),this._moveFocusElement(e,t)}_removeFocusElement(e){if(this._a11yD==!0)return;Gt(this._tabindexes,e);const t=e.getPrivate("focusElement");t&&(this._focusElementContainer.removeChild(t.dom),K(t.disposers,o=>{o.dispose()}))}_hideFocusElement(e){if(this._a11yD==!0)return;const t=e.getPrivate("focusElement");t.dom.style.display="none"}_moveFocusElement(e,t){if(this._a11yD==!0)return;const r=this._focusElementContainer,o=t.getPrivate("focusElement").dom;if(o===this._focusElementContainer.children[e])return;const u=this._focusElementContainer.children[e+1];u?r.insertBefore(o,u):r.append(o)}_positionFocusElement(e){if(this._a11yD==!0||e==null)return;const t=e.globalBounds();let r=t.right==t.left?e.width():t.right-t.left,o=t.top==t.bottom?e.height():t.bottom-t.top;const u=this._settings.focusPadding!==void 0?this._settings.focusPadding:2;let f=t.left-u,m=t.top-u;r<0&&(f+=r,r=Math.abs(r)),o<0&&(m+=o,o=Math.abs(o));const y=e.getPrivate("focusElement").dom;y.style.top=m+"px",y.style.left=f+"px",y.style.width=r+u*2+"px",y.style.height=o+u*2+"px"}_handleFocus(e,t){if(this._a11yD==!0)return;const r=this._tabindexes[t];if(!r.isVisibleDeep()){this._focusNext(e.target,this._isShift?-1:1);return}this._positionFocusElement(r),this._focusedSprite=r,r.events.isEnabled("focus")&&r.events.dispatch("focus",{type:"focus",originalEvent:e,target:r})}_focusNext(e,t){if(this._a11yD==!0)return;const r=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(",")));let o=r.indexOf(e)+t;o<0?o=r.length-1:o>=r.length&&(o=0),r[o].focus()}_handleBlur(e,t){if(this._a11yD==!0)return;const r=this._focusedSprite;r&&!r.isDisposed()&&r.events.isEnabled("blur")&&r.events.dispatch("blur",{type:"blur",originalEvent:e,target:r}),this._focusedSprite=void 0}updateTooltip(e){if(this._a11yD==!0)return;const t=wo(e._getText());let r=e.getPrivate("tooltipElement");e.get("role")=="tooltip"&&t!=""?(r||(r=this._makeTooltipElement(e)),r.innerHTML!=t&&(r.innerHTML=t)):r&&(r.remove(),e.removePrivate("tooltipElement"))}_makeTooltipElement(e){const t=this._tooltipElementContainer,r=document.createElement("div");return r.style.position="absolute",r.style.width="1px",r.style.height="1px",r.style.overflow="hidden",r.style.clip="rect(1px, 1px, 1px, 1px)",xs(r,!1),this._decorateFocusElement(e,r),t.append(r),e.setPrivate("tooltipElement",r),r}_removeTooltipElement(e){if(this._a11yD==!0)return;const t=e.getPrivate("tooltipElement");if(t){const r=t.parentElement;r&&r.removeChild(t)}}_invalidateAccessibility(e){if(this._a11yD==!0)return;this._focusElementDirty=!0;const t=e.getPrivate("focusElement");e.get("focusable")?t&&(this._decorateFocusElement(e),this._positionFocusElement(e)):t&&this._removeFocusElement(e)}focused(e){return this._focusedSprite===e}documentPointToRoot(e){const t=this._getRealSize(),r=this._getCalculatedSize(t),o=r.width/t.width,u=r.height/t.height;return{x:(e.x-t.left)*o,y:(e.y-t.top)*u}}rootPointToDocument(e){const t=this._getRealSize(),r=this._getCalculatedSize(t),o=r.width/t.width,u=r.height/t.height;return{x:e.x/o+t.left,y:e.y/u+t.top}}addDisposer(e){return this._disposers.push(e),e}_updateComputedStyles(){const e=window.getComputedStyle(this.dom);let t="";Ue(e,(o,u)=>{Ss(o)&&o.match(/^font/)&&(t+=u)});const r=t!=this._fontHash;return r&&(this._fontHash=t),r}_checkComputedStyles(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}_invalidateLabelBounds(e){e instanceof ke?e.children.each(t=>{this._invalidateLabelBounds(t)}):e instanceof or&&e.markDirtyBounds()}_hasLicense(){for(let e=0;e<di.licenses.length;e++)if(di.licenses[e].match(/^AM5C.{5,}/i))return!0;return!1}_licenseApplied(){this._logo&&this._logo.set("forceHidden",!0)}get debugGhostView(){return this._renderer.debugGhostView}set debugGhostView(e){this._renderer.debugGhostView=e}set tapToActivate(e){this._renderer.tapToActivate=e}get tapToActivate(){return this._renderer.tapToActivate}set tapToActivateTimeout(e){this._renderer.tapToActivateTimeout=e}get tapToActivateTimeout(){return this._renderer.tapToActivateTimeout}_makeHTMLElement(e){const t=this._htmlElementContainer,r=document.createElement("div");return e.setPrivate("htmlElement",r),r.style.position="absolute",r.style.overflow="auto",r.style.boxSizing="border-box",xs(r,e.get("interactive",!1)),e.events.isEnabled("click")&&(xs(r,!0),this._disposers.push(rt(r,"click",o=>{const u=this._renderer.getEvent(o);e.events.dispatch("click",{type:"click",originalEvent:u.event,point:u.point,simulated:!1,target:e})}))),this._positionHTMLElement(e),t.append(r),rr(this._htmlEnabledContainers,e),r}_positionHTMLElements(){K(this._htmlEnabledContainers,e=>{this._positionHTMLElement(e)})}_positionHTMLElement(e){const t=e.getPrivate("htmlElement");if(t){K(["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"],C=>{const M=e.get(C);M?t.style[C]=M+"px":t.style[C]=""});const o=e.compositeOpacity();setTimeout(()=>{t.style.opacity=o+""},10);const u=e.isVisibleDeep();u&&(t.style.display="block");const f=e.globalBounds();t.style.top=f.top+"px",t.style.left=f.left+"px";const m=e.get("width"),y=e.get("height");let D=0,T=0;if(m&&(D=e.width()),y&&(T=e.height()),!m||!y){t.style.position="fixed",t.style.width="",t.style.height="";const C=t.getBoundingClientRect();t.style.position="absolute",D=C.width,T=C.height,e._adjustedLocalBounds={left:0,right:0,top:0,bottom:0},e.setPrivate("minWidth",D),e.setPrivate("minHeight",T)}else e.removePrivate("minWidth"),e.removePrivate("minHeight");D>0&&(t.style.minWidth=D+"px"),T>0&&(t.style.minHeight=T+"px"),(!u||o==0)&&(t.style.display="none")}}_setHTMLContent(e,t){let r=e.getPrivate("htmlElement");r||(r=this._makeHTMLElement(e)),r.innerHTML!=t&&(r.innerHTML=t)}_removeHTMLContent(e){let t=e.getPrivate("htmlElement");t&&(this._htmlElementContainer.removeChild(t),e.removePrivate("htmlElement")),Gt(this._htmlEnabledContainers,e)}}class ia extends pt{constructor(){super(...arguments),Object.defineProperty(this,"_index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}_beforeChanged(){if(super._beforeChanged(),this.isDirty("sprite")){const e=this.get("sprite");e&&(e.setAll({position:"absolute",role:"figure"}),this._disposers.push(e))}(this.isDirty("locationX")||this.isDirty("locationY"))&&this.series&&this.series._positionBullet(this)}}Object.defineProperty(ia,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Bullet"});Object.defineProperty(ia,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pt.classNames.concat([ia.className])});class Ts extends jt{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let e=this.width(),t=this.height(),r=e,o=t,u=r/Math.abs(e),f=o/Math.abs(t);if(J(r)&&J(o)){let m=Math.min(r,o)/2,y=xt(this.get("cornerRadiusTL",8),m),D=xt(this.get("cornerRadiusTR",8),m),T=xt(this.get("cornerRadiusBR",8),m),C=xt(this.get("cornerRadiusBL",8),m),M=Math.min(Math.abs(r/2),Math.abs(o/2));y=dt(y,0,M),D=dt(D,0,M),T=dt(T,0,M),C=dt(C,0,M);const S=this._display;S.moveTo(y*u,0),S.lineTo(r-D*u,0),D>0&&S.arcTo(r,0,r,D*f,D),S.lineTo(r,o-T*f),T>0&&S.arcTo(r,o,r-T*u,o,T),S.lineTo(C*u,o),C>0&&S.arcTo(0,o,0,o-C*f,C),S.lineTo(0,y*f),y>0&&S.arcTo(0,0,y*u,0,y),S.closePath()}}}Object.defineProperty(Ts,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"});Object.defineProperty(Ts,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:jt.classNames.concat([Ts.className])});class lr extends ke{_afterNew(){this._settings.themeTags=tt(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",Ts.new(this._root,{themeTags:tt(this._settings.themeTags,["background"])})),this.setPrivate("trustBounds",!0)}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){const e=this._prevSettings.icon,t=this.get("icon");t!==e&&(this._disposeProperty("icon"),e&&e.dispose(),t&&this.children.push(t),this._prevSettings.icon=t)}if(this.isDirty("label")){const e=this._prevSettings.label,t=this.get("label");t!==e&&(this._disposeProperty("label"),e&&e.dispose(),t&&this.children.push(t),this._prevSettings.label=t)}}}Object.defineProperty(lr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"});Object.defineProperty(lr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ke.classNames.concat([lr.className])});class sa extends Ge{_afterNew(){super._afterNew(),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}_beforeChanged(){super._beforeChanged(),this.isDirty("radius")&&(this._clear=!0)}_changed(){super._changed(),this._clear&&this._display.drawCircle(0,0,this.get("radius",10))}}Object.defineProperty(sa,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Circle"});Object.defineProperty(sa,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ge.classNames.concat([sa.className])});class Pm extends Ys{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(e){this.processor&&this.processor.processRow(e),super._onPush(e)}_onInsertIndex(e,t){this.processor&&this.processor.processRow(t),super._onInsertIndex(e,t)}_onSetIndex(e,t,r){this.processor&&this.processor.processRow(r),super._onSetIndex(e,t,r)}}class ti extends sh{constructor(e,t,r){super(r),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=t,this.component=e,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(e){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,e)}hide(e){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,e)}isHidden(){return!this.get("visible")}}class ls extends ke{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new Pm}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(e){e.incrementRef(),this._data.decrementRef(),this._data=e}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll(e=>{const t=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,e.type==="clear")K(t,r=>{r.dispose()}),t.length=0,this._onDataClear();else if(e.type==="push"){const r=new ti(this,e.newValue,this._makeDataItem(e.newValue));t.push(r),this.processDataItem(r)}else if(e.type==="setIndex"){const r=t[e.index],o=this._makeDataItem(e.newValue);r.bullets&&r.bullets.length==0&&(r.bullets=void 0),ut(o).forEach(u=>{r.animate({key:u,to:o[u],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})}),r.dataContext=e.newValue}else if(e.type==="insertIndex"){const r=new ti(this,e.newValue,this._makeDataItem(e.newValue));t.splice(e.index,0,r),this.processDataItem(r)}else if(e.type==="removeIndex")t[e.index].dispose(),t.splice(e.index,1);else if(e.type==="moveIndex"){const r=t[e.oldIndex];t.splice(e.oldIndex,1),t.splice(e.newIndex,0,r)}else throw new Error("Unknown IStreamEvent type");this._afterDataChange()}))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},K(this.valueFields,e=>{this.get(e+"Field")&&(this._valueFields.push(e),this._valueFieldsF[e]={fieldKey:e+"Field",workingKey:e+"Working"})})),this.fields&&(this._fields=[],this._fieldsF={},K(this.fields,e=>{this.get(e+"Field")&&(this._fields.push(e),this._fieldsF[e]=e+"Field")}))}get dataItems(){return this._dataItems}processDataItem(e){}_makeDataItem(e){const t={};return this._valueFields&&K(this._valueFields,r=>{const o=this.get(this._valueFieldsF[r].fieldKey);t[r]=e[o],t[this._valueFieldsF[r].workingKey]=t[r]}),this._fields&&K(this._fields,r=>{const o=this.get(this._fieldsF[r]);t[r]=e[o]}),t}makeDataItem(e){let t=new ti(this,void 0,e);return this.processDataItem(t),t}pushDataItem(e){const t=this.makeDataItem(e);return this._mainDataItems.push(t),t}disposeDataItem(e){}showDataItem(e,t){return Yt(this,void 0,void 0,function*(){e.set("visible",!0)})}hideDataItem(e,t){return Yt(this,void 0,void 0,function*(){e.set("visible",!1)})}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){const e="datavalidated";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this}),this._dataChanged=!1}this.inited=!0}markDirtyValues(e){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}}Object.defineProperty(ls,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"});Object.defineProperty(ls,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ke.classNames.concat([ls.className])});function Fm(n){return new Promise((e,t)=>{setTimeout(e,n)})}let eo={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:365.242/12*864e5,year:31536e6};function oh(n){switch(n){case"year":return;case"month":return"year";case"week":return"month";case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function It(n,e){return e==null&&(e=1),eo[n]*e}function hi(n){return n?eo[n.timeUnit]*n.count:0}function tn(n,e,t,r,o){const u=n.timeUnit,f=n.count;if(u=="hour"||u=="minute"||u=="second"||u=="millisecond")return eo[n.timeUnit]*n.count;{const m=Ms(new Date(e.getTime()),u,f,t,r,void 0,o).getTime();let y=m+f*It(u)*1.05;return y=Ms(new Date(y),u,1,t,r,void 0,o).getTime(),y-m}}function lh(n,e,t,r,o){if(e-n>It(t,1.2))return!0;let u=new Date(n),f=new Date(e);o&&(u=o.convertLocal(u),f=o.convertLocal(f));let m=0,y=0;!r&&t!="millisecond"&&(m=u.getTimezoneOffset(),u.setUTCMinutes(u.getUTCMinutes()-m),y=f.getTimezoneOffset(),f.setUTCMinutes(f.getUTCMinutes()-y));let D=!1;switch(t){case"year":u.getUTCFullYear()!=f.getUTCFullYear()&&(D=!0);break;case"month":(u.getUTCFullYear()!=f.getUTCFullYear()||u.getUTCMonth()!=f.getUTCMonth())&&(D=!0);break;case"day":(u.getUTCMonth()!=f.getUTCMonth()||u.getUTCDate()!=f.getUTCDate())&&(D=!0);break;case"hour":u.getUTCHours()!=f.getUTCHours()&&(D=!0);break;case"minute":u.getUTCMinutes()!=f.getUTCMinutes()&&(D=!0);break;case"second":u.getUTCSeconds()!=f.getUTCSeconds()&&(D=!0);break;case"millisecond":u.getTime()!=f.getTime()&&(D=!0);break}if(D)return D;let T=oh(t);return T?lh(n,e,T,r,o):!1}function Ot(n,e,t,r,o){let u;return o!=null&&(u=new Date(o)),Ms(new Date(n),e,t,r.locale.firstDayOfWeek,r.utc,u,r.timezone).getTime()}function Ms(n,e,t,r,o,u,f){if(!f||o){let m=0;switch(!o&&e!="millisecond"&&(m=n.getTimezoneOffset(),n.setUTCMinutes(n.getUTCMinutes()-m)),e){case"day":let y=n.getUTCDate();if(t>1){if(u){u=Ms(u,"day",1);let G=n.getTime()-u.getTime(),R=Math.floor(G/It("day")/t),U=It("day",R*t);n.setTime(u.getTime()+U-m*It("minute"))}}else n.setUTCDate(y);n.setUTCHours(0,0,0,0);break;case"second":let D=n.getUTCSeconds();t>1&&(D=Math.floor(D/t)*t),n.setUTCSeconds(D,0);break;case"millisecond":if(t==1)return n;let T=n.getUTCMilliseconds();T=Math.floor(T/t)*t,n.setUTCMilliseconds(T);break;case"hour":let C=n.getUTCHours();t>1&&(C=Math.floor(C/t)*t),n.setUTCHours(C,0,0,0);break;case"minute":let M=n.getUTCMinutes();t>1&&(M=Math.floor(M/t)*t),n.setUTCMinutes(M,0,0);break;case"month":let S=n.getUTCMonth();t>1&&(S=Math.floor(S/t)*t),n.setUTCMonth(S,1),n.setUTCHours(0,0,0,0);break;case"year":let X=n.getUTCFullYear();t>1&&(X=Math.floor(X/t)*t),n.setUTCFullYear(X,0,1),n.setUTCHours(0,0,0,0);break;case"week":let O=n.getUTCDate(),z=n.getUTCDay();J(r)||(r=1),z>=r?O=O-z+r:O=O-(7+z)+r,n.setUTCDate(O),n.setUTCHours(0,0,0,0);break}if(!o&&e!="millisecond"&&(n.setUTCMinutes(n.getUTCMinutes()+m),e=="day"||e=="week"||e=="month"||e=="year")){let y=n.getTimezoneOffset();if(y!=m){let D=y-m;n.setUTCMinutes(n.getUTCMinutes()+D)}}return n}else{if(isNaN(n.getTime()))return n;let m=f.offsetUTC(n),y=n.getTimezoneOffset(),D=f.parseDate(n),T=D.year,C=D.month,M=D.day,S=D.hour,X=D.minute,O=D.second,z=D.millisecond,G=D.weekday,R=m-y;switch(e){case"day":if(t>1&&u){u=Ms(u,"day",1,r,o,void 0,f);let se=n.getTime()-u.getTime(),re=Math.floor(se/It("day")/t),ee=It("day",re*t);n.setTime(u.getTime()+ee),D=f.parseDate(n),T=D.year,C=D.month,M=D.day}S=0,X=R,O=0,z=0;break;case"second":X+=R,t>1&&(O=Math.floor(O/t)*t),z=0;break;case"millisecond":X+=R,t>1&&(z=Math.floor(z/t)*t);break;case"hour":t>1&&(S=Math.floor(S/t)*t),X=R,O=0,z=0;break;case"minute":t>1&&(X=Math.floor(X/t)*t),X+=R,O=0,z=0;break;case"month":t>1&&(C=Math.floor(C/t)*t),M=1,S=0,X=R,O=0,z=0;break;case"year":t>1&&(T=Math.floor(T/t)*t),C=0,M=1,S=0,X=R,O=0,z=0;break;case"week":J(r)||(r=1),G>=r?M=M-G+r:M=M-(7+G)+r,S=0,X=R,O=0,z=0;break}n=new Date(T,C,M,S,X,O,z);let U=n.getTimezoneOffset(),V=f.offsetUTC(n)-U;return V!=R&&n.setTime(n.getTime()+(V-R)*6e4),n}}function _n(n,e,t,r){let o=r[n],u=hi(o),f=r.length-1;if(n>=f)return Object.assign({},r[f]);let m=Math.ceil(e/u);return e<u&&n>0?Object.assign({},r[n-1]):m<=t?Object.assign({},r[n]):n+1<r.length?_n(n+1,e,t,r):Object.assign({},r[n])}class hs extends ls{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new Ys}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:ke.new(this._root,{width:fe,height:fe,position:"absolute"})})}_afterNew(){this.valueFields.push("value","customValue"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll(e=>{if(e.type==="clear")this._handleBullets(this.dataItems);else if(e.type==="push")this._handleBullets(this.dataItems);else if(e.type==="setIndex")this._handleBullets(this.dataItems);else if(e.type==="insertIndex")this._handleBullets(this.dataItems);else if(e.type==="removeIndex")this._handleBullets(this.dataItems);else if(e.type==="moveIndex")this._handleBullets(this.dataItems);else throw new Error("Unknown IListEvent type")}))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),e)}endIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("endIndex",e),e)}_handleBullets(e){K(e,t=>{const r=t.bullets;r&&(K(r,o=>{o.dispose()}),t.bullets=void 0)}),this.markDirtyValues()}getDataItemById(e){return Vl(this.dataItems,t=>t.get("id")==e)}_makeBullets(e){this._shouldMakeBullet(e)&&(e.bullets=[],this.bullets.each(t=>{this._makeBullet(e,t)}))}_shouldMakeBullet(e){return!0}_makeBullet(e,t,r){const o=t(this._root,this,e);return o&&(o._index=r,this._makeBulletReal(e,o)),o}_makeBulletReal(e,t){let r=t.get("sprite");r&&(r._setDataItem(e),r.setRaw("position","absolute"),this.bulletsContainer.children.push(r)),t.series=this,e.bullets.push(t)}addBullet(e,t){e.bullets||(e.bullets=[]),t&&this._makeBulletReal(e,t)}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let e=this.startIndex(),t=this.endIndex();if(this.isDirty("name")&&this.updateLegendValue(),this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){const o=this.getPrivate("baseValueSeries");o&&this._disposers.push(o.onPrivate("startIndex",()=>{this.markDirtyValues()}))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0,e!=0&&(this._psi=void 0))),(this._psi!=e||this._pei!=t||this.isPrivateDirty("adjustedStartIndex"))&&!this._selectionAggregatesCalculated&&(e===0&&t===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(e,t),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let o=this.get("tooltip");o&&(o.hide(0),o.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let o;const u=this.get("legendDataItem");if(u&&(o=u.get("markerRectangle"),o&&this.isVisible())){if(this.isDirty("stroke")){let f=this.get("stroke");o.set("stroke",f)}if(this.isDirty("fill")){let f=this.get("fill");o.set("fill",f)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let o=this.startIndex(),u=this.endIndex();u<this.dataItems.length&&u++;for(let f=o;f<u;f++){let m=this.dataItems[f];m.bullets||this._makeBullets(m)}}}_adjustStartIndex(e){return e}_calculateAggregates(e,t){let r=this._valueFields;if(!r)throw new Error("No value fields are set for the series.");const o={},u={},f={},m={},y={},D={},T={},C={},M={};K(r,S=>{o[S]=0,u[S]=0,f[S]=0}),K(r,S=>{let X=S+"Change",O=S+"ChangePercent",z=S+"ChangePrevious",G=S+"ChangePreviousPercent",R=S+"ChangeSelection",U=S+"ChangeSelectionPercent",N="valueY";(S=="valueX"||S=="openValueX"||S=="lowValueX"||S=="highValueX")&&(N="valueX");const V=this.getPrivate("baseValueSeries"),se=this.getPrivate("adjustedStartIndex",e);for(let re=se;re<t;re++){const ee=this.dataItems[re];let oe=ee.get(S);oe!=null&&(f[S]++,o[S]+=oe,u[S]+=Math.abs(oe),C[S]=o[S]/f[S],(m[S]>oe||m[S]==null)&&(m[S]=oe),(y[S]<oe||y[S]==null)&&(y[S]=oe),T[S]=oe,D[S]==null&&(D[S]=oe,M[S]=oe,V&&(D[N]=V._getBase(N))),e===0&&(ee.setRaw(X,oe-D[N]),ee.setRaw(O,(oe-D[N])/D[N]*100)),ee.setRaw(z,oe-M[N]),ee.setRaw(G,(oe-M[N])/M[N]*100),ee.setRaw(R,oe-D[N]),ee.setRaw(U,(oe-D[N])/D[N]*100),M[S]=oe)}if(t<this.dataItems.length-1){const re=this.dataItems[t];let ee=re.get(S);re.setRaw(z,ee-M[N]),re.setRaw(G,(ee-M[N])/M[N]*100),re.setRaw(R,ee-D[N]),re.setRaw(U,(ee-D[N])/D[N]*100)}e>0&&e--,delete M[S];for(let re=e;re<se;re++){const ee=this.dataItems[re];let oe=ee.get(S);M[S]==null&&(M[S]=oe),oe!=null&&(ee.setRaw(z,oe-M[N]),ee.setRaw(G,(oe-M[N])/M[N]*100),ee.setRaw(R,oe-D[N]),ee.setRaw(U,(oe-D[N])/D[N]*100),M[S]=oe)}}),K(r,S=>{this.setPrivate(S+"AverageSelection",C[S]),this.setPrivate(S+"CountSelection",f[S]),this.setPrivate(S+"SumSelection",o[S]),this.setPrivate(S+"AbsoluteSumSelection",u[S]),this.setPrivate(S+"LowSelection",m[S]),this.setPrivate(S+"HighSelection",y[S]),this.setPrivate(S+"OpenSelection",D[S]),this.setPrivate(S+"CloseSelection",T[S])}),e===0&&t===this.dataItems.length&&K(r,S=>{this.setPrivate(S+"Average",C[S]),this.setPrivate(S+"Count",f[S]),this.setPrivate(S+"Sum",o[S]),this.setPrivate(S+"AbsoluteSum",u[S]),this.setPrivate(S+"Low",m[S]),this.setPrivate(S+"High",y[S]),this.setPrivate(S+"Open",D[S]),this.setPrivate(S+"Close",T[S])})}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));const e=this.get("heatRules");if(this._valuesDirty&&e&&e.length>0&&K(e,t=>{const r=t.minValue||this.getPrivate(t.dataField+"Low")||0,o=t.maxValue||this.getPrivate(t.dataField+"High")||0;K(t.target._entities,u=>{const f=u.dataItem.get(t.dataField);if(!J(f)){t.neutral&&u.set(t.key,t.neutral);const m=u.states;if(m){const y=m.lookup("default");y&&t.neutral&&y.set(t.key,t.neutral)}if(!t.customFunction)return}if(t.customFunction)t.customFunction.call(this,u,r,o,f);else{let m;t.logarithmic?m=(Math.log(f)*Math.LOG10E-Math.log(r)*Math.LOG10E)/(Math.log(o)*Math.LOG10E-Math.log(r)*Math.LOG10E):m=(f-r)/(o-r),J(f)&&(!J(m)||Math.abs(m)==1/0)&&(m=.5);let y;J(t.min)?y=t.min+(t.max-t.min)*m:t.min instanceof ve?y=ve.interpolate(m,t.min,t.max):t.min instanceof Be&&(y=eh(m,t.min,t.max)),u.set(t.key,y);const D=u.states;if(D){const T=D.lookup("default");T&&T.set(t.key,y)}}})}),this.get("visible")){let t=this.dataItems.length,r=this.startIndex(),o=this.endIndex();o<t&&o++,r>0&&r--;for(let u=0;u<r;u++)this._hideBullets(this.dataItems[u]);for(let u=r;u<o;u++)this._positionBullets(this.dataItems[u]);for(let u=o;u<t;u++)this._hideBullets(this.dataItems[u])}}_positionBullets(e){e.bullets&&K(e.bullets,t=>{this._positionBullet(t);const r=t.get("sprite");t.get("dynamic")&&(r&&(r._markDirtyKey("fill"),r.markDirtySize()),r instanceof ke&&r.walkChildren(o=>{o._markDirtyKey("fill"),o.markDirtySize(),o instanceof ai&&o.text.markDirtyText()})),r instanceof ai&&r.get("populateText")&&r.text.markDirtyText()})}_hideBullets(e){e.bullets&&K(e.bullets,t=>{let r=t.get("sprite");r&&r.setPrivate("visible",!1)})}_positionBullet(e){}_placeBulletsContainer(e){e.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){const e=this.bulletsContainer;e.parent&&e.parent.children.removeValue(e)}disposeDataItem(e){const t=e.bullets;t&&K(t,r=>{r.dispose()})}_getItemReaderLabel(){return""}showDataItem(e,t){const r=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return Yt(this,void 0,void 0,function*(){const o=[r.showDataItem.call(this,e,t)],u=e.bullets;u&&K(u,f=>{const m=f.get("sprite");m&&o.push(m.show(t))}),yield Promise.all(o)})}hideDataItem(e,t){const r=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return Yt(this,void 0,void 0,function*(){const o=[r.hideDataItem.call(this,e,t)],u=e.bullets;u&&K(u,f=>{const m=f.get("sprite");m&&o.push(m.hide(t))}),yield Promise.all(o)})}_sequencedShowHide(e,t){return Yt(this,void 0,void 0,function*(){if(this.get("sequencedInterpolation"))if(J(t)||(t=this.get("interpolationDuration",0)),t>0){const r=this.startIndex(),o=this.endIndex();yield Promise.all(fn(this.dataItems,(u,f)=>Yt(this,void 0,void 0,function*(){let m=t||0;(f<r-10||f>o+10)&&(m=0);let y=this.get("sequencedDelay",0)+m/(o-r);yield Fm(y*(f-r)),e?yield this.showDataItem(u,m):yield this.hideDataItem(u,m)})))}else yield Promise.all(fn(this.dataItems,r=>e?this.showDataItem(r,0):this.hideDataItem(r,0)))})}updateLegendValue(e){if(e){const t=e.get("legendDataItem");if(t){const r=t.get("valueLabel");if(r){const u=r.text;let f="";r._setDataItem(e),f=this.get("legendValueText",u.get("text","")),r.set("text",f),u.markDirtyText()}const o=t.get("label");if(o){const u=o.text;let f="";o._setDataItem(e),f=this.get("legendLabelText",u.get("text","")),o.set("text",f),u.markDirtyText()}}}}updateLegendMarker(e){}_onHide(){super._onHide();const e=this.getTooltip();e&&e.hide()}hoverDataItem(e){}unhoverDataItem(e){}_getBase(e){const t=this.dataItems[this.startIndex()];return t?t.get(e):0}}Object.defineProperty(hs,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"});Object.defineProperty(hs,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ls.classNames.concat([hs.className])});function Bo(n,e){for(let t=0,r=e.length;t<r;t++){const o=e[t];if(o.length>0){let u=o[0];if(u.length>0){let f=u[0];n.moveTo(f.x,f.y);for(let m=0,y=o.length;m<y;m++)Tm(n,o[m])}}}}function Tm(n,e){for(let t=0,r=e.length;t<r;t++){const o=e[t];n.lineTo(o.x,o.y)}}class hr extends Ge{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("points"),t=this.get("segments");if(e&&e.length>0){let r=e[0];this._display.moveTo(r.x,r.y),Bo(this._display,[[e]])}else if(t)Bo(this._display,t);else if(!this.get("draw")){let r=this.width(),o=this.height();this._display.moveTo(0,0),this._display.lineTo(r,o)}}}}Object.defineProperty(hr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"});Object.defineProperty(hr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ge.classNames.concat([hr.className])});class ra extends ke{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:this._makeThumb()}),Object.defineProperty(this,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_addOrientationClass(){this._settings.themeTags=tt(this._settings.themeTags,["scrollbar",this._settings.orientation]),this._settings.background||(this._settings.background=Ts.new(this._root,{themeTags:tt(this._settings.themeTags,["main","background"])}))}_makeButton(){return this.children.push(lr.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:Ge.new(this._root,{themeTags:["icon"]})}))}_makeThumb(){return this.children.push(Ts.new(this._root,{themeTags:["thumb",this.get("orientation")]}))}_handleAnimation(e){e&&this._disposers.push(e.events.on("stopped",()=>{this.setPrivateRaw("isBusy",!1),this._thumbBusy=!1}))}_afterNew(){this._addOrientationClass(),super._afterNew();const e=this.startGrip,t=this.endGrip,r=this.thumb,o=this.get("background");o&&this._disposers.push(o.events.on("click",u=>{this.setPrivateRaw("isBusy",!0);const f=this._display.toLocal(u.point),m=this.width(),y=this.height(),D=this.get("orientation");let T;D=="vertical"?T=(f.y-r.height()/2)/y:T=(f.x-r.width()/2)/m;let C,M;D=="vertical"?(C=T*y,M="y"):(C=T*m,M="x");const S=this.get("animationDuration",0);S>0?(this._thumbBusy=!0,this._handleAnimation(this.thumb.animate({key:M,to:C,duration:S,easing:this.get("animationEasing")}))):(this.thumb.set(M,C),this._root.events.once("frameended",()=>{this.setPrivateRaw("isBusy",!1)}))})),this._disposers.push(r.events.on("dblclick",u=>{if(!Kn(u.originalEvent,this))return;const f=this.get("animationDuration",0),m=this.get("animationEasing");this.animate({key:"start",to:0,duration:f,easing:m}),this.animate({key:"end",to:1,duration:f,easing:m})})),this._disposers.push(e.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._startDown=!0,this._gripDown="start"})),this._disposers.push(t.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._endDown=!0,this._gripDown="end"})),this._disposers.push(r.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._thumbDown=!0,this._gripDown=void 0})),this._disposers.push(e.events.on("globalpointerup",()=>{this._startDown&&this.setPrivateRaw("isBusy",!1),this._startDown=!1})),this._disposers.push(t.events.on("globalpointerup",()=>{this._endDown&&this.setPrivateRaw("isBusy",!1),this._endDown=!1})),this._disposers.push(r.events.on("globalpointerup",()=>{this._thumbDown&&this.setPrivateRaw("isBusy",!1),this._thumbDown=!1})),this._disposers.push(e.on("x",()=>{this._updateThumb()})),this._disposers.push(t.on("x",()=>{this._updateThumb()})),this._disposers.push(e.on("y",()=>{this._updateThumb()})),this._disposers.push(t.on("y",()=>{this._updateThumb()})),this._disposers.push(r.events.on("positionchanged",()=>{this._updateGripsByThumb()})),this.get("orientation")=="vertical"?(e.set("x",0),t.set("x",0),this._disposers.push(r.adapters.add("y",u=>Math.max(Math.min(Number(u),this.height()-r.height()),0))),this._disposers.push(r.adapters.add("x",u=>this.width()/2)),this._disposers.push(e.adapters.add("x",u=>this.width()/2)),this._disposers.push(t.adapters.add("x",u=>this.width()/2)),this._disposers.push(e.adapters.add("y",u=>Math.max(Math.min(Number(u),this.height()),0))),this._disposers.push(t.adapters.add("y",u=>Math.max(Math.min(Number(u),this.height()),0)))):(e.set("y",0),t.set("y",0),this._disposers.push(r.adapters.add("x",u=>Math.max(Math.min(Number(u),this.width()-r.width()),0))),this._disposers.push(r.adapters.add("y",u=>this.height()/2)),this._disposers.push(e.adapters.add("y",u=>this.height()/2)),this._disposers.push(t.adapters.add("y",u=>this.height()/2)),this._disposers.push(e.adapters.add("x",u=>Math.max(Math.min(Number(u),this.width()),0))),this._disposers.push(t.adapters.add("x",u=>Math.max(Math.min(Number(u),this.width()),0))))}_updateChildren(){super._updateChildren(),(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}_changed(){if(super._changed(),this.isDirty("start")||this.isDirty("end")){const e="rangechanged";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}}updateGrips(){const e=this.startGrip,t=this.endGrip,r=this.get("orientation"),o=this.height(),u=this.width();r=="vertical"?(e.set("y",o*this.get("start",0)),t.set("y",o*this.get("end",1))):(e.set("x",u*this.get("start",0)),t.set("x",u*this.get("end",1)));const f=this.getPrivate("positionTextFunction"),m=Math.round(this.get("start",0)*100),y=Math.round(this.get("end",0)*100);let D,T;f?(D=f.call(this,this.get("start",0)),T=f.call(this,this.get("end",0))):(D=m+"%",T=y+"%"),e.set("ariaLabel",this._t("From %1",void 0,D)),e.set("ariaValueNow",""+m),e.set("ariaValueText",m+"%"),e.set("ariaValueMin","0"),e.set("ariaValueMax","100"),t.set("ariaLabel",this._t("To %1",void 0,T)),t.set("ariaValueNow",""+y),t.set("ariaValueText",y+"%"),t.set("ariaValueMin","0"),t.set("ariaValueMax","100")}_updateThumb(){const e=this.thumb,t=this.startGrip,r=this.endGrip,o=this.height(),u=this.width();let f=t.x(),m=r.x(),y=t.y(),D=r.y(),T=0,C=1;this.get("orientation")=="vertical"?J(y)&&J(D)&&(!this._thumbBusy&&!e.isDragging()&&(e.set("height",D-y),e.set("y",y)),T=y/o,C=D/o):J(f)&&J(m)&&(!this._thumbBusy&&!e.isDragging()&&(e.set("width",m-f),e.set("x",f)),T=f/u,C=m/u),this.getPrivate("isBusy")&&(this.get("start")!=T||this.get("end")!=C)&&(this.set("start",T),this.set("end",C));const M=this.getPrivate("positionTextFunction"),S=Math.round(this.get("start",0)*100),X=Math.round(this.get("end",0)*100);let O,z;M?(O=M.call(this,this.get("start",0)),z=M.call(this,this.get("end",0))):(O=S+"%",z=X+"%"),e.set("ariaLabel",this._t("From %1 to %2",void 0,O,z)),e.set("ariaValueNow",""+S),e.set("ariaValueText",S+"%")}_updateGripsByThumb(){const e=this.thumb,t=this.startGrip,r=this.endGrip;if(this.get("orientation")=="vertical"){const o=e.height();t.set("y",e.y()),r.set("y",e.y()+o)}else{const o=e.width();t.set("x",e.x()),r.set("x",e.x()+o)}}}Object.defineProperty(ra,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"});Object.defineProperty(ra,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ke.classNames.concat([ra.className])});function bt(n){return function(){return n}}const Dn=Math.PI,kn=2*Dn,es=1e-6,Mm=kn-es;function hh(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function Em(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return hh;const t=10**e;return function(r){this._+=r[0];for(let o=1,u=r.length;o<u;++o)this._+=Math.round(arguments[o]*t)/t+r[o]}}class Om{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?hh:Em(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,o){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(e,t,r,o,u,f){this._append`C${+e},${+t},${+r},${+o},${this._x1=+u},${this._y1=+f}`}arcTo(e,t,r,o,u){if(e=+e,t=+t,r=+r,o=+o,u=+u,u<0)throw new Error(`negative radius: ${u}`);let f=this._x1,m=this._y1,y=r-e,D=o-t,T=f-e,C=m-t,M=T*T+C*C;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(M>es)if(!(Math.abs(C*y-D*T)>es)||!u)this._append`L${this._x1=e},${this._y1=t}`;else{let S=r-f,X=o-m,O=y*y+D*D,z=S*S+X*X,G=Math.sqrt(O),R=Math.sqrt(M),U=u*Math.tan((Dn-Math.acos((O+M-z)/(2*G*R)))/2),N=U/R,V=U/G;Math.abs(N-1)>es&&this._append`L${e+N*T},${t+N*C}`,this._append`A${u},${u},0,0,${+(C*S>T*X)},${this._x1=e+V*y},${this._y1=t+V*D}`}}arc(e,t,r,o,u,f){if(e=+e,t=+t,r=+r,f=!!f,r<0)throw new Error(`negative radius: ${r}`);let m=r*Math.cos(o),y=r*Math.sin(o),D=e+m,T=t+y,C=1^f,M=f?o-u:u-o;this._x1===null?this._append`M${D},${T}`:(Math.abs(this._x1-D)>es||Math.abs(this._y1-T)>es)&&this._append`L${D},${T}`,r&&(M<0&&(M=M%kn+kn),M>Mm?this._append`A${r},${r},0,1,${C},${e-m},${t-y}A${r},${r},0,1,${C},${this._x1=D},${this._y1=T}`:M>es&&this._append`A${r},${r},0,${+(M>=Dn)},${C},${this._x1=e+r*Math.cos(u)},${this._y1=t+r*Math.sin(u)}`)}rect(e,t,r,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}}function uh(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);e=r}return n},()=>new Om(e)}function ch(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function dh(n){this._context=n}dh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function fh(n){return new dh(n)}function gh(n){return n[0]}function ph(n){return n[1]}function mh(n,e){var t=bt(!0),r=null,o=fh,u=null,f=uh(m);n=typeof n=="function"?n:n===void 0?gh:bt(n),e=typeof e=="function"?e:e===void 0?ph:bt(e);function m(y){var D,T=(y=ch(y)).length,C,M=!1,S;for(r==null&&(u=o(S=f())),D=0;D<=T;++D)!(D<T&&t(C=y[D],D,y))===M&&((M=!M)?u.lineStart():u.lineEnd()),M&&u.point(+n(C,D,y),+e(C,D,y));if(S)return u=null,S+""||null}return m.x=function(y){return arguments.length?(n=typeof y=="function"?y:bt(+y),m):n},m.y=function(y){return arguments.length?(e=typeof y=="function"?y:bt(+y),m):e},m.defined=function(y){return arguments.length?(t=typeof y=="function"?y:bt(!!y),m):t},m.curve=function(y){return arguments.length?(o=y,r!=null&&(u=o(r)),m):o},m.context=function(y){return arguments.length?(y==null?r=u=null:u=o(r=y),m):r},m}function Lm(n,e,t){var r=null,o=bt(!0),u=null,f=fh,m=null,y=uh(D);n=typeof n=="function"?n:n===void 0?gh:bt(+n),e=typeof e=="function"?e:bt(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?ph:bt(+t);function D(C){var M,S,X,O=(C=ch(C)).length,z,G=!1,R,U=new Array(O),N=new Array(O);for(u==null&&(m=f(R=y())),M=0;M<=O;++M){if(!(M<O&&o(z=C[M],M,C))===G)if(G=!G)S=M,m.areaStart(),m.lineStart();else{for(m.lineEnd(),m.lineStart(),X=M-1;X>=S;--X)m.point(U[X],N[X]);m.lineEnd(),m.areaEnd()}G&&(U[M]=+n(z,M,C),N[M]=+e(z,M,C),m.point(r?+r(z,M,C):U[M],t?+t(z,M,C):N[M]))}if(R)return m=null,R+""||null}function T(){return mh().defined(o).curve(f).context(u)}return D.x=function(C){return arguments.length?(n=typeof C=="function"?C:bt(+C),r=null,D):n},D.x0=function(C){return arguments.length?(n=typeof C=="function"?C:bt(+C),D):n},D.x1=function(C){return arguments.length?(r=C==null?null:typeof C=="function"?C:bt(+C),D):r},D.y=function(C){return arguments.length?(e=typeof C=="function"?C:bt(+C),t=null,D):e},D.y0=function(C){return arguments.length?(e=typeof C=="function"?C:bt(+C),D):e},D.y1=function(C){return arguments.length?(t=C==null?null:typeof C=="function"?C:bt(+C),D):t},D.lineX0=D.lineY0=function(){return T().x(n).y(e)},D.lineY1=function(){return T().x(n).y(t)},D.lineX1=function(){return T().x(r).y(e)},D.defined=function(C){return arguments.length?(o=typeof C=="function"?C:bt(!!C),D):o},D.curve=function(C){return arguments.length?(f=C,u!=null&&(m=f(u)),D):f},D.context=function(C){return arguments.length?(C==null?u=m=null:m=f(u=C),D):u},D}class ur extends ke{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(ke.new(this._root,{width:fe,height:fe,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:ke.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:fe,height:fe})})}}Object.defineProperty(ur,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"});Object.defineProperty(ur,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ke.classNames.concat([ur.className])});class cr extends ur{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:ke.new(this._root,{width:fe,height:fe,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new Jr})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const e=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(t=>{if(t.type==="clear"){K(t.oldValues,o=>{this._removeSeries(o)});const r=this.get("colors");r&&r.reset()}else if(t.type==="push")e.moveValue(t.newValue),this._processSeries(t.newValue);else if(t.type==="setIndex")e.setIndex(t.index,t.newValue),this._processSeries(t.newValue);else if(t.type==="insertIndex")e.insertIndex(t.index,t.newValue),this._processSeries(t.newValue);else if(t.type==="removeIndex")this._removeSeries(t.oldValue);else if(t.type==="moveIndex")e.moveValue(t.value,t.newIndex),this._processSeries(t.value);else throw new Error("Unknown IListEvent type")}))}_processSeries(e){e.chart=this,e._placeBulletsContainer(this)}_removeSeries(e){e.isDisposed()||(this.seriesContainer.children.removeValue(e),e._removeBulletsContainer())}}Object.defineProperty(cr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"});Object.defineProperty(cr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ur.classNames.concat([cr.className])});class dr extends hr{}Object.defineProperty(dr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"});Object.defineProperty(dr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:hr.classNames.concat([dr.className])});class fr extends pt{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);const e=this.getPrivate("currentPass"),t=this.get("colors",[this.get("baseColor",ve.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",t.length);const r=this.getPrivate("numColors"),o=0,u=this.get("passOptions"),f=this.get("reuse");for(let m=o;m<r;m++)if(f)t.push(t[m]);else{const y=t[m].toHSL();let D=y.h+(u.hue||0)*e;for(;D>1;)D-=1;let T=y.s+(u.saturation||0)*e;T>1&&(T=1),T<0&&(T=0);let C=y.l+(u.lightness||0)*e;for(;C>1;)C-=1;t.push(ve.fromHSL(D,T,C))}}getIndex(e){const t=this.get("colors",[]),r=this.get("saturation");return e>=t.length?(this.generateColors(),this.getIndex(e)):r!=null?ve.saturate(t[e],r):t[e]}next(){let e=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",e+this.get("step",1)),this.getIndex(e)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}Object.defineProperty(fr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"});Object.defineProperty(fr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pt.classNames.concat([fr.className])});class Bm extends pt{constructor(){super(...arguments),Object.defineProperty(this,"_checkDates",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkNumbers",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkColors",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkEmpty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkDeep",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){super._afterNew(),this._checkFeatures(),this.on("dateFields",()=>this._checkFeatures()),this.on("dateFormat",()=>this._checkFeatures()),this.on("numericFields",()=>this._checkFeatures()),this.on("colorFields",()=>this._checkFeatures()),this.on("emptyAs",()=>this._checkFeatures())}_checkFeatures(){(this.isDirty("dateFields")||this.isDirty("dateFormat"))&&(this._checkDates=this.get("dateFields")&&this.get("dateFields").length>0),this.isDirty("numericFields")&&(this._checkNumbers=this.get("numericFields")&&this.get("numericFields").length>0),this.isDirty("colorFields")&&(this._checkColors=this.get("colorFields")&&this.get("colorFields").length>0),this.isDirty("emptyAs")&&(this._checkEmpty=this.get("emptyAs")!=null),this._checkDeepFeatures()}_checkDeepFeatures(){const e=[];K(["dateFields","numericFields","colorFields"],t=>{K(this.get(t,[]),r=>{const o=r.split(".");for(o.pop();o.length>0;)e.push(o.join(".")),o.pop()})}),this._checkDeep=e.length>0,this.setPrivate("deepFields",e)}processMany(e){Vg(e)&&(this._checkDates||this._checkNumbers||this._checkColors||this._checkEmpty)&&K(e,t=>{this.processRow(t)})}processRow(e,t=""){Ue(e,(r,o)=>{const u=t+r;this._checkEmpty&&(e[r]=this._maybeToEmpty(e[r])),this._checkNumbers&&(e[r]=this._maybeToNumber(u,e[r])),this._checkDates&&(e[r]=this._maybeToDate(u,e[r])),this._checkColors&&(e[r]=this._maybeToColor(u,e[r])),this._checkDeep&&this.getPrivate("deepFields",[]).indexOf(u)!==-1&&yr(e[r])&&this.processRow(e[r],u+".")})}_maybeToNumber(e,t){return this.get("numericFields").indexOf(e)!==-1?Bt(t):t}_maybeToDate(e,t){return this.get("dateFields").indexOf(e)!==-1?this._root.dateFormatter.parse(t,this.get("dateFormat","")).getTime():t}_maybeToEmpty(e){return(e==null||e=="")&&this.get("emptyAs")!=null?this.get("emptyAs"):e}_maybeToColor(e,t){return this.get("colorFields").indexOf(e)!==-1?ve.fromAny(t):t}}class Im extends Ta{setupDefaultRules(){super.setupDefaultRules();const e=this._root.interfaceColors,t=this.rule.bind(this);t("WordCloud").setAll({width:fe,height:fe,minFontSize:Ht(2),maxFontSize:Ht(15),excludeWords:[],angles:[0,-90],minWordLength:1,step:15,randomness:0,autoFit:!0,animationEasing:Ji(Xi)});{const r=t("Label",["wordcloud"]);r.setAll({text:"{category}",centerX:Ie,centerY:Ie,position:"absolute",lineHeight:fe,populateText:!0}),r.setup=o=>{o.set("background",jt.new(this._root,{fill:e.get("background"),fillOpacity:0}))}}}}let aa=class extends hs{constructor(){super(...arguments),Object.defineProperty(this,"_currentIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_timeoutDP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_ghostContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(ke.new(this._root,{layer:99,opacity:.01}))}),Object.defineProperty(this,"_pointSets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_sets",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"_process",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_buffer",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_boundsToAdd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this._makeLabels()})}_afterNew(){this._defaultThemes.push(Im.new(this._root)),this.fields.push("category","fill"),this._setDefault("valueField","value"),this._setDefault("categoryField","category"),this._setDefault("fillField","fill"),super._afterNew(),this._root.events.on("frameended",()=>{this.set("progress",this._currentIndex/this.dataItems.length)})}makeLabel(e){const t=this.children.push(this.labels.make());t._setDataItem(e);const r=e.get("fill");r!=null&&t.set("fill",r),t.set("x",-999999),e.set("label",t),this.labels.push(t);const o=this._ghostContainer.children.push(this.labels.make());return o._setDataItem(e),o.setAll({fill:ve.fromHex(0),fontWeight:"900"}),e.set("ghostLabel",o),this.labels.push(o),t}_makeLabels(){return new Si(vt.new({}),()=>ai._new(this._root,{themeTags:tt(this.labels.template.get("themeTags",[]),["wordcloud","series"])},[this.labels.template]))}processDataItem(e){if(super.processDataItem(e),e.get("fill")==null){let t=this.get("colors");t&&e.setRaw("fill",t.next())}this.makeLabel(e)}_prepareChildren(){super._prepareChildren(),this.isDirty("text")&&(this.data.setAll(this._getWords(this.get("text"))),this._dirty.text=!1)}_updateChildren(){super._updateChildren();const e=this._root._renderer.resolution,t=Math.round(this._root.width()*e);let r=this.get("step",1)*2;if(this._valuesDirty||this._sizeDirty||this.isPrivateDirty("adjustedFontSize")){const u=this.getPrivate("adjustedFontSize",1),f=this.innerWidth(),m=this.innerHeight(),y=Math.min(f,m),D=Math.max(f,m);this._buffer=Array(Math.ceil(this._root.width()*this._root.height()*e*e)).fill(0),y<800&&(r=r/2),this._ghostContainer._display.clear(),this._pointSets=[];for(let U=0;U<this._sets;U++){const N=r*(this._sets-U),V=Pp(f/2,m/2,f,m,0,N*m/D,N*f/D,0,0);for(let se=V.length-1;se>=0;se--){let re=V[se];if(re.x<0||re.x>f||re.y<0||re.y>m){V.splice(se,1);continue}}this._pointSets.push(V)}let T=0,C=0,M=0,S=1/0,X=0;K(this._dataItems,U=>{const N=U.get("valueWorking",0);T+=N,C+=Math.abs(N)}),this._dataItems.sort((U,N)=>{let V=U.get("value",0),se=N.get("value",0);return V>se?-1:V<se?1:0}),K(this._dataItems,U=>{const N=U.get("valueWorking",0);N>=C&&(T=U.get("value",0)),N>M&&(M=N),N<S&&(S=N),X++}),this.setPrivateRaw("valueLow",S),this.setPrivateRaw("valueHigh",M),this.setPrivateRaw("valueSum",T),this.setPrivateRaw("valueAverage",T/X),this.setPrivateRaw("valueAbsoluteSum",C);const O=Math.min(f,m),z=xt(this.get("minFontSize",10),O)*u,G=xt(this.get("maxFontSize",100),O)*u,R=this.get("angles",[0]);K(this._dataItems,U=>{const N=U.get("valueWorking",0),V=U.get("ghostLabel");let se=z+(G-z)*(N-S)/(M-S);pi(se)&&(se=G);const re=this._sets-1-Math.floor((se-z)/(G-z)*(this._sets-1));U.setRaw("set",re),U.setRaw("fontSize",se);let ee=R[Math.floor(Math.random()*R.length)];U.setRaw("angle",ee),V.setAll({fontSize:se,rotation:ee,x:-1e4})}),this._process=!1,this._currentIndex=0,this._root.events.once("frameended",()=>{this.setTimeout(()=>{this._process=!0,this._markDirtyKey("progress")},50)})}const o=this._boundsToAdd;if(o){const u=this._ghostContainer._display.getLayer().context,f=Math.round(o.top),m=Math.round(o.left),y=Math.round(o.right-o.left),D=Math.round(o.bottom-o.top),T=u.getImageData(m,f,y,D).data,C=this._buffer;let M=3;for(let S=f;S<f+D;S++)for(let X=m;X<m+y;X++){let O=(S+1)*t-(t-X);T[M]!=0&&(C[O]=1),M+=4}this._boundsToAdd=void 0}this._process&&this.isDirty("progress")&&this._processItem()}_processItem(){if(this._boundsToAdd=void 0,this._currentIndex<this.dataItems.length){const e=this.dataItems[this._currentIndex],t=e.get("label"),r=e.get("ghostLabel"),o=this._root._renderer.resolution;let u=r.width(),f=r.height();const m=r._display.getLayer().context,y=e.get("set"),D=this._pointSets[y],T=this.innerWidth(),C=this.innerHeight(),M=Math.round(this._root.width()*o),S=this.x(),X=this.y(),O=this.get("angles",[0]);T>C&&u>=T/2&&K(O,R=>{R==0&&e.get("angle")!=0&&(e.setRaw("angle",0),r.set("rotation",0),[u,f]=[f,u])}),C>T&&u>=T/2&&K(O,R=>{Math.abs(R)==90&&e.get("angle")==0&&(e.setRaw("angle",R),r.set("rotation",R),[u,f]=[f,u])});const z=Math.ceil(u*o),G=Math.ceil(f*o);if(m&&u>0&&f>0){let R=Math.round(Math.random()*D.length*this.get("randomness",0)),U=!0;for(;U;){let N=D[R];if(N){if(U=!1,this._currentIndex>0){let V=Math.round((N.x+S)*o-z/2),se=Math.round((N.y+X)*o-G/2);U=this._hasColor(V,se,z,G,M)}if(N.x-u/2<0||N.x+u/2>T||N.y-f/2<0||N.y+f/2>C)R++,U=!0;else if(U)R+=2;else{const V=e.get("angle",0),se=e.get("fontSize",0);t.get("x")!=-999999?(t.animate({key:"x",to:N.x,duration:this.get("animationDuration",0),easing:this.get("animationEasing")}),t.animate({key:"y",to:N.y,duration:this.get("animationDuration",0),easing:this.get("animationEasing")}),t.animate({key:"rotation",to:V,duration:this.get("animationDuration",0),easing:this.get("animationEasing")}),t.animate({key:"fontSize",to:se,duration:this.get("animationDuration",0),easing:this.get("animationEasing")})):(t.setAll({x:N.x,y:N.y,rotation:V,fontSize:se}),t.appear()),r.setAll({x:N.x,y:N.y});for(let re=D.length-1;re>=0;re--){let ee=D[re];ee.x>=N.x-u/2&&ee.x<=N.x+u/2&&ee.y>=N.y-f/2&&ee.y<=N.y+f/2&&D.splice(re,1)}this._boundsToAdd={left:(N.x+S-u/2)*o,right:(N.x+S+u/2)*o,top:(N.y+X-f/2)*o,bottom:(N.y+X+f/2)*o}}}else{if(this.get("autoFit")){this.setTimeout(()=>{this.setPrivate("adjustedFontSize",this.getPrivate("adjustedFontSize",1)*.9)},50);return}t.set("x",-999999),U=!1}}}this._currentIndex++}}disposeDataItem(e){super.disposeDataItem(e);const t=e.get("label");t&&(this.labels.removeValue(t),t.dispose());const r=e.get("ghostLabel");r&&(this.labels.removeValue(r),r.dispose())}_getWords(e){let t=[];if(e){const r="A-Za-z----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------0-9@+",o=new RegExp("(["+r+"]+[-"+r+"]*["+r+"]+)|(["+r+"]+)","ig");let u=e.match(o);if(!u)return[];let f;for(;f=u.pop(),!!f;){let C;for(let M=0;M<t.length;M++)if(t[M].category.toLowerCase()==f.toLowerCase()){C=t[M];break}C?(C.value++,this.isCapitalized(f)||(C.category=f)):t.push({category:f,value:1})}let m=this.get("excludeWords");const y=this.get("minValue",1),D=this.get("minWordLength",1);if(y>1||D>1||m&&m.length>0)for(let C=t.length-1;C>=0;C--){let M=t[C],S=M.category;M.value<y&&t.splice(C,1),S.length<D&&t.splice(C,1),m&&m.indexOf(S)!==-1&&t.splice(C,1)}t.sort(function(C,M){return C.value==M.value?0:C.value>M.value?-1:1});const T=this.get("maxCount",1/0);t.length>T&&(t=t.slice(0,T))}return t}isCapitalized(e){let t=e.toLowerCase();return e[0]!=t[0]&&e.substr(1)==t.substr(1)&&e!=t}_hasColor(e,t,r,o,u){const f=this._buffer;if(f)for(let m=t;m<t+o;m+=4)for(let y=e;y<e+r;y+=4){let D=(m+1)*u-(u-y);if(f[D]!=0)return!0}return!1}};Object.defineProperty(aa,"className",{enumerable:!0,configurable:!0,writable:!0,value:"WordCloud"});Object.defineProperty(aa,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:hs.classNames.concat([aa.className])});class bh extends Ta{setupDefaultRules(){super.setupDefaultRules(),this.rule("Component").setAll({interpolationDuration:600}),this.rule("Hierarchy").set("animationDuration",600),this.rule("Scrollbar").set("animationDuration",600),this.rule("Tooltip").set("animationDuration",300),this.rule("MapChart").set("animationDuration",1e3),this.rule("MapChart").set("wheelDuration",300),this.rule("Entity").setAll({stateAnimationDuration:600}),this.rule("Sprite").states.create("default",{stateAnimationDuration:600}),this.rule("Tooltip",["axis"]).setAll({animationDuration:200}),this.rule("WordCloud").set("animationDuration",500),this.rule("Polygon").set("animationDuration",600),this.rule("ArcDiagram").set("animationDuration",600)}}function Rm(n){const{data:e,id:t}=n??[];return ui.useLayoutEffect(()=>{const r=Ea.new(t);r.setThemes([bh.new(r)]);const o=r.container.children.push(aa.new(r,{categoryField:"word",valueField:"freq"}));return o.labels.template.set("tooltipText","{category}: [bold]{value}[/]"),o.data.setAll(e),()=>{r.dispose()}},[e,t]),Re.jsx("div",{id:t,style:{width:"100%",height:"500px"}})}class Ym extends Ta{setupDefaultRules(){super.setupDefaultRules();const e=this._root.interfaceColors,t=this._root.language,r=this.rule.bind(this);r("XYChart").setAll({colors:fr.new(this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0,pinchZoomX:!1,pinchZoomY:!1}),r("XYSeries").setAll({legendLabelText:"{name}"}),r("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:fr.new(this._root,{saturation:0})});{const y=r("Graphics",["scrollbar","overlay"]);y.setAll({fillOpacity:.5}),we(y,"fill",e,"background")}r("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),r("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),r("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),r("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),r("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),r("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),r("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:fe,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),r("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),r("AxisLabel",["x"]).setAll({centerY:0}),r("AxisLabel",["x","inside"]).setAll({centerY:fe}),r("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),r("AxisLabel",["x","opposite"]).setAll({centerY:fe}),r("AxisLabel",["y"]).setAll({centerX:fe}),r("AxisLabel",["y","inside"]).setAll({centerX:0}),r("AxisLabel",["y","inside","opposite"]).setAll({centerX:fe}),r("AxisLabel",["y","opposite"]).setAll({centerX:0}),r("AxisLabel",["minor"]).setAll({fontSize:"0.6em"}),r("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),r("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),r("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),r("XYCursor").setAll({behavior:"none",layer:30,exportable:!1,snapToSeriesBy:"xy",moveThreshold:1});{const y=r("Grid",["cursor","x"]);y.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:t.translate("Use left and right arrows to move selection")}),we(y,"stroke",e,"alternativeBackground")}{const y=r("Grid",["cursor","y"]);y.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:t.translate("Use up and down arrows to move selection")}),we(y,"stroke",e,"alternativeBackground")}{const y=r("Graphics",["cursor","selection"]);y.setAll({fillOpacity:.15}),we(y,"fill",e,"alternativeBackground")}r("Axis").setAll({start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),r("AxisLabel").setAll({location:.5,multiLocation:0,centerX:Ie,centerY:Ie,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),r("Container",["axis","header"]).setAll({layer:30}),r("Rectangle",["axis","header","background"]).setAll({crisp:!0});{const y=r("AxisRenderer");y.setAll({crisp:!0,strokeOpacity:0}),we(y,"stroke",e,"grid")}r("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:fe}),r("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:fe});{const y=r("Rectangle",["axis","thumb"]);y.setAll({fillOpacity:0}),we(y,"fill",e,"alternativeBackground"),y.states.create("hover",{fillOpacity:.1})}r("Rectangle",["axis","thumb","x"]).setAll({cursorOverStyle:"ew-resize"}),r("Rectangle",["axis","thumb","y"]).setAll({cursorOverStyle:"ns-resize"});{const y=r("Grid");y.setAll({location:0,strokeOpacity:.15,crisp:!0}),we(y,"stroke",e,"grid")}{const y=r("Grid",["minor"]);y.setAll({location:0,strokeOpacity:.07,crisp:!0}),we(y,"stroke",e,"grid")}r("Grid",["base"]).setAll({strokeOpacity:.3});{const y=r("Graphics",["axis","fill"]);y.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),we(y,"fill",e,"alternativeBackground")}r("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),r("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),r("Grid",["series","range"]).setAll({visible:!1}),r("AxisTick",["series","range"]).setAll({visible:!1}),r("AxisLabel",["series","range"]).setAll({visible:!1});{const y=r("AxisTick");y.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),we(y,"stroke",e,"grid")}r("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:(y,D)=>{const T=y.get("axisFill");T&&(!J(D)||D%2==0?T.setPrivate("visible",!0):T.setPrivate("visible",!1))}});const o=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],u={millisecond:t.translate("_date_millisecond"),second:t.translate("_date_second"),minute:t.translate("_date_minute"),hour:t.translate("_date_hour"),day:t.translate("_date_day"),week:t.translate("_date_day"),month:t.translate("_date_month"),year:t.translate("_date_year")},f={millisecond:t.translate("_date_millisecond"),second:t.translate("_date_second"),minute:t.translate("_date_minute"),hour:t.translate("_date_day"),day:t.translate("_date_day"),week:t.translate("_date_day"),month:t.translate("_date_month")+" "+t.translate("_date_year"),year:t.translate("_date_year")},m={millisecond:t.translate("_date_millisecond_full"),second:t.translate("_date_second_full"),minute:t.translate("_date_minute_full"),hour:t.translate("_date_hour_full"),day:t.translate("_date_day_full"),week:t.translate("_date_week_full"),month:t.translate("_date_month_full"),year:t.translate("_date_year")};r("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:gn(o),dateFormats:is(u),periodChangeDateFormats:is(f)}),r("DateAxis").setAll({maxZoomFactor:null,strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,gridIntervals:gn(o),dateFormats:is(u),periodChangeDateFormats:is(f),tooltipDateFormats:m,groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:y=>{const D=y.get("axisFill");if(D){const T=y.component,C=y.get("value"),M=y.get("endValue"),S=T.intervalDuration(),X=T.getPrivate("baseInterval"),O=T.getPrivate("gridInterval",X);let z=T.getPrivate("min",0);if(z=Ms(new Date(z),O.timeUnit,O.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),C!=null&&M!=null){const G=Math.round(Math.round((C-z)/S))/2;G==Math.round(G)?D.setPrivate("visible",!0):D.setPrivate("visible",!1)}}}}),r("GaplessDateAxis").setAll({fillRule:y=>{const D=y.get("axisFill");if(D){const T=y.get("index");let C=!1;(!J(T)||T%2==0)&&(C=!0),D.setPrivate("visible",C)}}}),r("ValueAxis").setAll({baseValue:0,logarithmic:!1,strictMinMax:!1,autoZoom:!0,fillRule:y=>{const D=y.get("axisFill");if(D){const T=y.component,C=y.get("value"),M=T.getPrivate("step");J(C)&&J(M)&&(_t(C/M/2,5)==Math.round(C/M/2)?D.setPrivate("visible",!1):D.setPrivate("visible",!0))}}}),r("DurationAxis").setAll({baseUnit:"second"}),r("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),r("BaseColumnSeries").setAll({adjustBulletPosition:!0}),r("ColumnSeries").setAll({clustered:!0}),r("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:Ht(70),height:Ht(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),r("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),r("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),r("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),r("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:(y,D)=>{const T=D.parent;if(T){const C=T.height(),M=T.width();y.moveTo(0,C/2),y.lineTo(M,C/2)}}});{const y=r("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{});we(y,"stroke",e,"disabled")}r("Graphics",["line","series","legend","marker","fill"]).setAll({draw:(y,D)=>{const T=D.parent;if(T){const C=T.height(),M=T.width();y.moveTo(0,0),y.lineTo(M,0),y.lineTo(M,C),y.lineTo(0,C),y.lineTo(0,0)}}});{const y=r("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{});we(y,"stroke",e,"disabled")}r("SmoothedXYLineSeries").setAll({tension:.5}),r("SmoothedXLineSeries").setAll({tension:.5}),r("SmoothedYLineSeries").setAll({tension:.5}),r("Candlestick").setAll({position:"absolute",isMeasured:!1,width:Ht(50),height:Ht(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),r("OHLC").setAll({width:Ht(80),height:Ht(80)}),r("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});{const y=r("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});we(y,"fill",e,"positive"),we(y,"stroke",e,"positive")}{const y=r("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});we(y,"fill",e,"negative"),we(y,"stroke",e,"negative")}r("Rectangle",["column","autocolor","pro"]).states.create("riseFromOpen",{fillOpacity:0}),r("Rectangle",["column","autocolor","pro"]).states.create("dropFromOpen",{fillOpacity:1});{const y=r("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{});we(y,"fill",e,"positive"),we(y,"stroke",e,"positive")}{const y=r("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{});we(y,"fill",e,"negative"),we(y,"stroke",e,"negative")}r("RoundedRectangle",["rangegrip"]).setAll({strokeOpacity:0,fillOpacity:0,strokeWidth:1,width:12,height:12});{const y=r("Graphics",["rangegrip","button","icon"]);y.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:D=>{D.moveTo(0,.5),D.lineTo(0,12.5),D.moveTo(2,.5),D.lineTo(2,12.5),D.moveTo(4,.5),D.lineTo(4,12.5)}}),we(y,"stroke",e,"secondaryButtonText")}r("Button",["rangegrip"]).setAll({draggable:!0,paddingTop:0,paddingBottom:0}),r("Button",["rangegrip","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize",centerX:Ie}),r("Button",["rangegrip","horizontal"]).setAll({cursorOverStyle:"ew-resize",centerX:Ie}),r("Button",["rangegrip","vertical","left"]).setAll({centerY:fe}),r("Button",["rangegrip","vertical","right"]).setAll({centerY:0}),r("Button",["rangegrip","horizontal","top"]).setAll({centerY:0}),r("Button",["rangegrip","horizontal","bottom"]).setAll({centerY:fe})}}class na extends cr{constructor(){super(...arguments),Object.defineProperty(this,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new Jr}),Object.defineProperty(this,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new Jr}),Object.defineProperty(this,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(ke.new(this._root,{width:fe,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(ke.new(this._root,{width:fe,height:fe,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(ke.new(this._root,{width:fe,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(ke.new(this._root,{height:fe,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"plotsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(ke.new(this._root,{width:fe,height:fe,maskContent:!1}))}),Object.defineProperty(this,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(ke.new(this._root,{width:fe,height:fe}))}),Object.defineProperty(this,"topPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(ke.new(this._root,{width:fe,height:fe}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(ke.new(this._root,{width:fe,height:fe,isMeasured:!1}))}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:ke.new(this._root,{width:fe,height:fe,isMeasured:!1})}),Object.defineProperty(this,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(ke.new(this._root,{height:fe,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(ke.new(this._root,{}))}),Object.defineProperty(this,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:this.topPlotContainer.children.push(lr.new(this._root,{themeTags:["zoom"],icon:Ge.new(this._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downStartX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStartY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._defaultThemes.push(Ym.new(this._root)),super._afterNew(),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);const e=this._root;let t=this._root.verticalLayout;const r=this.zoomOutButton;r.events.on("click",()=>{this.zoomOut()}),r.hide(0),r.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",t);const o=this.plotContainer;o.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),o.children.push(this.topGridContainer),o.children.push(this.bulletsContainer),o.set("interactive",!0),o.set("interactiveChildren",!1),o.set("background",jt.new(e,{themeTags:["xy","background"],fill:ve.fromHex(0),fillOpacity:0})),this._disposers.push(o.events.on("pointerdown",u=>{this._handlePlotDown(u)})),this._disposers.push(o.events.on("globalpointerup",u=>{this._handlePlotUp(u)})),this._disposers.push(o.events.on("globalpointermove",u=>{this._handlePlotMove(u)})),this._maskGrid(),this._setUpTouch()}_beforeChanged(){super._beforeChanged(),(this.isDirty("pinchZoomX")||this.isDirty("pinchZoomY")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_setUpTouch(){this.plotContainer._display.cancelTouch||(this.plotContainer._display.cancelTouch=!!(this.get("pinchZoomX")||this.get("pinchZoomY")||this.get("panX")||this.get("panY")))}_maskGrid(){this.gridContainer.set("maskContent",!0),this.topGridContainer.set("maskContent",!0)}_removeSeries(e){e._unstack(),e._posXDp&&e._posXDp.dispose(),e._posYDp&&e._posYDp.dispose(),e.set("baseAxis",void 0);const t=e.get("xAxis");t&&(Gt(t.series,e),t.markDirtyExtremes());const r=e.get("yAxis");r&&(Gt(r.series,e),r.markDirtyExtremes());const o=this.get("cursor");if(o){const u=o.get("snapToSeries");u&&Gt(u,e)}super._removeSeries(e)}handleWheel(e){const t=this.get("wheelX"),r=this.get("wheelY"),o=this.plotContainer,u=e.originalEvent;if(Kn(u,this))u.preventDefault();else return;const f=o.toLocal(e.point),m=this.get("wheelStep",.2),y=u.deltaY/100,D=u.deltaX/100,T=this.get("wheelZoomPositionX"),C=this.get("wheelZoomPositionY");(t==="zoomX"||t==="zoomXY")&&D!=0&&this.xAxes.each(M=>{if(M.get("zoomX")){let S=M.get("start"),X=M.get("end"),O=M.fixPosition(f.x/o.width());T!=null&&(O=T);let z=S-m*(X-S)*D*O,G=X+m*(X-S)*D*(1-O);1/(G-z)<M.getPrivate("maxZoomFactor",1/0)/M.get("minZoomCount",1)&&this._handleWheelAnimation(M.zoom(z,G))}}),(r==="zoomX"||r==="zoomXY")&&y!=0&&this.xAxes.each(M=>{if(M.get("zoomX")){let S=M.get("start"),X=M.get("end"),O=M.fixPosition(f.x/o.width());T!=null&&(O=T);let z=S-m*(X-S)*y*O,G=X+m*(X-S)*y*(1-O);1/(G-z)<M.getPrivate("maxZoomFactor",1/0)/M.get("minZoomCount",1)&&this._handleWheelAnimation(M.zoom(z,G))}}),(t==="zoomY"||t==="zoomXY")&&D!=0&&this.yAxes.each(M=>{if(M.get("zoomY")){let S=M.get("start"),X=M.get("end"),O=M.fixPosition(f.y/o.height());C!=null&&(O=C);let z=S-m*(X-S)*D*O,G=X+m*(X-S)*D*(1-O);1/(G-z)<M.getPrivate("maxZoomFactor",1/0)/M.get("minZoomCount",1)&&this._handleWheelAnimation(M.zoom(z,G))}}),(r==="zoomY"||r==="zoomXY")&&y!=0&&this.yAxes.each(M=>{if(M.get("zoomY")){let S=M.get("start"),X=M.get("end"),O=M.fixPosition(f.y/o.height());C!=null&&(O=C);let z=S-m*(X-S)*y*O,G=X+m*(X-S)*y*(1-O);1/(G-z)<M.getPrivate("maxZoomFactor",1/0)/M.get("minZoomCount",1)&&this._handleWheelAnimation(M.zoom(z,G))}}),(t==="panX"||t==="panXY")&&D!=0&&this.xAxes.each(M=>{if(M.get("panX")){let S=M.get("start"),X=M.get("end"),O=this._getWheelSign(M)*m*(X-S)*D,z=S+O,G=X+O,R=this._fixWheel(z,G);z=R[0],G=R[1],this._handleWheelAnimation(M.zoom(z,G))}}),(r==="panX"||r==="panXY")&&y!=0&&this.xAxes.each(M=>{if(M.get("panX")){let S=M.get("start"),X=M.get("end"),O=this._getWheelSign(M)*m*(X-S)*y,z=S+O,G=X+O,R=this._fixWheel(z,G);z=R[0],G=R[1],this._handleWheelAnimation(M.zoom(z,G))}}),(t==="panY"||t==="panXY")&&D!=0&&this.yAxes.each(M=>{if(M.get("panY")){let S=M.get("start"),X=M.get("end"),O=this._getWheelSign(M)*m*(X-S)*D,z=S+O,G=X+O,R=this._fixWheel(z,G);z=R[0],G=R[1],this._handleWheelAnimation(M.zoom(z,G))}}),(r==="panY"||r==="panXY")&&y!=0&&this.yAxes.each(M=>{if(M.get("panY")){let S=M.get("start"),X=M.get("end"),O=this._getWheelSign(M)*m*(X-S)*y,z=S-O,G=X-O,R=this._fixWheel(z,G);z=R[0],G=R[1],this._handleWheelAnimation(M.zoom(z,G))}})}_handleSetWheel(){const e=this.get("wheelX"),t=this.get("wheelY"),r=this.plotContainer;e!=="none"||t!=="none"?(this._wheelDp=r.events.on("wheel",o=>{const u=o.originalEvent;(e!=="none"&&Math.abs(u.deltaX)!=0||t!=="none"&&Math.abs(u.deltaY)!=0)&&this.handleWheel(o)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_getWheelSign(e){let t=1;return e.get("renderer").get("inversed")&&(t=-1),t}_fixWheel(e,t){const r=t-e;return e<0&&(e=0,t=e+r),t>1&&(t=1,e=t-r),[e,t]}_handlePlotDown(e){const t=e.originalEvent;if(t.button==2)return;const r=this.plotContainer;let o=r.toLocal(e.point);if((this.get("pinchZoomX")||this.get("pinchZoomY"))&&t.pointerId&&ut(r._downPoints).length>0){const f=this.xAxes.getIndex(0),m=this.yAxes.getIndex(0);f&&(this._downStartX=f.get("start",0),this._downEndX=f.get("end",1)),m&&(this._downStartY=m.get("start",0),this._downEndY=m.get("end",1))}if((this.get("panX")||this.get("panY"))&&o.x>=0&&o.y>=0&&o.x<=r.width()&&o.y<=this.height()){this._downPoint={x:t.clientX,y:t.clientY};const u=this.get("panX"),f=this.get("panY");u&&this.xAxes.each(y=>{y._panStart=y.get("start"),y._panEnd=y.get("end")}),f&&this.yAxes.each(y=>{y._panStart=y.get("start"),y._panEnd=y.get("end")});const m="panstarted";this.events.isEnabled(m)&&this.events.dispatch(m,{type:m,target:this,originalEvent:e.originalEvent})}}_handleWheelAnimation(e){e?e.events.on("stopped",()=>{this._dispatchWheelAnimation()}):this._dispatchWheelAnimation()}_dispatchWheelAnimation(){const e="wheelended";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}_handlePlotUp(e){const t=this._downPoint;if(t&&(this.get("panX")||this.get("panY"))){let r=this.plotContainer.toLocal(e.point);if(r.x==t.x&&r.y==t.y){const u="pancancelled";this.events.isEnabled(u)&&this.events.dispatch(u,{type:u,target:this,originalEvent:e.originalEvent})}const o="panended";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this,originalEvent:e.originalEvent})}this._downPoint=void 0,this.xAxes.each(r=>{r._isPanning=!1}),this.yAxes.each(r=>{r._isPanning=!1})}_handlePlotMove(e){const t=this.plotContainer;if(this.get("pinchZoomX")||this.get("pinchZoomY")){const u=e.originalEvent.pointerId;if(u&&(this._movePoints[u]=e.point,ut(t._downPoints).length>1)){this._handlePinch();return}}let r=this._downPoint;if(r){r=t.toLocal(this._root.documentPointToRoot(r));let o=t.toLocal(e.point);const u=this.get("panX"),f=this.get("panY");if(u){let m=this.get("scrollbarX");m&&m.events.disableType("rangechanged"),this.xAxes.each(y=>{if(y.get("panX")){y._isPanning=!0;let D=y._panStart,T=y._panEnd,M=(T-D)*(r.x-o.x)/t.width();y.get("renderer").get("inversed")&&(M*=-1);let S=D+M,X=T+M;X-S<1+y.get("maxDeviation",1)*2&&(y.set("start",S),y.set("end",X))}}),m&&m.events.enableType("rangechanged")}if(f){let m=this.get("scrollbarY");m&&m.events.disableType("rangechanged"),this.yAxes.each(y=>{if(y.get("panY")){y._isPanning=!0;let D=y._panStart,T=y._panEnd,M=(T-D)*(r.y-o.y)/t.height();y.get("renderer").get("inversed")&&(M*=-1);let S=D-M,X=T-M;X-S<1+y.get("maxDeviation",1)*2&&(y.set("start",S),y.set("end",X))}}),m&&m.events.enableType("rangechanged")}}}_handlePinch(){const e=this.plotContainer;let t=0,r=[],o=[];if(Ue(e._downPoints,(u,f)=>{r[t]=f;let m=this._movePoints[u];m&&(o[t]=m),t++}),r.length>1&&o.length>1){const u=e.width(),f=e.height();let m=r[0],y=r[1],D=o[0],T=o[1];if(m&&y&&D&&T){if(D=e.toLocal(D),T=e.toLocal(T),m=e.toLocal(m),y=e.toLocal(y),this.get("pinchZoomX")){const C=this._downStartX,M=this._downEndX;if(C!=null&&M!=null){m.x>y.x&&([m,y]=[y,m],[D,T]=[T,D]);let S=C+m.x/u*(M-C),X=C+y.x/u*(M-C),O=C+D.x/u*(M-C),z=C+T.x/u*(M-C),G=Math.max(.001,X-S),R=Math.max(.001,z-O),U=G/R,N=C*U+S-O*U,V=M*U+X-z*U;this.xAxes.each(se=>{let re=se.fixPosition(N),ee=se.fixPosition(V);se.zoom(re,ee,0)})}}if(this.get("pinchZoomY")){const C=this._downStartY,M=this._downEndY;if(C!=null&&M!=null){m.y<y.y&&([m,y]=[y,m],[D,T]=[T,D]);let S=C+(1-m.y/f)*(M-C),X=C+(1-y.y/f)*(M-C),O=C+(1-D.y/f)*(M-C),z=C+(1-T.y/f)*(M-C),G=Math.max(.001,X-S),R=Math.max(.001,z-O),U=G/R,N=C*U+S-O*U,V=M*U+X-z*U;this.yAxes.each(se=>{let re=se.fixPosition(N),ee=se.fixPosition(V);se.zoom(re,ee,0)})}}}}}_handleCursorPosition(){const e=this.get("cursor");if(e){const t=e.getPrivate("point");let r=e.get("snapToSeries");if(e._downPoint&&(r=void 0),r&&t){const o=e.get("snapToSeriesBy"),u=[];K(r,y=>{if(!y.isHidden()&&!y.isHiding())if(o!="x!"&&o!="y!"){const D=y.startIndex(),T=y.endIndex();for(let C=D;C<T;C++){const M=y.dataItems[C];M&&!M.isHidden()&&u.push(M)}}else{const D=y.get("tooltipDataItem");D&&u.push(D)}});let f=1/0,m;if(K(u,y=>{const D=y.get("point");if(D){let T=0;o=="x"||o=="x!"?T=Math.abs(t.x-D.x):o=="y"||o=="y!"?T=Math.abs(t.y-D.y):T=Math.hypot(t.x-D.x,t.y-D.y),T<f&&(f=T,m=y)}}),K(r,y=>{const D=y.get("tooltip");D&&D._setDataItem(void 0)}),m){let y=m.component;y.showDataItemTooltip(m),y.setRaw("tooltipDataItem",m);const D=m.get("point");D&&e.handleMove(y.toGlobal({x:D.x-y.x(),y:D.y-y.y()}),!0)}}}}_updateCursor(){let e=this.get("cursor");e&&e.updateCursor()}_addCursor(e){this.plotContainer.children.push(e)}_prepareChildren(){if(super._prepareChildren(),this.series.each(e=>{this._colorize(e)}),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){const e=this._prevSettings.cursor,t=this.get("cursor");t!==e&&(this._disposeProperty("cursor"),e&&e.dispose(),t&&(t._setChart(this),this._addCursor(t),this._pushPropertyDisposer("cursor",t.events.on("selectended",()=>{this._handleCursorSelectEnd()}))),this._prevSettings.cursor=t)}if(this.isDirty("scrollbarX")){const e=this._prevSettings.scrollbarX,t=this.get("scrollbarX");t!==e&&(this._disposeProperty("scrollbarX"),e&&e.dispose(),t&&(t.parent||this.topAxesContainer.children.push(t),this._pushPropertyDisposer("scrollbarX",t.events.on("rangechanged",r=>{this._handleScrollbar(this.xAxes,r.start,r.end,r.grip)})),t.setPrivate("positionTextFunction",r=>{const o=this.xAxes.getIndex(0);return o&&o.getTooltipText(r,!1)||""})),this._prevSettings.scrollbarX=t)}if(this.isDirty("scrollbarY")){const e=this._prevSettings.scrollbarY,t=this.get("scrollbarY");t!==e&&(this._disposeProperty("scrollbarY"),e&&e.dispose(),t&&(t.parent||this.rightAxesContainer.children.push(t),this._pushPropertyDisposer("scrollbarY",t.events.on("rangechanged",r=>{this._handleScrollbar(this.yAxes,r.start,r.end,r.grip)})),t.setPrivate("positionTextFunction",r=>{const o=this.yAxes.getIndex(0);return o&&o.getTooltipText(r,!1)||""})),this._prevSettings.scrollbarY=t)}this._handleZoomOut()}_processSeries(e){super._processSeries(e);const t=e.get("xAxis"),r=e.get("yAxis");yo(t.series,e),yo(r.series,e),e._posXDp=e.addDisposer(t.events.on("positionchanged",()=>{e._fixPosition()})),e._posXDp=e.addDisposer(r.events.on("positionchanged",()=>{e._fixPosition()})),e.get("baseAxis")||(r.isType("CategoryAxis")||r.isType("DateAxis")?e.set("baseAxis",r):e.set("baseAxis",t)),e.get("stacked")&&(e._markDirtyKey("stacked"),K(e.dataItems,o=>{o.set("stackToItemY",void 0),o.set("stackToItemX",void 0)})),e._markDirtyAxes(),r.markDirtyExtremes(),t.markDirtyExtremes(),t._seriesAdded=!0,r._seriesAdded=!0,this._colorize(e)}_colorize(e){const t=this.get("colors");if(t&&e.get("fill")==null){const r=t.next();e._setSoft("stroke",r),e._setSoft("fill",r)}}_handleCursorSelectEnd(){const e=this.get("cursor"),t=e.get("behavior"),r=e.getPrivate("downPositionX",0),o=e.getPrivate("downPositionY",0),u=Math.min(1,Math.max(0,e.getPrivate("positionX",.5))),f=Math.min(1,Math.max(0,e.getPrivate("positionY",.5)));this.xAxes.each(m=>{if(t==="zoomX"||t==="zoomXY"){let y=m.toAxisPosition(r),D=m.toAxisPosition(u);m.zoom(y,D)}m.setPrivate("updateScrollbar",!0)}),this.yAxes.each(m=>{if(t==="zoomY"||t==="zoomXY"){let y=m.toAxisPosition(o),D=m.toAxisPosition(f);m.zoom(y,D)}m.setPrivate("updateScrollbar",!0)})}_handleScrollbar(e,t,r,o){e.each(u=>{let f=u.fixPosition(t),m=u.fixPosition(r),y=u.zoom(f,m,void 0,o);const D="updateScrollbar";u.setPrivateRaw(D,!1),y?y.events.on("stopped",()=>{u.setPrivateRaw(D,!0)}):u.setPrivateRaw(D,!0)})}_processAxis(e,t){return e.events.onAll(r=>{if(r.type==="clear")K(r.oldValues,o=>{this._removeAxis(o)});else if(r.type==="push")t.children.push(r.newValue),r.newValue.processChart(this);else if(r.type==="setIndex")t.children.setIndex(r.index,r.newValue),r.newValue.processChart(this);else if(r.type==="insertIndex")t.children.insertIndex(r.index,r.newValue),r.newValue.processChart(this);else if(r.type==="removeIndex")this._removeAxis(r.oldValue);else if(r.type==="moveIndex")t.children.moveValue(r.value,r.newIndex),r.value.processChart(this);else throw new Error("Unknown IListEvent type")})}_removeAxis(e){if(!e.isDisposed()){const t=e.parent;t&&t.children.removeValue(e);const r=e.gridContainer,o=r.parent;o&&o.children.removeValue(r);const u=e.topGridContainer,f=u.parent;f&&f.children.removeValue(u)}}_updateChartLayout(){const e=this.leftAxesContainer.width(),t=this.rightAxesContainer.width(),r=this.bottomAxesContainer;r.set("paddingLeft",e),r.set("paddingRight",t);const o=this.topAxesContainer;o.set("paddingLeft",e),o.set("paddingRight",t)}processAxis(e){var t=this.get("cursor");t&&(this.addDisposer(e.on("start",()=>{this._updateCursor()})),this.addDisposer(e.on("end",()=>{this._updateCursor()})))}_handleAxisSelection(e,t){let r=e.fixPosition(e.get("start",0)),o=e.fixPosition(e.get("end",1));if(r>o&&([r,o]=[o,r]),this.xAxes.indexOf(e)!=-1){if(t||e.getPrivate("updateScrollbar")){let u=this.get("scrollbarX");u&&(!u.getPrivate("isBusy")||t)&&(u.setRaw("start",r),u.setRaw("end",o),u.updateGrips())}}else if(this.yAxes.indexOf(e)!=-1&&(t||e.getPrivate("updateScrollbar"))){let u=this.get("scrollbarY");u&&(!u.getPrivate("isBusy")||t)&&(u.setRaw("start",r),u.setRaw("end",o),u.updateGrips())}this._handleZoomOut()}_handleZoomOut(){let e=this.zoomOutButton;if(e&&e.parent){let t=!1;this.xAxes.each(r=>{(r.get("start")!=0||r.get("end")!=1)&&(t=!0)}),this.yAxes.each(r=>{(r.get("start")!=0||r.get("end")!=1)&&(t=!0)}),t?e.isHidden()&&e.show():e.hide()}}inPlot(e){const t=this.plotContainer,r=this.getPrivate("otherCharts",this._otherCharts),o=t.toGlobal(e);if(e.x>=-.5&&e.y>=-.5&&e.x<=t.width()+.5&&e.y<=t.height()+.5)return!0;if(r)for(let u=r.length-1;u>=0;u--){const f=r[u];if(f!=this){const m=f.plotContainer,y=this._root.rootPointToDocument(o),D=f._root.documentPointToRoot(y),T=m.toLocal(D);if(T.x>=-.1&&T.y>=-.1&&T.x<=m.width()+.1&&T.y<=m.height()+.1)return!0}}return!1}arrangeTooltips(){const e=this.plotContainer,t=e.width(),r=e.height(),o=this.height();let u=e._display.toGlobal({x:0,y:0}),f=e._display.toGlobal({x:t,y:r});const m=[];let y=0,D=1/0,T=this._movePoint,C=this.get("maxTooltipDistance"),M=this.get("maxTooltipDistanceBy","xy"),S,X;J(C)&&this.series.each(z=>{if(!z.isHidden()){const G=z.get("tooltip");if(G){let R=G.get("pointTo");if(R){let U=Math.hypot(T.x-R.x,T.y-R.y);M=="x"?U=Math.abs(T.x-R.x):M=="y"&&(U=Math.abs(T.y-R.y)),U<D&&(D=U,S=z,X=R)}}}});const O=[];if(this.series.each(z=>{const G=z.get("tooltip");if(G&&!G.get("forceHidden")){let R=!1,U=G.get("pointTo");if(U){if(C>=0){let N=G.get("pointTo");if(N&&X&&z!=S){let V=Math.hypot(X.x-N.x,X.y-N.y);M=="x"?V=Math.abs(X.x-N.x):M=="y"&&(V=Math.abs(X.y-N.y)),V>C&&(R=!0)}}else C==-1&&z!=S&&(R=!0);!this.inPlot(this._tooltipToLocal(U))||!G.dataItem?R=!0:R||(y+=U.y),R||z.isHidden()||z.isHiding()?G.hide(0):(G.show(),m.push(G),O.push(z))}}}),this.setPrivate("tooltipSeries",O),this.get("arrangeTooltips")){const z=this._root.tooltipContainer,G=m.length;if(y/G>r/2+u.y){m.sort((N,V)=>Po(V.get("pointTo").y,N.get("pointTo").y));let U=f.y;if(K(m,N=>{let V=N.height(),se=N.get("centerY");se instanceof Be&&(V*=se.value),V+=N.get("marginBottom",0),N.set("bounds",{left:u.x,top:u.y,right:f.x,bottom:U}),N.setPrivate("customData",{left:u.x,top:u.y,right:f.x,bottom:U}),U=Math.min(U-V,N._fy-V),N.parent==z&&z.children.moveValue(N,0)}),U<0){m.reverse();let N=U;K(m,V=>{let se=V.get("bounds");if(se){let re=se.top-U,ee=se.bottom-U;re<N&&(re=N,ee=re+V.height()),V.set("bounds",{left:se.left,top:re,right:se.right,bottom:ee}),N=se.bottom-U+V.get("marginBottom",0)}})}}else{m.reverse(),m.sort((N,V)=>Po(N.get("pointTo").y,V.get("pointTo").y));let U=0;if(K(m,N=>{let V=N.height(),se=N.get("centerY");se instanceof Be&&(V*=se.value),V+=N.get("marginBottom",0),N.set("bounds",{left:u.x,top:U,right:f.x,bottom:Math.max(u.y+o,U+V)}),N.parent==z&&z.children.moveValue(N,0),U=Math.max(U+V,N._fy+V)}),U>o){m.reverse();let N=o;K(m,V=>{let se=V.get("bounds");if(se){let re=se.top-(o-U),ee=se.bottom-(o-U);ee>N&&(ee=N,re=ee-V.height()),V.set("bounds",{left:se.left,top:re,right:se.right,bottom:ee}),N=ee-V.height()-V.get("marginBottom",0)}})}}}}_tooltipToLocal(e){return this.plotContainer.toLocal(e)}zoomOut(){this.xAxes.each(e=>{e.setPrivate("updateScrollbar",!0),e.zoom(0,1)}),this.yAxes.each(e=>{e.setPrivate("updateScrollbar",!0),e.zoom(0,1)})}}Object.defineProperty(na,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"});Object.defineProperty(na,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cr.classNames.concat([na.className])});class Es extends Ge{_beforeChanged(){super._beforeChanged(),(this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}}Object.defineProperty(Es,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Grid"});Object.defineProperty(Es,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ge.classNames.concat([Es.className])});class oa extends ke{constructor(){super(...arguments),Object.defineProperty(this,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Es.new(this._root,{themeTags:["x"]}))}),Object.defineProperty(this,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Es.new(this._root,{themeTags:["y"]}))}),Object.defineProperty(this,"selection",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ge.new(this._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=tt(this._settings.themeTags,["xy","cursor"]),super._afterNew(),this.setAll({width:fe,height:fe,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout(()=>{this.setPrivate("visible",!0)},500)),this._disposers.push(this.lineX.events.on("positionchanged",()=>{this._handleXLine()})),this._disposers.push(this.lineY.events.on("positionchanged",()=>{this._handleYLine()})),this._disposers.push(this.lineX.events.on("focus",e=>this._handleLineFocus(e.target))),this._disposers.push(this.lineX.events.on("blur",e=>this._handleLineBlur(e.target))),this._disposers.push(this.lineY.events.on("focus",e=>this._handleLineFocus(e.target))),this._disposers.push(this.lineY.events.on("blur",e=>this._handleLineBlur(e.target))),Ti("keyboardevents")&&this._disposers.push(rt(document,"keydown",e=>{this._handleLineMove(e.keyCode)}))}_setUpTouch(){const e=this.chart;e&&(e.plotContainer._display.cancelTouch=this.get("behavior")!="none")}_handleXLine(){let e=this.lineX.x(),t=!0;(e<0||e>this.width())&&(t=!1),this.lineX.setPrivate("visible",t)}_handleYLine(){let e=this.lineY.y(),t=!0;(e<0||e>this.height())&&(t=!1),this.lineY.setPrivate("visible",t)}_handleLineMove(e){let t="",r=0,o=.1;const u=this.chart;this._root.focused(this.lineX)?(u&&u.xAxes.length&&(o=u.xAxes.getIndex(0).getCellWidthPosition()),r=this.getPrivate("positionX",0),t="positionX",e==37?r-=o:e==39&&(r+=o)):this._root.focused(this.lineY)&&(u&&u.yAxes.length&&(o=u.yAxes.getIndex(0).getCellWidthPosition()),r=this.getPrivate("positionY",0),t="positionY",e==38?r-=o:e==40&&(r+=o)),r<0?r=0:r>1&&(r=1),t!=""&&this.set(t,r)}_handleLineFocus(e){this.setAll({positionX:this.getPrivate("positionX"),positionY:this.getPrivate("positionY"),alwaysShow:!0})}_handleLineBlur(e){this.setAll({positionX:void 0,positionY:void 0,alwaysShow:!1})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("xAxis")){this._tooltipX=!1;const e=this.get("xAxis");if(e){const t=e.get("tooltip");t&&(this._tooltipX=!0,this._disposers.push(t.on("pointTo",()=>{this._updateXLine(t)})))}}if(this.isDirty("yAxis")){this._tooltipY=!1;const e=this.get("yAxis");if(e){const t=e.get("tooltip");t&&(this._tooltipY=!0,this._disposers.push(t.on("pointTo",()=>{this._updateYLine(t)})))}}}_handleSyncWith(){const e=this.chart;if(e){const t=this.get("syncWith"),r=[];t&&K(t,o=>{const u=o.chart;u&&r.push(u)}),e._otherCharts=r}}_updateChildren(){if(super._updateChildren(),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){const e=this.get("positionX"),t=this.get("positionY");e==null&&t==null?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}_updateXLine(e){let t=_t(this._display.toLocal(e.get("pointTo",{x:0,y:0})).x,2);this._toX!=t&&(this.lineX.animate({key:"x",to:t,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toX=t)}_updateYLine(e){let t=_t(this._display.toLocal(e.get("pointTo",{x:0,y:0})).y,2);this._toY!=t&&(this.lineY.animate({key:"y",to:t,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toY=t)}_drawLines(){this.lineX.set("draw",e=>{e.moveTo(0,0),e.lineTo(0,this.height())}),this.lineY.set("draw",e=>{e.moveTo(0,0),e.lineTo(this.width(),0)})}updateCursor(){this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0)))),this.handleMove()}_setChart(e){this.chart=e,this._handleSyncWith();const t=e.plotContainer;this.events.on("boundschanged",()=>{this._disposers.push(this.setTimeout(()=>{this.updateCursor()},50))}),Ti("touchevents")&&(this._disposers.push(t.events.on("click",o=>{xn(o.originalEvent)&&this._handleMove(o)})),this._setUpTouch()),this._disposers.push(t.events.on("pointerdown",o=>{this._handleCursorDown(o)})),this._disposers.push(t.events.on("globalpointerup",o=>{this._handleCursorUp(o),!o.native&&!this.isHidden()&&this._handleMove(o)})),this._disposers.push(t.events.on("globalpointermove",o=>{!this.get("syncWith")&&ut(t._downPoints).length==0&&!o.native&&this.isHidden()||this._handleMove(o)}));const r=this.parent;r&&r.children.moveValue(this.selection)}_inPlot(e){const t=this.chart;return t?t.inPlot(e):!1}_handleCursorDown(e){if(e.originalEvent.button==2)return;const t=e.point;let r=this._display.toLocal(t);const o=this.chart;if(this.selection.set("draw",()=>{}),o&&this._inPlot(r)){if(this._downPoint=r,this.get("behavior")!="none"){this.selection.show();const m="selectstarted";this.events.isEnabled(m)&&this.events.dispatch(m,{type:m,target:this,originalEvent:e.originalEvent})}let u=this._getPosition(r).x,f=this._getPosition(r).y;this.setPrivate("downPositionX",u),this.setPrivate("downPositionY",f)}}_handleCursorUp(e){if(this._downPoint){const t=this.get("behavior","none");if(t!="none"){t.charAt(0)==="z"&&this.selection.hide();const r=e.point;let o=this._display.toLocal(r);const u=this._downPoint,f=this.get("moveThreshold",1);if(o&&u){let m=!1;if((t==="zoomX"||t==="zoomXY"||t==="selectX"||t==="selectXY")&&Math.abs(o.x-u.x)>f&&(m=!0),(t==="zoomY"||t==="zoomXY"||t==="selectY"||t==="selectXY")&&Math.abs(o.y-u.y)>f&&(m=!0),m){const y="selectended";this.events.isEnabled(y)&&this.events.dispatch(y,{type:y,target:this,originalEvent:e.originalEvent})}else{const y="selectcancelled";this.events.isEnabled(y)&&this.events.dispatch(y,{type:y,target:this,originalEvent:e.originalEvent})}}}}this._downPoint=void 0}_handleMove(e){if(this.getPrivate("visible")){const t=this.chart;if(t&&ut(t.plotContainer._downPoints).length>1){this.set("forceHidden",!0);return}else this.set("forceHidden",!1);const r=e.point,o=this._lastPoint;if(Math.round(o.x)===Math.round(r.x)&&Math.round(o.y)===Math.round(r.y))return;this._lastPoint=r,this.setPrivate("lastPoint",r),this.handleMove({x:r.x,y:r.y},!1,e.originalEvent)}}_getPosition(e){return{x:e.x/this.width(),y:e.y/this.height()}}handleMove(e,t,r){e||(e=this._movePoint);const o=this.get("alwaysShow");if(!e){this.hide(0);return}this._movePoint=e;let u=this._display.toLocal(e),f=this.chart;if(f&&(this._inPlot(u)||this._downPoint)){f._movePoint=e,this.isHidden()&&(this.show(),this.get("behavior","").charAt(0)=="z"&&this.selection.set("draw",()=>{}));let m=u.x,y=u.y,D=this._getPosition(u);this.setPrivate("point",u);let T=this.get("snapToSeries");this._downPoint&&(T=void 0);let C=this.get("positionX"),M=D.x;J(C)&&(M=C);let S=this.get("positionY"),X=D.y;J(S)&&(X=S),this.setPrivate("positionX",M),this.setPrivate("positionY",X);const O=this._getPoint(M,X);if(m=O.x,y=O.y,f.xAxes.each(z=>{z._handleCursorPosition(M,T),o&&z.handleCursorShow()}),f.yAxes.each(z=>{z._handleCursorPosition(X,T),o&&z.handleCursorShow()}),!t){f._handleCursorPosition();const z="cursormoved";this.events.isEnabled(z)&&this.events.dispatch(z,{type:z,target:this,point:e,originalEvent:r})}this._updateLines(m,y),f.arrangeTooltips()}else if(!this._downPoint&&!o){this.hide(0);const m="cursorhidden";this.events.isEnabled(m)&&this.events.dispatch(m,{type:m,target:this})}this._downPoint&&this.get("behavior")!="none"&&this._updateSelection(u)}_getPoint(e,t){return{x:this.width()*e,y:this.height()*t}}_updateLines(e,t){this._tooltipX||this.lineX.set("x",e),this._tooltipY||this.lineY.set("y",t),this._drawLines()}_updateSelection(e){const t=this.selection,r=this.get("behavior"),o=this.width(),u=this.height();e.x<0&&(e.x=0),e.x>o&&(e.x=o),e.y<0&&(e.y=0),e.y>u&&(e.y=u),t.set("draw",f=>{const m=this._downPoint;m&&(r==="zoomXY"||r==="selectXY"?(f.moveTo(m.x,m.y),f.lineTo(m.x,e.y),f.lineTo(e.x,e.y),f.lineTo(e.x,m.y),f.lineTo(m.x,m.y)):r==="zoomX"||r==="selectX"?(f.moveTo(m.x,0),f.lineTo(m.x,u),f.lineTo(e.x,u),f.lineTo(e.x,0),f.lineTo(m.x,0)):(r==="zoomY"||r==="selectY")&&(f.moveTo(0,m.y),f.lineTo(o,m.y),f.lineTo(o,e.y),f.lineTo(0,e.y),f.lineTo(0,m.y)))})}_onHide(){if(this.isHidden()){let e=this.chart;e&&(e.xAxes.each(t=>{t.handleCursorHide()}),e.yAxes.each(t=>{t.handleCursorHide()}),e.series.each(t=>{t.handleCursorHide()}))}super._onHide()}_onShow(){if(!this.isHidden()){let e=this.chart;e&&(e.xAxes.each(t=>{t.handleCursorShow()}),e.yAxes.each(t=>{t.handleCursorShow()}))}super._onShow()}_dispose(){super._dispose(),this.selection.dispose()}}Object.defineProperty(oa,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"});Object.defineProperty(oa,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ke.classNames.concat([oa.className])});function jm(n,e){return n==null?e:e==null?n:e<n?e:n}function zm(n,e){return n==null?e:e==null?n:e>n?e:n}class gr extends hs{constructor(){super(...arguments),Object.defineProperty(this,"_xField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_axesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_stackDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataSets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_mainContainerMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"mainContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(ke.new(this._root,{}))}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new Ys}),Object.defineProperty(this,"_skipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_couldStackTo",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_reallyStackedTo",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_stackedSeries",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_aLocationX0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationX1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_aLocationY0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationY1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_showBullets",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueX","openValueX","lowValueX","highValueX"]}),Object.defineProperty(this,"valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueY","openValueY","lowValueY","highValueY"]}),Object.defineProperty(this,"_valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_emptyDataItem",{enumerable:!0,configurable:!0,writable:!0,value:new ti(this,void 0,{})}),Object.defineProperty(this,"_dataSetId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posXDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posYDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.fields.push("categoryX","categoryY","openCategoryX","openCategoryY"),this.valueFields.push("valueX","valueY","openValueX","openValueY","lowValueX","lowValueY","highValueX","highValueY"),this._setRawDefault("vcx",1),this._setRawDefault("vcy",1),this._setRawDefault("valueXShow","valueXWorking"),this._setRawDefault("valueYShow","valueYWorking"),this._setRawDefault("openValueXShow","openValueXWorking"),this._setRawDefault("openValueYShow","openValueYWorking"),this._setRawDefault("lowValueXShow","lowValueXWorking"),this._setRawDefault("lowValueYShow","lowValueYWorking"),this._setRawDefault("highValueXShow","highValueXWorking"),this._setRawDefault("highValueYShow","highValueYWorking"),this._setRawDefault("lowValueXGrouped","low"),this._setRawDefault("lowValueYGrouped","low"),this._setRawDefault("highValueXGrouped","high"),this._setRawDefault("highValueYGrouped","high"),super._afterNew(),this.set("maskContent",!0),this._disposers.push(this.axisRanges.events.onAll(e=>{if(e.type==="clear")K(e.oldValues,t=>{this._removeAxisRange(t)});else if(e.type==="push")this._processAxisRange(e.newValue);else if(e.type==="setIndex")this._processAxisRange(e.newValue);else if(e.type==="insertIndex")this._processAxisRange(e.newValue);else if(e.type==="removeIndex")this._removeAxisRange(e.oldValue);else if(e.type==="moveIndex")this._processAxisRange(e.value);else throw new Error("Unknown IStreamEvent type")})),this.states.create("hidden",{opacity:1,visible:!1}),this.onPrivate("startIndex",()=>{this.root.events.once("frameended",()=>{this.updateLegendValue()})}),this.onPrivate("endIndex",()=>{this.root.events.once("frameended",()=>{this.updateLegendValue()})}),this._makeFieldNames()}_processAxisRange(e){const t=ke.new(this._root,{});e.container=t,this.children.push(t),e.series=this;const r=e.axisDataItem;r.setRaw("isRange",!0);const o=r.component;if(o){o._processAxisRange(r,["range","series"]);const u=r.get("bullet");if(u){const m=u.get("sprite");m&&m.setPrivate("visible",!1)}const f=r.get("axisFill");f&&t.set("mask",f),o._seriesAxisRanges.push(r)}}_removeAxisRange(e){const t=e.axisDataItem,r=t.component;r.disposeDataItem(t),Gt(r._seriesAxisRanges,t);const o=e.container;o&&o.dispose()}_updateFields(){super._updateFields(),this._valueXFields=[],this._valueYFields=[],this._valueXShowFields=[],this._valueYShowFields=[],this.__valueXShowFields=[],this.__valueYShowFields=[],this.valueXFields&&K(this.valueXFields,e=>{if(this.get(e+"Field")){this._valueXFields.push(e);let r=this.get(e+"Show");this.__valueXShowFields.push(r),r.indexOf("Working")!=-1?this._valueXShowFields.push(r.split("Working")[0]):this._valueXShowFields.push(r)}}),this.valueYFields&&K(this.valueYFields,e=>{if(this.get(e+"Field")){this._valueYFields.push(e);let r=this.get(e+"Show");this.__valueYShowFields.push(r),r.indexOf("Working")!=-1?this._valueYShowFields.push(r.split("Working")[0]):this._valueYShowFields.push(r)}})}_dispose(){super._dispose(),this._bullets={};const e=this.chart;e&&e.series.removeValue(this),Ft(this.get("xAxis").series,this),Ft(this.get("yAxis").series,this)}_min(e,t){let r=jm(this.getPrivate(e),t);this.setPrivate(e,r)}_max(e,t){let r=zm(this.getPrivate(e),t);this.setPrivate(e,r)}_shouldMakeBullet(e){const t=this.get("xAxis"),r=this.get("yAxis"),o=this.get("baseAxis");if(!t.inited||!r.inited)return!1;const u=this.get("minBulletDistance",0);if(u>0){let f=this.startIndex(),y=this.endIndex()-f;if(t==o){if(t.get("renderer").axisLength()/y<u/5)return!1}else if(r==o&&r.get("renderer").axisLength()/y<u/5)return!1}return e.get(this._xField)!=null&&e.get(this._yField)!=null}_makeFieldNames(){const e=this.get("xAxis"),t=this.get("yAxis"),r=e.getPrivate("name"),o=ko(r),u=t.getPrivate("name"),f=ko(u),m=e.get("renderer").getPrivate("letter"),y=t.get("renderer").getPrivate("letter"),D="open",T="low",C="high",M="Show";e.className==="ValueAxis"?(this._xField=this.get(r+m+M),this._xOpenField=this.get(D+o+m+M),this._xLowField=this.get(T+o+m+M),this._xHighField=this.get(C+o+m+M)):(this._xField=r+m,this._xOpenField=D+o+m,this._xLowField=T+o+m,this._xHighField=C+o+m),t.className==="ValueAxis"?(this._yField=this.get(u+y+M),this._yOpenField=this.get(D+f+y+M),this._yLowField=this.get(T+f+y+M),this._yHighField=this.get(C+f+y+M)):(this._yField=u+y,this._yOpenField=D+f+y,this._yLowField=T+f+y,this._yHighField=C+f+y)}_fixVC(){const e=this.get("xAxis"),t=this.get("yAxis"),r=this.get("baseAxis"),o=this.states.lookup("hidden"),u=this.get("sequencedInterpolation");if(o){let f=0;u&&(f=.999999999999),e===r?o.set("vcy",f):(t===r||o.set("vcy",f),o.set("vcx",f))}}_handleMaskBullets(){this.isDirty("maskBullets")&&this.bulletsContainer.set("maskContent",this.get("maskBullets"))}_fixPosition(){const e=this.get("xAxis"),t=this.get("yAxis");this.set("x",e.x()-xt(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0)),this.set("y",t.y()-xt(t.get("centerY",0),t.height())-t.parent.get("paddingTop",0)),this.bulletsContainer.set("y",this.y()),this.bulletsContainer.set("x",this.x())}_prepareChildren(){super._prepareChildren(),this._bullets={},(this.isDirty("valueYShow")||this.isDirty("valueXShow")||this.isDirty("openValueYShow")||this.isDirty("openValueXShow")||this.isDirty("lowValueYShow")||this.isDirty("lowValueXShow")||this.isDirty("highValueYShow")||this.isDirty("highValueXShow"))&&(this._updateFields(),this._makeFieldNames(),this._valuesDirty=!0),(this.isDirty("xAxis")||this.isDirty("yAxis"))&&(this._valuesDirty=!0),this.set("width",this.get("xAxis").width()),this.set("height",this.get("yAxis").height()),this._handleMaskBullets();const e=this.get("xAxis"),t=this.get("yAxis"),r=this.get("baseAxis"),o=this.get("tooltipPositionX");let u;switch(o){case"open":u=this._xOpenField;break;case"low":u=this._xLowField;break;case"high":u=this._xHighField;break;default:u=this._xField}this._tooltipFieldX=u;const f=this.get("tooltipPositionY");let m;switch(f){case"open":m=this._yOpenField;break;case"low":m=this._yLowField;break;case"high":m=this._yHighField;break;default:m=this._yField}this._tooltipFieldY=m,this.isDirty("baseAxis")&&this._fixVC(),this._fixPosition();const y=this.get("stacked");if(this.isDirty("stacked")&&(y?this._valuesDirty&&!this._dataProcessed||this._stack():this._unstack()),this._valuesDirty&&!this._dataProcessed&&(this._dataProcessed=!0,y&&this._stack(),K(this.dataItems,D=>{K(this._valueXShowFields,T=>{let C=D.get(T);C!=null&&(y&&(C+=this.getStackedXValue(D,T)),this._min("minX",C),this._max("maxX",C))}),K(this._valueYShowFields,T=>{let C=D.get(T);C!=null&&(y&&(C+=this.getStackedYValue(D,T)),this._min("minY",C),this._max("maxY",C))}),e.processSeriesDataItem(D,this._valueXFields),t.processSeriesDataItem(D,this._valueYFields)}),e._seriesValuesDirty=!0,t._seriesValuesDirty=!0,this.get("ignoreMinMax")||((this.isPrivateDirty("minX")||this.isPrivateDirty("maxX"))&&e.markDirtyExtremes(),(this.isPrivateDirty("minY")||this.isPrivateDirty("maxY"))&&t.markDirtyExtremes()),this._markStakedDirtyStack(),this.get("tooltipDataItem")||this.updateLegendValue(void 0)),(this.isDirty("vcx")||this.isDirty("vcy"))&&this._markStakedDirtyStack(),this._dataGrouped||(e._groupSeriesData(this),t._groupSeriesData(this),this._dataGrouped=!0),this._valuesDirty||this.isPrivateDirty("startIndex")||this.isPrivateDirty("adjustedStartIndex")||this.isPrivateDirty("endIndex")||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty||this._sizeDirty){let D=this.startIndex(),T=this.endIndex(),C=this.get("minBulletDistance",0);if(C>0&&r&&(r.get("renderer").axisLength()/(T-D)>C?this._showBullets=!0:this._showBullets=!1),(this._psi!=D||this._pei!=T||this.isDirty("vcx")||this.isDirty("vcy")||this.isPrivateDirty("adjustedStartIndex")||this._stackDirty||this._valuesDirty)&&!this._selectionProcessed){this._selectionProcessed=!0;const M=this.get("vcx",1),S=this.get("vcy",1),X=this.get("stacked",!1),O=this.getPrivate("outOfSelection");if(r===e||!r)if(t._calculateTotals(),this.setPrivateRaw("selectionMinY",void 0),this.setPrivateRaw("selectionMaxY",void 0),O)t.markDirtySelectionExtremes();else for(let z=D;z<T;z++)this.processYSelectionDataItem(this.dataItems[z],S,X);if(r===t||!r)if(e._calculateTotals(),this.setPrivateRaw("selectionMinX",void 0),this.setPrivateRaw("selectionMaxX",void 0),O)t.markDirtySelectionExtremes();else for(let z=D;z<T;z++)this.processXSelectionDataItem(this.dataItems[z],M,X);if((r===e||!r)&&this.get("valueYShow")!=="valueYWorking"){const z=this.getPrivate("selectionMinY");z!=null&&(this.setPrivateRaw("minY",z),t.markDirtyExtremes());const G=this.getPrivate("selectionMaxY");G!=null&&(this.setPrivateRaw("maxY",G),t.markDirtyExtremes())}if((r===t||!r)&&this.get("valueXShow")!=="valueXWorking"){const z=this.getPrivate("selectionMinX");z!=null&&(this.setPrivateRaw("minX",z),t.markDirtyExtremes());const G=this.getPrivate("selectionMaxX");G!=null&&(this.setPrivateRaw("maxX",G),e.markDirtyExtremes())}(this.isPrivateDirty("selectionMinX")||this.isPrivateDirty("selectionMaxX"))&&e.markDirtySelectionExtremes(),(this.isPrivateDirty("selectionMinY")||this.isPrivateDirty("selectionMaxY"))&&t.markDirtySelectionExtremes()}}}_makeRangeMask(){if(this.axisRanges.length>0){let e=this._mainContainerMask;e==null&&(e=this.children.push(Ge.new(this._root,{})),this._mainContainerMask=e,e.set("draw",(t,r)=>{const o=this.parent;if(o){const u=this._root.container.width(),f=this._root.container.height();t.moveTo(-u,-f),t.lineTo(-u,f*2),t.lineTo(u*2,f*2),t.lineTo(u*2,-f),t.lineTo(-u,-f),this.axisRanges.each(m=>{const y=m.axisDataItem.get("axisFill");if(o&&y){let D=y.get("draw");D&&D(t,r)}})}this.mainContainer._display.mask=e._display})),e.markDirty(),e._markDirtyKey("fill")}else this.mainContainer._display.mask=null}_updateChildren(){super._updateChildren(),this._x=this.x(),this._y=this.y(),this._makeRangeMask()}_stack(){const e=this.chart;if(e){const t=e.series.indexOf(this);if(this._couldStackTo=[],t>0){let r;for(let o=t-1;o>=0&&(r=e.series.getIndex(o),!(r.get("xAxis")===this.get("xAxis")&&r.get("yAxis")===this.get("yAxis")&&r.className===this.className&&(this._couldStackTo.push(r),!r.get("stacked"))));o--);}this._stackDataItems()}}_unstack(){Ue(this._reallyStackedTo,(e,t)=>{delete t._stackedSeries[this.uid]}),this._reallyStackedTo={},K(this.dataItems,e=>{e.setRaw("stackToItemY",void 0),e.setRaw("stackToItemX",void 0)})}_stackDataItems(){const e=this.get("baseAxis"),t=this.get("xAxis"),r=this.get("yAxis");let o,u;e===t?(o="valueY",u="stackToItemY"):e===r&&(o="valueX",u="stackToItemX");let f=this._couldStackTo.length,m=0;const y=this.get("stackToNegative");this._reallyStackedTo={},K(this.dataItems,D=>{for(let T=0;T<f;T++){let C=this._couldStackTo[T],M=C.dataItems[m],S=D.get(o);if(M){let X=M.get(o);if(y)if(J(S)){if(J(X)){if(S>=0&&X>=0){D.setRaw(u,M),this._reallyStackedTo[C.uid]=C,C._stackedSeries[this.uid]=this;break}if(S<0&&X<0){D.setRaw(u,M),this._reallyStackedTo[C.uid]=C,C._stackedSeries[this.uid]=this;break}}}else break;else if(J(S)&&J(X)){D.setRaw(u,M),this._reallyStackedTo[C.uid]=C,C._stackedSeries[this.uid]=this;break}}}m++})}processXSelectionDataItem(e,t,r){K(this.__valueXShowFields,o=>{let u=e.get(o);u!=null&&(r&&(u+=this.getStackedXValueWorking(e,o)),this._min("selectionMinX",u),this._max("selectionMaxX",u*t))})}processYSelectionDataItem(e,t,r){K(this.__valueYShowFields,o=>{let u=e.get(o);u!=null&&(r&&(u+=this.getStackedYValueWorking(e,o)),this._min("selectionMinY",u),this._max("selectionMaxY",u*t))})}getStackedYValueWorking(e,t){const r=e.get("stackToItemY");if(r){const o=r.component;return r.get(t,0)*o.get("vcy",1)+this.getStackedYValueWorking(r,t)}return 0}getStackedXValueWorking(e,t){const r=e.get("stackToItemX");if(r){const o=r.component;return r.get(t,0)*o.get("vcx",1)+this.getStackedXValueWorking(r,t)}return 0}getStackedYValue(e,t){const r=e.get("stackToItemY");return r?r.get(t,0)+this.getStackedYValue(r,t):0}getStackedXValue(e,t){const r=e.get("stackToItemX");return r?r.get(t,0)+this.getStackedXValue(r,t):0}createLegendMarker(e){this.updateLegendMarker()}_markDirtyAxes(){this._axesDirty=!0,this.markDirty()}_markDataSetDirty(){this._afterDataChange(),this._valuesDirty=!0,this._dataProcessed=!1,this._aggregatesCalculated=!1,this.markDirty()}_clearDirty(){super._clearDirty(),this._axesDirty=!1,this._selectionProcessed=!1,this._stackDirty=!1,this._dataProcessed=!1}_positionBullet(e){let t=e.get("sprite");if(t){let r=t.dataItem,o=e.get("locationX",r.get("locationX",.5)),u=e.get("locationY",r.get("locationY",.5)),f=this.get("xAxis"),m=this.get("yAxis"),y=f.getDataItemPositionX(r,this._xField,o,this.get("vcx",1)),D=m.getDataItemPositionY(r,this._yField,u,this.get("vcy",1)),T=this.getPoint(y,D),C=r.get("left",T.x),M=r.get("right",T.x),S=r.get("top",T.y),X=r.get("bottom",T.y),O=0,z=0,G=M-C,R=X-S;if(this._shouldShowBullet(y,D)){t.setPrivate("visible",!e.getPrivate("hidden"));let U=e.get("field");const N=this.get("baseAxis"),V=this.get("xAxis"),se=this.get("yAxis");if(U!=null){let ee;N==V?(U=="value"?ee=this._yField:U=="open"?ee=this._yOpenField:U=="high"?ee=this._yHighField:U=="low"&&(ee=this._yLowField),ee&&(D=se.getDataItemPositionY(r,ee,0,this.get("vcy",1)),T=se.get("renderer").positionToPoint(D),z=T.y,O=C+G*o)):(U=="value"?ee=this._xField:U=="open"?ee=this._xOpenField:U=="high"?ee=this._xHighField:U=="low"&&(ee=this._xLowField),ee&&(y=V.getDataItemPositionX(r,ee,0,this.get("vcx",1)),T=V.get("renderer").positionToPoint(y),O=T.x,z=X-R*u))}else O=C+G*o,z=X-R*u;const re=e.get("stacked");if(re){const ee=this.chart;if(N==V){let oe=this._bullets[y+"_"+D];if(oe){let xe=oe.bounds(),me=t.localBounds(),Pe=z;z=xe.top,re=="down"?z=xe.bottom-me.top:re=="auto"?ee&&(Pe<ee.plotContainer.height()/2?z=xe.bottom-me.top:z+=me.bottom):z+=me.bottom}this._bullets[y+"_"+D]=t}else{let oe=this._bullets[y+"_"+D];if(oe){let xe=oe.bounds(),me=t.localBounds(),Pe=O;O=xe.right,re=="down"?O=xe.left-me.right:re=="auto"?ee&&(Pe<ee.plotContainer.width()/2?O=xe.left-me.right:O-=me.left):O-=me.left}this._bullets[y+"_"+D]=t}}t.isType("Label")&&(t.setPrivate("maxWidth",Math.abs(G)),t.setPrivate("maxHeight",Math.abs(R))),t.setAll({x:O,y:z})}else t.setPrivate("visible",!1)}}_shouldShowBullet(e,t){return this._showBullets}setDataSet(e){if(this._dataSets[e]){this._handleDataSetChange(),this._dataItems=this._dataSets[e],this._markDataSetDirty(),this._dataSetId=e;const t="datasetchanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,id:e})}}resetGrouping(){Ue(this._dataSets,(e,t)=>{t!=this._mainDataItems&&K(t,r=>{this.disposeDataItem(r)})}),this._dataSets={},this._dataItems=this.mainDataItems}_handleDataSetChange(){K(this._dataItems,e=>{let t=e.bullets;t&&K(t,r=>{if(r){let o=r.get("sprite");o&&o.setPrivate("visible",!1)}})}),this._selectionProcessed=!1}show(e){const t=Object.create(null,{show:{get:()=>super.show}});return Yt(this,void 0,void 0,function*(){this._fixVC();let r=[];r.push(t.show.call(this,e).then(()=>{this._isShowing=!1;let o=this.get("xAxis"),u=this.get("yAxis"),f=this.get("baseAxis");u!==f&&u.markDirtySelectionExtremes(),o!==f&&o.markDirtySelectionExtremes()})),r.push(this.bulletsContainer.show(e)),r.push(this._sequencedShowHide(!0,e)),yield Promise.all(r)})}hide(e){const t=Object.create(null,{hide:{get:()=>super.hide}});return Yt(this,void 0,void 0,function*(){this._fixVC();let r=[];r.push(t.hide.call(this,e).then(()=>{this._isHiding=!1})),r.push(this.bulletsContainer.hide(e)),r.push(this._sequencedShowHide(!1,e)),yield Promise.all(r)})}showDataItem(e,t){const r=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return Yt(this,void 0,void 0,function*(){const o=[r.showDataItem.call(this,e,t)];J(t)||(t=this.get("stateAnimationDuration",0));const u=this.get("stateAnimationEasing");K(this._valueFields,f=>{o.push(e.animate({key:f+"Working",to:e.get(f),duration:t,easing:u}).waitForStop())}),yield Promise.all(o)})}hideDataItem(e,t){const r=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return Yt(this,void 0,void 0,function*(){const o=[r.hideDataItem.call(this,e,t)],u=this.states.create("hidden",{});J(t)||(t=u.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const f=u.get("stateAnimationEasing",this.get("stateAnimationEasing")),m=this.get("xAxis"),y=this.get("yAxis"),D=this.get("baseAxis"),T=this.get("stacked");if((D===m||!D)&&K(this._valueYFields,C=>{let M=y.getPrivate("min"),S=y.baseValue();J(M)&&M>S&&(S=M),T&&(S=0),e.get(C)!=null&&o.push(e.animate({key:C+"Working",to:S,duration:t,easing:f}).waitForStop())}),D===y||!D){let C=m.getPrivate("min"),M=m.baseValue();J(C)&&C>M&&(M=C),T&&(M=0),K(this._valueXFields,S=>{e.get(S)!=null&&o.push(e.animate({key:S+"Working",to:M,duration:t,easing:f}).waitForStop())})}yield Promise.all(o)})}_markDirtyStack(){this._stackDirty=!0,this.markDirty(),this._markStakedDirtyStack()}_markStakedDirtyStack(){const e=this._stackedSeries;e&&Ue(e,(t,r)=>{r._stackDirty||r._markDirtyStack()})}_afterChanged(){super._afterChanged(),this._skipped&&(this._markDirtyAxes(),this._skipped=!1)}showDataItemTooltip(e){this.getPrivate("doNotUpdateLegend")||(this.updateLegendMarker(e),this.updateLegendValue(e));const t=this.get("tooltip");if(t){if(this.isHidden())this.hideTooltip();else if(t._setDataItem(e),e){let r=this.get("locationX",0),o=this.get("locationY",1),u=e.get("locationX",r),f=e.get("locationY",o);const m=this.get("xAxis"),y=this.get("yAxis"),D=this.get("vcx",1),T=this.get("vcy",1),C=m.getDataItemPositionX(e,this._tooltipFieldX,this._aLocationX0+(this._aLocationX1-this._aLocationX0)*u,D),M=y.getDataItemPositionY(e,this._tooltipFieldY,this._aLocationY0+(this._aLocationY1-this._aLocationY0)*f,T),S=this.getPoint(C,M);let X=!0;if(K(this._valueFields,O=>{e.get(O)==null&&(X=!1)}),X){const O=this.chart;O&&O.inPlot(S)?(t.label.text.markDirtyText(),t.set("tooltipTarget",this._getTooltipTarget(e)),t.set("pointTo",this._display.toGlobal({x:S.x,y:S.y}))):t._setDataItem(void 0)}else t._setDataItem(void 0)}}}hideTooltip(){const e=this.get("tooltip");return e&&e.set("tooltipTarget",this),super.hideTooltip()}_getTooltipTarget(e){if(this.get("seriesTooltipTarget")=="bullet"){const t=e.bullets;if(t&&t.length>0){const o=t[0].get("sprite");if(o)return o}}return this}updateLegendValue(e){const t=this.get("legendDataItem");if(t){const r=t.get("label");if(r){let u="";e?(r._setDataItem(e),u=this.get("legendLabelText",r.get("text",this.get("name","")))):(r._setDataItem(this._emptyDataItem),u=this.get("legendRangeLabelText",this.get("legendLabelText",r.get("text",this.get("name",""))))),r.set("text",u)}const o=t.get("valueLabel");if(o){let u="";e?(o._setDataItem(e),u=this.get("legendValueText",o.get("text",""))):(o._setDataItem(this._emptyDataItem),u=this.get("legendRangeValueText",o.get("text",""))),o.set("text",u)}}}_getItemReaderLabel(){let e="X: {"+this._xField;return this.get("xAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}; Y: {"+this._yField,this.get("yAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}",e}getPoint(e,t){let r=this.get("xAxis").get("renderer").positionToCoordinate(e),o=this.get("yAxis").get("renderer").positionToCoordinate(t),u=999999999;return o<-u&&(o=-u),o>u&&(o=u),r<-u&&(r=-u),r>u&&(r=u),{x:r,y:o}}_shouldInclude(e){return!0}handleCursorHide(){this.hideTooltip(),this.updateLegendValue(void 0),this.updateLegendMarker(void 0)}_afterDataChange(){super._afterDataChange(),this.get("xAxis")._markDirtyKey("start"),this.get("yAxis")._markDirtyKey("start"),this.resetExtremes()}resetExtremes(){this.setPrivate("selectionMinX",void 0),this.setPrivate("selectionMaxX",void 0),this.setPrivate("selectionMinY",void 0),this.setPrivate("selectionMaxY",void 0),this.setPrivate("minX",void 0),this.setPrivate("minY",void 0),this.setPrivate("maxX",void 0),this.setPrivate("maxY",void 0)}createAxisRange(e){return this.axisRanges.push({axisDataItem:e})}get mainDataItems(){return this._mainDataItems}_adjustStartIndex(e){const t=this.get("xAxis");if(this.get("baseAxis")==t&&t.isType("DateAxis")){const o=t.baseDuration(),u=t.getPrivate("selectionMin",t.getPrivate("min",0)),f=o*this.get("locationX",.5);let m=-1/0;for(;m<u;){const y=this.dataItems[e];if(y){const D=y.open;if(D?m=D.valueX:m=y.get("valueX",0),m+=f,m<u)e++;else break}else break}}return e}}Object.defineProperty(gr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYSeries"});Object.defineProperty(gr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:hs.classNames.concat([gr.className])});class pr extends ls{constructor(){super(...arguments),Object.defineProperty(this,"_series",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_isPanning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"minorDataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(ke.new(this._root,{}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:ke.new(this._root,{width:fe,height:fe})}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:ke.new(this._root,{width:fe,height:fe})}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(ke.new(this._root,{isMeasured:!1,width:fe,height:fe,position:"absolute"}))}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rangesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_panStart",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_panEnd",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_sAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_skipSync",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new Ys}),Object.defineProperty(this,"_seriesAxisRanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"ghostLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cursorPosition",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"_snapToSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_seriesValuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesAdded",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisHeader",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(ke.new(this._root,{themeTags:["axis","header"],position:"absolute",background:jt.new(this._root,{themeTags:["header","background"],fill:this._root.interfaceColors.get("background")})}))}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_dispose(){this.gridContainer.dispose(),this.topGridContainer.dispose(),this.bulletsContainer.dispose(),this.labelsContainer.dispose(),this.axisHeader.dispose(),super._dispose()}_afterNew(){super._afterNew(),this.setPrivate("updateScrollbar",!0),this._disposers.push(this.axisRanges.events.onAll(t=>{if(t.type==="clear")K(t.oldValues,r=>{this.disposeDataItem(r)});else if(t.type==="push")this._processAxisRange(t.newValue,["range"]);else if(t.type==="setIndex")this._processAxisRange(t.newValue,["range"]);else if(t.type==="insertIndex")this._processAxisRange(t.newValue,["range"]);else if(t.type==="removeIndex")this.disposeDataItem(t.oldValue);else if(t.type==="moveIndex")this._processAxisRange(t.value,["range"]);else throw new Error("Unknown IStreamEvent type")}));const e=this.get("renderer");e&&(e.axis=this,e.processAxis()),this.children.push(e),this.ghostLabel=e.makeLabel(new ti(this,void 0,{}),[]),this.ghostLabel.adapters.disable("text"),this.ghostLabel.setAll({opacity:0,tooltipText:void 0,tooltipHTML:void 0,interactive:!1}),this.ghostLabel.events.disable()}_updateFinals(e,t){}zoom(e,t,r,o){if(this.get("zoomable",!0))if(this._updateFinals(e,t),this.get("start")!==e||this.get("end")!=t){let u=this._sAnimation,f=this._eAnimation,m=this.get("maxDeviation",.5)*Math.min(1,t-e);e<-m&&(e=-m),t>1+m&&(t=1+m),e>t&&([e,t]=[t,e]),J(r)||(r=this.get("interpolationDuration",0)),o||(o="end");let y=this.getPrivate("maxZoomFactor",this.get("maxZoomFactor",100)),D=y;t===1&&e!==0&&(e<this.get("start",0)?o="start":o="end"),e===0&&t!==1&&(t>this.get("end",1)?o="end":o="start");let T=this.get("minZoomCount",0),C=this.get("maxZoomCount",1/0);J(T)&&(y=D/T);let M=1;if(J(C)&&(M=D/C),o==="start"?(C>0&&1/(t-e)<M&&(t=e+1/M),1/(t-e)>y&&(t=e+1/y),t>1&&t-e<1/y&&(e=t-1/y)):(C>0&&1/(t-e)<M&&(e=t-1/M),1/(t-e)>y&&(e=t-1/y),e<0&&t-e<1/y&&(t=e+1/y)),1/(t-e)>y&&(t=e+1/y),1/(t-e)>y&&(e=t-1/y),C!=null&&T!=null&&e==this.get("start")&&t==this.get("end")){const S=this.chart;S&&S._handleAxisSelection(this,!0)}if((u&&u.playing&&u.to==e||this.get("start")==e)&&(f&&f.playing&&f.to==t||this.get("end")==t))return;if(r>0){let S=this.get("interpolationEasing"),X,O;if(this.get("start")!=e&&(X=this.animate({key:"start",to:e,duration:r,easing:S})),this.get("end")!=t&&(O=this.animate({key:"end",to:t,duration:r,easing:S})),this._sAnimation=X,this._eAnimation=O,X)return X;if(O)return O}else this.set("start",e),this.set("end",t),this._root.events.once("frameended",()=>{this._markDirtyKey("start"),this._root._markDirty()})}else this._sAnimation&&this._sAnimation.stop(),this._eAnimation&&this._eAnimation.stop()}get series(){return this._series}_processAxisRange(e,t){e.setRaw("isRange",!0),this._createAssets(e,t),this._rangesDirty=!0,this._prepareDataItem(e);const r=e.get("above"),o=this.topGridContainer,u=e.get("grid");r&&u&&o.children.moveValue(u);const f=e.get("axisFill");r&&f&&o.children.moveValue(f)}_prepareDataItem(e,t){}markDirtyExtremes(){}markDirtySelectionExtremes(){}_calculateTotals(){}_updateAxisRanges(){this._bullets={},this.axisRanges.each(e=>{this._prepareDataItem(e)}),K(this._seriesAxisRanges,e=>{this._prepareDataItem(e)})}_prepareChildren(){if(super._prepareChildren(),this.get("fixAxisSize")?this.ghostLabel.set("visible",!0):this.ghostLabel.set("visible",!1),this.isDirty("start")||this.isDirty("end")){const t=this.chart;t&&t._updateCursor();let r=this.get("start",0),o=this.get("end",1),u=this.get("maxDeviation",.5)*Math.min(1,o-r);if(r<-u){let f=r+u;r=-u,this.setRaw("start",r),this.isDirty("end")&&this.setRaw("end",o-f)}if(o>1+u){let f=o-1-u;o=1+u,this.setRaw("end",o),this.isDirty("start")&&this.setRaw("start",r-f)}}const e=this.get("renderer");if(e._start=this.get("start"),e._end=this.get("end"),e._inversed=e.get("inversed",!1),e._axisLength=e.axisLength()/(e._end-e._start),e._updateLC(),this.isDirty("tooltip")){const t=this.get("tooltip");if(t){const r=e.get("themeTags");t.addTag("axis"),t.addTag(this.className.toLowerCase()),t._applyThemes(),r&&(t.set("themeTags",tt(t.get("themeTags"),r)),t.label._applyThemes())}}}_updateTooltipBounds(){const e=this.get("tooltip");e&&this.get("renderer").updateTooltipBounds(e)}_updateBounds(){super._updateBounds(),this._updateTooltipBounds()}processChart(e){this.chart=e;const t=this.get("renderer");t.chart=e,e.gridContainer.children.push(this.gridContainer),e.topGridContainer.children.push(this.topGridContainer),e.axisHeadersContainer.children.push(this.axisHeader),this.on("start",()=>{e._handleAxisSelection(this)}),this.on("end",()=>{e._handleAxisSelection(this)}),e.plotContainer.onPrivate("width",()=>{this.markDirtySize()}),e.plotContainer.onPrivate("height",()=>{this.markDirtySize()}),e.processAxis(this)}hideDataItem(e){return this._toggleFHDataItem(e,!0),super.hideDataItem(e)}showDataItem(e){return this._toggleFHDataItem(e,!1),super.showDataItem(e)}_toggleFHDataItem(e,t){const r="forceHidden",o=e.get("label");o&&o.set(r,t);const u=e.get("grid");u&&u.set(r,t);const f=e.get("tick");f&&f.set(r,t);const m=e.get("axisFill");m&&m.set(r,t);const y=e.get("bullet");if(y){const D=y.get("sprite");D&&D.set(r,t)}}_toggleDataItem(e,t){const r=e.get("label"),o="visible";r&&r.setPrivate(o,t);const u=e.get("grid");u&&u.setPrivate(o,t);const f=e.get("tick");f&&f.setPrivate(o,t);const m=e.get("axisFill");m&&m.setPrivate(o,t);const y=e.get("bullet");if(y){const D=y.get("sprite");D&&D.setPrivate(o,t)}}_createAssets(e,t,r){var o,u,f;const m=this.get("renderer");let y="minor";const D=e.get("label");if(!D)m.makeLabel(e,t);else{let M=D.get("themeTags"),S=!1;r?(M==null?void 0:M.indexOf(y))==-1&&(S=!0):(M==null?void 0:M.indexOf(y))!=-1&&(S=!0),S&&((o=D.parent)===null||o===void 0||o.children.removeValue(D),m.makeLabel(e,t),D.dispose(),m.labels.removeValue(D))}const T=e.get("grid");if(!T)m.makeGrid(e,t);else{let M=T.get("themeTags"),S=!1;r?(M==null?void 0:M.indexOf(y))==-1&&(S=!0):(M==null?void 0:M.indexOf(y))!=-1&&(S=!0),S&&((u=T.parent)===null||u===void 0||u.children.removeValue(T),m.makeGrid(e,t),T.dispose(),m.grid.removeValue(T))}const C=e.get("tick");if(!C)m.makeTick(e,t);else{let M=!1,S=C.get("themeTags");r?(S==null?void 0:S.indexOf(y))==-1&&(M=!0):(S==null?void 0:S.indexOf(y))!=-1&&(M=!0),M&&((f=C.parent)===null||f===void 0||f.children.removeValue(C),m.makeTick(e,t),C.dispose(),m.ticks.removeValue(C))}!r&&!e.get("axisFill")&&m.makeAxisFill(e,t),this._processBullet(e)}_processBullet(e){let t=e.get("bullet"),r=this.get("bullet");if(!t&&r&&!e.get("isRange")&&(t=r(this._root,this,e)),t){t.axis=this;const o=t.get("sprite");o&&(o._setDataItem(e),e.setRaw("bullet",t),o.parent||this.bulletsContainer.children.push(o))}}_afterChanged(){super._afterChanged();const e=this.chart;e&&(e._updateChartLayout(),e.axisHeadersContainer.markDirtySize()),this.get("renderer")._updatePositions(),this._seriesAdded=!1}disposeDataItem(e){super.disposeDataItem(e);const t=this.get("renderer"),r=e.get("label");r&&(t.labels.removeValue(r),r.dispose());const o=e.get("tick");o&&(t.ticks.removeValue(o),o.dispose());const u=e.get("grid");u&&(t.grid.removeValue(u),u.dispose());const f=e.get("axisFill");f&&(t.axisFills.removeValue(f),f.dispose());const m=e.get("bullet");m&&m.dispose()}_updateGhost(){this.setPrivate("cellWidth",this.getCellWidthPosition()*this.get("renderer").axisLength());const e=this.ghostLabel;if(!e.isHidden()){const o=e.localBounds(),u=Math.ceil(o.right-o.left);let f=e.get("text");K(this.dataItems,m=>{const y=m.get("label");if(y&&!y.isHidden()){const D=y.localBounds();Math.ceil(D.right-D.left)>u&&(f=y.text._getText())}}),e.set("text",f)}let t=this.get("start",0),r=this.get("end",1);this.get("renderer").updateLabel(e,t+(r-t)*.5)}_handleCursorPosition(e,t){e=this.get("renderer").toAxisPosition(e),this._cursorPosition=e,this._snapToSeries=t,this.updateTooltip()}updateTooltip(){const e=this._snapToSeries;let t=this._cursorPosition;const r=this.get("tooltip"),o=this.get("renderer");J(t)&&(K(this.series,u=>{if(u.get("baseAxis")===this){const f=this.getSeriesItem(u,t,this.get("tooltipLocation"));u._settings.tooltipDataItem=f,e&&e.indexOf(u)!=-1?(u.updateLegendMarker(f),u.updateLegendValue(f)):u.showDataItemTooltip(f)}}),r&&(o.updateTooltipBounds(r),this.get("snapTooltip")&&(t=this.roundAxisPosition(t,this.get("tooltipLocation",.5))),pi(t)?r.hide(0):(this.setPrivateRaw("tooltipPosition",t),this._updateTooltipText(r,t),o.positionTooltip(r,t),t<this.get("start",0)||t>this.get("end",1)?r.hide(0):r.show(0))))}_updateTooltipText(e,t){e.label.set("text",this.getTooltipText(t))}roundAxisPosition(e,t){return e}handleCursorShow(){let e=this.get("tooltip");e&&e.show()}handleCursorHide(){let e=this.get("tooltip");e&&e.hide()}processSeriesDataItem(e,t){}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._rangesDirty=!1}coordinateToPosition(e){const t=this.get("renderer");return t.toAxisPosition(e/t.axisLength())}toAxisPosition(e){return this.get("renderer").toAxisPosition(e)}toGlobalPosition(e){return this.get("renderer").toGlobalPosition(e)}fixPosition(e){return this.get("renderer").fixPosition(e)}shouldGap(e,t,r,o){return!1}createAxisRange(e){return this.axisRanges.push(e)}_groupSeriesData(e){}getCellWidthPosition(){return .05}}Object.defineProperty(pr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Axis"});Object.defineProperty(pr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ls.classNames.concat([pr.className])});class Os extends pr{constructor(){super(...arguments),Object.defineProperty(this,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1})}markDirtyExtremes(){this._dirtyExtremes=!0,this.markDirty()}markDirtySelectionExtremes(){this._dirtySelectionExtremes=!0,this.markDirty()}_afterNew(){this._settings.themeTags=tt(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),super._afterNew()}_prepareChildren(){if(super._prepareChildren(),this.isDirty("syncWithAxis")){this._prevSettings.syncWithAxis&&this._syncDp&&this._syncDp.dispose();let r=this.get("syncWithAxis");r&&(this._syncDp=new Rt([r.onPrivate("selectionMinFinal",()=>{this._dirtySelectionExtremes=!0}),r.onPrivate("selectionMaxFinal",()=>{this._dirtySelectionExtremes=!0})]))}let e=!1;(this.isDirty("min")||this.isDirty("max")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(e=!0,this.ghostLabel.set("text","")),(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||e||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection"))&&(this._getMinMax(),this._dirtyExtremes=!1),this._handleSizeDirty(),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)&&(this._getSelectionMinMax(),this._dirtySelectionExtremes=!1),this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}_handleSizeDirty(){this._sizeDirty&&(this._dirtySelectionExtremes=!0)}_groupData(){}_formatText(e){const t=this.get("numberFormat"),r=this.getNumberFormatter();let o="";return t?o=r.format(e,t):o=r.format(e,void 0,this.getPrivate("stepDecimalPlaces")),o}_prepareAxisItems(){const e=this.getPrivate("min"),t=this.getPrivate("max");if(J(e)&&J(t)){const r=this.get("logarithmic"),o=this.getPrivate("step"),u=this.getPrivate("selectionMin"),f=this.getPrivate("selectionMax")+o;let m=u-o,y=1,D=e;if(r){if(m=this._minLogAdjusted,m<u)for(;m<u;)m+=o;D=m,D<=0&&(D=1,o<1&&(D=o)),y=Math.log(f-o)*Math.LOG10E-Math.log(D)*Math.LOG10E,y>2&&(m=Math.pow(10,Math.log(D)*Math.LOG10E-5))}const T=this.get("renderer"),C=T.get("minorLabelsEnabled"),M=T.get("minorGridEnabled",C);let S=Math.pow(10,Math.floor(Math.log(Math.abs(o))*Math.LOG10E));const X=Math.round(o/S);let O=2;_t(X/5,10)%1==0&&(O=5),_t(X/10,10)%1==0&&(O=10);let z=o/O,G=0,R=0,U=-1/0;for(;m<f;){let N;this.dataItems.length<G+1?(N=new ti(this,void 0,{}),this._dataItems.push(N),this.processDataItem(N)):N=this.dataItems[G],this._createAssets(N,[]),this._toggleDataItem(N,!0),N.setRaw("value",m);const V=N.get("label");V&&V.set("text",this._formatText(m)),this._prepareDataItem(N);let se=m;if(r&&y>2?se=Math.pow(10,Math.log(D)*Math.LOG10E+G-5):se+=o,M){let ee=m+z;for(r&&(y>2&&(z=this._adjustMinMax(m,se,10).step),ee=m+z);ee<se-o*1e-11;){let oe;this.minorDataItems.length<R+1?(oe=new ti(this,void 0,{}),this.minorDataItems.push(oe),this.processDataItem(oe)):oe=this.minorDataItems[R],this._createAssets(oe,["minor"],!0),this._toggleDataItem(oe,!0),oe.setRaw("value",ee);const xe=oe.get("label");xe&&(C?xe.set("text",this._formatText(ee)):xe.setPrivate("visible",!1)),this._prepareDataItem(oe),ee+=z,R++}}if(m=se,U==m)break;let re=Math.pow(10,Math.floor(Math.log(Math.abs(o))*Math.LOG10E));if(re<1){let ee=Math.round(Math.abs(Math.log(Math.abs(re))*Math.LOG10E))+2;m=_t(m,ee)}G++,U=m}for(let N=G;N<this.dataItems.length;N++)this._toggleDataItem(this.dataItems[N],!1);for(let N=R;N<this.minorDataItems.length;N++)this._toggleDataItem(this.minorDataItems[N],!1);K(this.series,N=>{N.inited&&N._markDirtyAxes()}),this._updateGhost()}}_prepareDataItem(e,t){let r=this.get("renderer"),o=e.get("value"),u=e.get("endValue"),f=this.valueToPosition(o),m=f,y=this.valueToPosition(o+this.getPrivate("step"));J(u)&&(m=this.valueToPosition(u),y=m),e.get("isRange")&&u==null&&(y=f);let D=m,T=e.get("labelEndValue");T!=null&&(D=this.valueToPosition(T)),r.updateLabel(e.get("label"),f,D,t);const C=e.get("grid");if(r.updateGrid(C,f,m),C&&(o==this.get("baseValue",0)?(C.addTag("base"),C._applyThemes()):C.hasTag("base")&&(C.removeTag("base"),C._applyThemes())),r.updateTick(e.get("tick"),f,D,t),r.updateFill(e.get("axisFill"),f,y),this._processBullet(e),r.updateBullet(e.get("bullet"),f,m),!e.get("isRange")){const M=this.get("fillRule");M&&M(e)}}_handleRangeChange(){let e=this.positionToValue(this.get("start",0)),t=this.positionToValue(this.get("end",1));const r=this.get("renderer").gridCount();let o=this._adjustMinMax(e,t,r,!0),u=np(o.step);this.setPrivateRaw("stepDecimalPlaces",u),e=_t(e,u),t=_t(t,u),o=this._adjustMinMax(e,t,r,!0);let f=o.step;e=o.min,t=o.max,(this.getPrivate("selectionMin")!==e||this.getPrivate("selectionMax")!==t||this.getPrivate("step")!==f)&&(this.setPrivateRaw("selectionMin",e),this.setPrivateRaw("selectionMax",t),this.setPrivateRaw("step",f))}positionToValue(e){const t=this.getPrivate("min"),r=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(e*(Math.log(r)*Math.LOG10E-Math.log(t)*Math.LOG10E)+Math.log(t)*Math.LOG10E)/Math.LOG10E):e*(r-t)+t}valueToPosition(e){const t=this.getPrivate("min"),r=this.getPrivate("max");if(this.get("logarithmic")){if(e<=0){let o=this.get("treatZeroAs");J(o)&&(e=o)}return(Math.log(e)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(r)*Math.LOG10E-Math.log(t)*Math.LOG10E)}else return(e-t)/(r-t)}valueToFinalPosition(e){const t=this.getPrivate("minFinal"),r=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(e<=0){let o=this.get("treatZeroAs");J(o)&&(e=o)}return(Math.log(e)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(r)*Math.LOG10E-Math.log(t)*Math.LOG10E)}else return(e-t)/(r-t)}getX(e,t,r){e=r+(e-r)*t;const o=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(o)}getY(e,t,r){e=r+(e-r)*t;const o=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(o)}getDataItemCoordinateX(e,t,r,o){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,r,o))}getDataItemPositionX(e,t,r,o){let u=e.get(t);if(e.get("stackToItemX")){const m=e.component;u=u*o+m.getStackedXValueWorking(e,t)}else u=this._baseValue+(u-this._baseValue)*o;return this.valueToPosition(u)}getDataItemCoordinateY(e,t,r,o){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,r,o))}getDataItemPositionY(e,t,r,o){let u=e.get(t);if(e.get("stackToItemY")){const m=e.component;u=u*o+m.getStackedYValueWorking(e,t)}else u=this._baseValue+(u-this._baseValue)*o;return this.valueToPosition(u)}basePosition(){return this.valueToPosition(this.baseValue())}baseValue(){const e=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),t=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0));let r=this.get("baseValue",0);return r<e&&(r=e),r>t&&(r=t),r}cellEndValue(e){return e}fixSmallStep(e){return 1+e===1?(e*=2,this.fixSmallStep(e)):e}_fixMin(e){return e}_fixMax(e){return e}_calculateTotals(){if(this.get("calculateTotals")){let e=this.series[0];if(e){let t=e.startIndex();if(e.dataItems.length>0){t>0&&t--;let r=e.endIndex();r<e.dataItems.length&&r++;let o,u;e.get("yAxis")==this?(o="valueY",u="vcy"):e.get("xAxis")==this&&(o="valueX",u="vcx");let f=o+"Working";if(o)for(let m=t;m<r;m++){let y=0,D=0;K(this.series,T=>{if(!T.get("excludeFromTotal")){let C=T.dataItems[m];if(C){let M=C.get(f)*T.get(u);pi(M)||(y+=M,D+=Math.abs(M))}}}),K(this.series,T=>{if(!T.get("excludeFromTotal")){let C=T.dataItems[m];if(C){let M=C.get(f)*T.get(u);pi(M)||(C.set(o+"Total",D),C.set(o+"Sum",y),C.set(o+"TotalPercent",M/D*100))}}})}}}}}_getSelectionMinMax(){const e=this.getPrivate("minFinal"),t=this.getPrivate("maxFinal"),r=this.get("min"),o=this.get("max");let u=this.get("extraMin",0),f=this.get("extraMax",0);this.get("logarithmic")&&(this.get("extraMin")==null&&(u=.1),this.get("extraMax")==null&&(f=.2));const m=this.get("renderer").gridCount(),y=this.get("strictMinMaxSelection");let D=this.get("strictMinMax");if(J(e)&&J(t)){let T=t,C=e;if(K(this.series,U=>{if(!U.get("ignoreMinMax")){let N,V;const se=U.getPrivate("outOfSelection");if(U.get("xAxis")===this){if(!se){let re=U.getPrivate("minX"),ee=U.getPrivate("maxX");(U.startIndex()!=0||U.endIndex()!=U.dataItems.length)&&(re=void 0,ee=void 0),N=U.getPrivate("selectionMinX",re),V=U.getPrivate("selectionMaxX",ee)}}else if(U.get("yAxis")===this&&!se){let re=U.getPrivate("minY"),ee=U.getPrivate("maxY");(U.startIndex()!=0||U.endIndex()!=U.dataItems.length)&&(re=void 0,ee=void 0),N=U.getPrivate("selectionMinY",re),V=U.getPrivate("selectionMaxY",ee)}!U.isHidden()&&!U.isShowing()&&(J(N)&&(T=Math.min(T,N)),J(V)&&(C=Math.max(C,V)))}}),this.axisRanges.each(U=>{if(U.get("affectsMinMax")){let N=U.get("value");N!=null&&(T=Math.min(T,N),C=Math.max(C,N)),N=U.get("endValue"),N!=null&&(T=Math.min(T,N),C=Math.max(C,N))}}),T>C&&([T,C]=[C,T]),J(r)?D?T=r:T=e:D&&J(this._minReal)&&(T=this._minReal),J(o)?D?C=o:C=t:D&&J(this._maxReal)&&(C=this._maxReal),T===C){let U=T;if(T-=this._deltaMinMax,C+=this._deltaMinMax,T<e){let V=U-e;V==0&&(V=this._deltaMinMax),T=U-V,C=U+V,D=!0}let N=this._adjustMinMax(T,C,m,D);T=N.min,C=N.max}let M=T,S=C;T-=(C-T)*u,C+=(C-T)*f;let X=this._adjustMinMax(T,C,m);T=X.min,C=X.max,T=dt(T,e,t),C=dt(C,e,t),X=this._adjustMinMax(T,C,m,!0),D||(T=X.min,C=X.max);const O=this.get("syncWithAxis");O&&(X=this._syncAxes(T,C,X.step,O.getPrivate("selectionMinFinal",O.getPrivate("minFinal",0)),O.getPrivate("selectionMaxFinal",O.getPrivate("maxFinal",1)),O.getPrivate("selectionStepFinal",O.getPrivate("step",1))),T=X.min,C=X.max),D&&(J(r)&&(T=Math.max(T,r)),J(o)&&(C=Math.min(C,o))),y&&(T=M-(C-T)*u,C=S+(C-T)*f),this.get("logarithmic")&&(T<=0&&(T=M*(1-Math.min(u,.99))),T<e&&(T=e),C>t&&(C=t));let z=Math.min(20,Math.ceil(Math.log(this.getPrivate("maxZoomFactor",100)+1)/Math.LN10)+2),G=_t(this.valueToFinalPosition(T),z),R=_t(this.valueToFinalPosition(C),z);this.setPrivateRaw("selectionMinFinal",T),this.setPrivateRaw("selectionMaxFinal",C),this.setPrivateRaw("selectionStepFinal",X.step),this.zoom(G,R)}}_getMinMax(){let e=this.get("min"),t=this.get("max"),r=1/0,o=-1/0,u=this.get("extraMin",0),f=this.get("extraMax",0);this.get("logarithmic")&&(this.get("extraMin")==null&&(u=.1),this.get("extraMax")==null&&(f=.2));let m=1/0;if(K(this.series,U=>{if(!U.get("ignoreMinMax")){let N,V;if(U.get("xAxis")===this?(N=U.getPrivate("minX"),V=U.getPrivate("maxX")):U.get("yAxis")===this&&(N=U.getPrivate("minY"),V=U.getPrivate("maxY")),J(N)&&J(V)){r=Math.min(r,N),o=Math.max(o,V);let se=V-N;se<=0&&(se=Math.abs(V/100)),se<m&&(m=se)}}}),this.axisRanges.each(U=>{if(U.get("affectsMinMax")){let N=U.get("value");N!=null&&(r=Math.min(r,N),o=Math.max(o,N)),N=U.get("endValue"),N!=null&&(r=Math.min(r,N),o=Math.max(o,N))}}),this.get("logarithmic")){let U=this.get("treatZeroAs");J(U)&&r<=0&&(r=U)}if(r===0&&o===0&&(o=.9,r=-.9),J(e)&&(r=e),J(t)&&(o=t),r===1/0||o===-1/0){this.setPrivate("minFinal",void 0),this.setPrivate("maxFinal",void 0);return}const y=r,D=o;let T=this.adapters.fold("min",r),C=this.adapters.fold("max",o);J(T)&&(r=T),J(C)&&(o=C),r=this._fixMin(r),o=this._fixMax(o),o-r<=1/Math.pow(10,15)&&(o-r!==0?this._deltaMinMax=(o-r)/2:this._getDelta(o),r-=this._deltaMinMax,o+=this._deltaMinMax),r-=(o-r)*u,o+=(o-r)*f,this.get("logarithmic")&&(r<0&&y>=0&&(r=0),o>0&&D<=0&&(o=0)),this._minReal=r,this._maxReal=o;let M=this.get("strictMinMax"),S=this.get("strictMinMaxSelection",!1);S&&(M=S);let X=M;J(t)&&(X=!0);let O=this.get("renderer").gridCount(),z=this._adjustMinMax(r,o,O,X);r=z.min,o=z.max,z=this._adjustMinMax(r,o,O,!0),r=z.min,o=z.max,M&&(J(e)?r=e:r=this._minReal,J(t)?o=t:o=this._maxReal,o-r<=1e-8&&(r-=this._deltaMinMax,o+=this._deltaMinMax),r-=(o-r)*u,o+=(o-r)*f),T=this.adapters.fold("min",r),C=this.adapters.fold("max",o),J(T)&&(r=T),J(C)&&(o=C),m==1/0&&(m=o-r);let G=Math.round(Math.abs(Math.log(Math.abs(o-r))*Math.LOG10E))+5;r=_t(r,G),o=_t(o,G);const R=this.get("syncWithAxis");if(R&&(z=this._syncAxes(r,o,z.step,R.getPrivate("minFinal",R.getPrivate("min",0)),R.getPrivate("maxFinal",R.getPrivate("max",1)),R.getPrivate("step",1)),r=z.min,o=z.max),this.setPrivateRaw("maxZoomFactor",Math.max(1,Math.ceil((o-r)/m*this.get("maxZoomFactor",100)))),this._fixZoomFactor(),this.get("logarithmic")&&(this._minLogAdjusted=r,r=this._minReal,o=this._maxReal,r<=0&&(r=y*(1-Math.min(u,.99)))),J(r)&&J(o)&&(this.getPrivate("minFinal")!==r||this.getPrivate("maxFinal")!==o)){this.setPrivate("minFinal",r),this.setPrivate("maxFinal",o),this._saveMinMax(r,o);const U=this.get("interpolationDuration",0),N=this.get("interpolationEasing");this.animatePrivate({key:"min",to:r,duration:U,easing:N}),this.animatePrivate({key:"max",to:o,duration:U,easing:N})}}_fixZoomFactor(){}_getDelta(e){let t=Math.log(Math.abs(e))*Math.LOG10E,r=Math.pow(10,Math.floor(t));r=r/10,this._deltaMinMax=r}_saveMinMax(e,t){}_adjustMinMax(e,t,r,o){r<=1&&(r=1),r=Math.round(r);let u=e,f=t,m=t-e;m===0&&(m=Math.abs(t));let y=Math.log(Math.abs(m))*Math.LOG10E,D=Math.pow(10,Math.floor(y));D=D/10;let T=D;o&&(T=0),o?(e=Math.floor(e/D)*D,t=Math.ceil(t/D)*D):(e=Math.ceil(e/D)*D-T,t=Math.floor(t/D)*D+T),e<0&&u>=0&&(e=0),t>0&&f<=0&&(t=0),y=Math.log(Math.abs(m))*Math.LOG10E,D=Math.pow(10,Math.floor(y)),D=D/100;let C=Math.ceil(m/r/D)*D,M=Math.pow(10,Math.floor(Math.log(Math.abs(C))*Math.LOG10E)),S=Math.ceil(C/M);S>5?S=10:S<=5&&S>2&&(S=5),C=Math.ceil(C/(M*S))*M*S;let X=this.get("maxPrecision");if(J(X)){let R=kp(C,X);X<Number.MAX_VALUE&&C!==R&&(C=R)}let O=0;M<1&&(O=Math.round(Math.abs(Math.log(Math.abs(M))*Math.LOG10E))+1,C=_t(C,O));let z=Math.floor(e/C);e=_t(C*z,O);let G;return o?G=Math.floor(t/C):G=Math.ceil(t/C),G===z&&G++,t=_t(C*G,O),t<f&&(t=t+C),e>u&&(e=e-C),C=this.fixSmallStep(C),{min:e,max:t,step:C}}getTooltipText(e,t){const r=this.get("tooltipNumberFormat",this.get("numberFormat")),o=this.getNumberFormatter(),u=this.get("extraTooltipPrecision",0),f=this.getPrivate("stepDecimalPlaces",0)+u,m=_t(this.positionToValue(e),f);return r?o.format(m,r):o.format(m,void 0,f)}getSeriesItem(e,t){let r=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),o=this.positionToValue(t),u,f;if(K(e.dataItems,(m,y)=>{const D=Math.abs(m.get(r)-o);(u===void 0||D<f)&&(u=y,f=D)}),u!=null)return e.dataItems[u]}zoomToValues(e,t,r){const o=this.getPrivate("minFinal",0),u=this.getPrivate("maxFinal",0);this.getPrivate("min")!=null&&this.getPrivate("max")!=null&&this.zoom((e-o)/(u-o),(t-o)/(u-o),r)}_syncAxes(e,t,r,o,u,f){if(this.get("syncWithAxis")){let y=Math.round(u-o)/f,D=Math.round((t-e)/r),T=this.get("renderer").gridCount();if(J(y)&&J(D)){let C=!1,M=0,S=(t-e)*.01,X=e,O=t,z=r;for(;C!=!0;)if(C=this._checkSync(X,O,z,y),M++,M>500&&(C=!0),C)e=X,t=O,r=z;else{M/3==Math.round(M/3)?(X=e-S*M,e>=0&&X<0&&(X=0)):(O=t+S*M,O<=0&&O>0&&(O=0));let G=this._adjustMinMax(X,O,T,!0);X=G.min,O=G.max,z=G.step}}}return{min:e,max:t,step:r}}_checkSync(e,t,r,o){let u=(t-e)/r;for(let f=1;f<o;f++)if(_t(u/f,1)==o||u*f==o)return!0;return!1}getCellWidthPosition(){let e=this.getPrivate("selectionMax",this.getPrivate("max")),t=this.getPrivate("selectionMin",this.getPrivate("min"));return J(e)&&J(t)?this.getPrivate("step",1)/(e-t):.05}}Object.defineProperty(Os,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"});Object.defineProperty(Os,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pr.classNames.concat([Os.className])});class la extends Os{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesDataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_baseDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_intervalMax",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_intervalMin",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=tt(this._settings.themeTags,["axis"]),super._afterNew(),this._setBaseInterval(this.get("baseInterval")),this.on("baseInterval",()=>{this._setBaseInterval(this.get("baseInterval"))})}_setBaseInterval(e){this.setPrivateRaw("baseInterval",e),this._baseDuration=hi(e)}_fixZoomFactor(){const e=this.get("maxZoomFactor");e!=null&&e!=1/0?this.setPrivateRaw("maxZoomFactor",e):this.setPrivateRaw("maxZoomFactor",Math.round((this.getPrivate("max",0)-this.getPrivate("min",0))/this.baseMainDuration()))}_groupData(){const e=this.getPrivate("min"),t=this.getPrivate("max");if(J(e)&&J(t)){this._fixZoomFactor();const r=this.getPrivate("groupInterval");if(r?this._setBaseInterval(r):this._setBaseInterval(this.get("baseInterval")),this.isDirty("groupInterval")){let o=this.get("groupInterval");o&&(this.setRaw("groupIntervals",[o]),this._handleRangeChange())}if(this.isDirty("groupData")&&!this._dataGrouped){if(this.get("groupData"))K(this.series,o=>{this._groupSeriesData(o)}),this._handleRangeChange();else{let o=this.get("baseInterval"),u=o.timeUnit+o.count;K(this.series,f=>{f.setDataSet(u),f.resetGrouping()}),this._setBaseInterval(o),this.setPrivateRaw("groupInterval",void 0),this.markDirtyExtremes()}this._dataGrouped=!0}}}_groupSeriesData(e){if(this.get("groupData")&&!e.get("groupDataDisabled")){this._dataGrouped=!0,this._seriesDataGrouped=!0;let t=[],r=this.baseMainDuration(),o=this.get("groupIntervals");K(o,S=>{hi(S)>r&&t.push(S)}),e._dataSets={};const u=this.getPrivate("name")+this.get("renderer").getPrivate("letter");let f;const m=e.get("baseAxis");e.get("xAxis")===m?f=e._valueYFields:e.get("yAxis")===m&&(f=e._valueXFields);let y=e._mainDataItems,D=this.get("baseInterval"),T=D.timeUnit+D.count;e._dataSets[T]=y;const C=e.get("groupDataCallback");let M=e.get("groupDataWithOriginals",!1);C&&(M=!0),K(t,S=>{let X=-1/0,O=S.timeUnit+S.count;e._dataSets[O]=[];let z,G={},R={},U={},N={};K(f,oe=>{G[oe]=0,R[oe]=0,U[oe]=e.get(oe+"Grouped"),N[oe]=oe+"Working"});let V=It(S.timeUnit),se=y[0],re;se&&(re=y[0].get(u));let ee;K(y,oe=>{let xe=oe.get(u),me=Ot(xe,S.timeUnit,S.count,this._root,re),Pe;X<me-V/24?(Pe=is(oe.dataContext),z=new ti(e,Pe,e._makeDataItem(Pe)),z.setRaw(u,me),e._dataSets[O].push(z),K(f,ye=>{let Ce=oe.get(ye);J(Ce)?(z.setRaw(ye,Ce),z.setRaw(N[ye],Ce),R[ye]=1,G[ye]=Ce):(G[ye]=0,R[ye]=0)}),M&&z.set("originals",[oe]),C&&ee&&C(ee,S),ee=z):(K(f,ye=>{let Ce=U[ye],Ae=oe.get(ye);if(Ae!=null){let qe=z.get(ye);switch(Ce){case"close":z.setRaw(ye,Ae);break;case"sum":z.setRaw(ye,qe+Ae);break;case"open":break;case"low":Ae<qe&&z.setRaw(ye,Ae);break;case"high":Ae>qe&&z.setRaw(ye,Ae);break;case"average":R[ye]++,G[ye]+=Ae;let $e=G[ye]/R[ye];z.setRaw(ye,$e);break;case"extreme":Math.abs(Ae)>Math.abs(qe)&&z.setRaw(ye,Ae);break}z.setRaw(N[ye],z.get(ye));let Me=is(oe.dataContext);Me[u]=me,z.dataContext=Me}}),M&&z.get("originals").push(oe)),X=me}),C&&ee&&C(ee,S)}),e._dataSetId&&e.setDataSet(e._dataSetId),this.markDirtySize(),this._seriesAdded&&this._root.events.once("frameended",()=>{this.markDirtySize()})}}_clearDirty(){super._clearDirty(),this._groupingCalculated=!1,this._dataGrouped=!1}getGroupInterval(e){let t=this.get("baseInterval"),r=_n(0,e,this.get("groupCount",1/0),this.get("groupIntervals"));return hi(r)<hi(t)&&(r=Object.assign({},t)),r}getIntervalMax(e){return this._intervalMax[e.timeUnit+e.count]}getIntervalMin(e){return this._intervalMin[e.timeUnit+e.count]}_handleRangeChange(){super._handleRangeChange();let e=Math.round(this.getPrivate("selectionMin")),t=Math.round(this.getPrivate("selectionMax"));if(J(e)&&J(t)){if(this.get("endLocation")==0&&(t+=1),this.get("groupData")&&!this._groupingCalculated){this._groupingCalculated=!0;let r=this.get("groupInterval"),o=this.getPrivate("groupInterval"),u=t-e+(this.get("startLocation",0)+(1-this.get("endLocation",1))*this.baseDuration());if(o){let f=hi(o);u=Math.ceil(u/f)*f}if(r||(r=this.getGroupInterval(u)),r&&(!o||o.timeUnit!==r.timeUnit||o.count!==r.count||this._seriesDataGrouped)){this._seriesDataGrouped=!1,this.setPrivateRaw("groupInterval",r),this._setBaseInterval(r);let f=r.timeUnit+r.count;K(this.series,m=>{m.get("baseAxis")===this&&m.setDataSet(f)}),this.markDirtyExtremes(),this._root.events.once("frameended",()=>{this._root.events.once("frameended",()=>{const m="groupintervalchanged";this.events.isEnabled(m)&&this.events.dispatch(m,{type:m,target:this})})})}}K(this.series,r=>{if(r.get("baseAxis")===this){let o=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),f=Gl(r.dataItems,O=>fi(O.get(o),e)).index;f>0&&(f-=1),t+=this.baseDuration()*(1-this.get("endLocation",1));let y=mn(r.dataItems,O=>fi(O.get(o),t)).index,D=y;D>1&&D--;const T=r.dataItems[f],C=r.dataItems[D];let M,S;T&&(S=T.get(o)),C&&(M=C.get(o));let X=!1;M!=null&&S!=null&&(M<e||S>t)&&(X=!0),r.setPrivate("outOfSelection",X),r.setPrivate("startIndex",f),r.setPrivate("adjustedStartIndex",r._adjustStartIndex(f)),r.setPrivate("endIndex",y)}})}}_adjustMinMax(e,t,r,o){return{min:e,max:t,step:(t-e)/r}}intervalDuration(){return this._intervalDuration}_saveMinMax(e,t){let r=this.getPrivate("groupInterval");r||(r=this.get("baseInterval"));let o=r.timeUnit+r.count;this._intervalMin[o]=e,this._intervalMax[o]=t}_getM(e){return e=="month"||e=="year"||e=="day"?1.05:1.01}_getMinorInterval(e){var t;let r,o=e.count,u=e.timeUnit;return o>1&&(o==10||o==15?o=5:o==12?o=2:o==6?o=1:o==30?o=10:o<10&&(o=1),r={timeUnit:u,count:o}),u=="week"&&((t=this.getPrivate("baseInterval"))===null||t===void 0?void 0:t.timeUnit)!="week"&&(r={timeUnit:"day",count:1}),r}_prepareAxisItems(){const e=this.getPrivate("min"),t=this.getPrivate("max");if(J(e)&&J(t)){const r=this._root,o=Math.round(this.getPrivate("selectionMin")),u=Math.round(this.getPrivate("selectionMax")),f=this.get("renderer"),m=this.getPrivate("baseInterval");let y=o,D=0;const T=this.get("gridIntervals");let C=_n(0,u-o,f.gridCount(),T);hi(C)<this.baseDuration()&&(C=Object.assign({},m));const M=hi(C);this._intervalDuration=M;const S=oh(C.timeUnit),X=r.utc,O=r.timezone;y=Ot(o-M,C.timeUnit,C.count,r,e);let z=y-M,G;const R=this.get("dateFormats");this.setPrivateRaw("gridInterval",C);const U=f.get("minorLabelsEnabled"),N=f.get("minorGridEnabled",U);let V,se=0;N&&(V=this._getMinorInterval(C),se=hi(V));let re=0;for(;y<u+M;){let ee;this.dataItems.length<D+1?(ee=new ti(this,void 0,{}),this._dataItems.push(ee),this.processDataItem(ee)):ee=this.dataItems[D],this._createAssets(ee,[]),this._toggleDataItem(ee,!0),ee.setRaw("value",y),ee.setRaw("labelEndValue",void 0);let oe=y+It(C.timeUnit,C.count*this._getM(C.timeUnit));oe=Ot(oe,C.timeUnit,1,r),ee.setRaw("endValue",oe);let xe=new Date(y);G=R[C.timeUnit],S&&this.get("markUnitChange")&&J(z)&&C.timeUnit!="year"&&lh(y,z,S,X,O)&&(G=this.get("periodChangeDateFormats")[C.timeUnit]);const me=ee.get("label");me&&me.set("text",r.dateFormatter.format(xe,G));let Pe=C.count;if(C.timeUnit=="week"&&ee.setRaw("labelEndValue",y),N){Pe=1;let ye=C.timeUnit;ye=="week"&&(ye="day");let Ce=y+It(ye,this._getM(ye));Ce=Ot(Ce,ye,1,r),ee.setRaw("labelEndValue",Ce)}if(this._prepareDataItem(ee,Pe),z=y,y=oe,V){const ye=V.timeUnit,Ce=V.count,Ae=this._getM(ye);let qe=Ot(z+se*Ae,ye,Ce,r,z),Me,$e=this.get("minorDateFormats",this.get("dateFormats"));for(;qe<y-.01*se;){let De;this.minorDataItems.length<re+1?(De=new ti(this,void 0,{}),this.minorDataItems.push(De),this.processDataItem(De)):De=this.minorDataItems[re],this._createAssets(De,["minor"],!0),this._toggleDataItem(De,!0),De.setRaw("value",qe);let at=qe+It(ye,Ce*Ae);at=Ot(at,ye,1,r),De.setRaw("endValue",at);let Tt=new Date(qe);G=$e[ye];const je=De.get("label");if(je&&(U?je.set("text",r.dateFormatter.format(Tt,G)):je.setPrivate("visible",!1)),this._prepareDataItem(De,1),qe==Me)break;Me=qe,qe=at,re++}}if(y==z)break;D++}for(let ee=D;ee<this.dataItems.length;ee++)this._toggleDataItem(this.dataItems[ee],!1);for(let ee=re;ee<this.minorDataItems.length;ee++)this._toggleDataItem(this.minorDataItems[ee],!1);K(this.series,ee=>{ee.inited&&ee._markDirtyAxes()})}this._updateGhost()}_updateFinals(e,t){this.setPrivateRaw("selectionMinFinal",this.positionToValue(e)),this.setPrivateRaw("selectionMaxFinal",this.positionToValue(t))}_getDelta(){this._deltaMinMax=this.baseDuration()/2}_fixMin(e){const t=this.getPrivate("baseInterval"),r=t.timeUnit;let o=Ot(e,r,t.count,this._root),u=o+It(r,t.count*this._getM(r));return u=Ot(u,r,1,this._root),o+(u-o)*this.get("startLocation",0)}_fixMax(e){const t=this.getPrivate("baseInterval"),r=t.timeUnit;let o=Ot(e,r,t.count,this._root),u=o+It(r,t.count*this._getM(r));return u=Ot(u,r,1,this._root),o+(u-o)*this.get("endLocation",1)}_updateDates(e,t){}baseDuration(){return this._baseDuration}baseMainDuration(){return hi(this.get("baseInterval"))}processSeriesDataItem(e,t){const r=this.getPrivate("baseInterval");e.open||(e.open={}),e.close||(e.close={}),K(t,o=>{let u=e.get(o);if(J(u)){let f=e.open[o],m=e.close[o];if(!(u>=f&&u<=m)){const y=r.timeUnit,D=r.count;f=Ot(u,y,D,this._root),m=f+It(y,D*this._getM(y)),m=Ot(m,y,1,this._root),e.open[o]=f,e.close[o]=m}this._updateDates(f,e.component)}})}_handleSizeDirty(){}getDataItemPositionX(e,t,r,o){let u,f;e.open&&e.close?(u=e.open[t],f=e.close[t]):(u=e.get(t),f=u);let m=u+(f-u)*r;return m=this._baseValue+(m-this._baseValue)*o,this.valueToPosition(m)}getDataItemCoordinateX(e,t,r,o){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,r,o))}getDataItemPositionY(e,t,r,o){let u,f;e.open&&e.close?(u=e.open[t],f=e.close[t]):(u=e.get(t),f=u);let m=u+(f-u)*r;return m=this._baseValue+(m-this._baseValue)*o,this.valueToPosition(m)}getDataItemCoordinateY(e,t,r,o){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,r,o))}roundAxisPosition(e,t){let r=this.positionToValue(e);r=r-(t-.5)*this.baseDuration();let o=this.getPrivate("baseInterval");if(!pi(r)){const u=this._root.locale.firstDayOfWeek,f=o.timeUnit,m=this._root.utc,y=this._root.timezone,D=o.count;r=Ot(r,f,D,this._root,this.getPrivate("min",0));let T=tn(o,new Date(r),u,m,y);return y&&(r=Ot(r+this.baseDuration()*.05,f,D,this._root,this.getPrivate("min",0)),T=tn(o,new Date(r+T*t),u,m,y)),this.valueToPosition(r+T*t)}return NaN}getTooltipText(e,t){if(this.getPrivate("min")!=null){let r=this.get("tooltipDateFormats")[this.getPrivate("baseInterval").timeUnit],o=this.positionToValue(e);if(J(o)){let u=new Date(o),f=this.getPrivate("baseInterval"),m=tn(f,u,this._root.locale.firstDayOfWeek,this._root.utc,this._root.timezone);return t!==!1&&(u=new Date(o+this.get("tooltipIntervalOffset",-this.get("tooltipLocation",.5))*m)),this._root.dateFormatter.format(u,this.get("tooltipDateFormat",r))}}return""}getSeriesItem(e,t,r,o){let u=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),f=this.positionToValue(t);r==null&&(r=.5),f=f-(r-.5)*this.baseDuration();const m=mn(e.dataItems,y=>{let D=0;return y.open&&(D=y.open[u]),fi(D,f)});if(o||e.get("snapTooltip")){let y=e.dataItems[m.index-1],D=e.dataItems[m.index];if(y&&D&&y.open&&D.close){let T=y.open[u],C=D.close[u];if(Math.abs(f-T)>Math.abs(f-C))return D}if(y)return y;if(D)return D}else{const y=e.dataItems[m.index-1];if(y&&y.open&&y.close){let D=y.open[u],T=y.close[u];if(f>=D&&f<=T)return y}}}shouldGap(e,t,r,o){const u=e.get(o);return t.get(o)-u>this.baseDuration()*r}zoomToDates(e,t,r){this.zoomToValues(e.getTime(),t.getTime(),r)}positionToDate(e){return new Date(this.positionToValue(e))}dateToPosition(e){return this.valueToPosition(e.getTime())}getCellWidthPosition(){let e=this.getPrivate("selectionMax",this.getPrivate("max")),t=this.getPrivate("selectionMin",this.getPrivate("min"));return J(e)&&J(t)?this._intervalDuration/(e-t):.05}}Object.defineProperty(la,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DateAxis"});Object.defineProperty(la,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Os.classNames.concat([la.className])});class ha extends ai{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(ha,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabel"});Object.defineProperty(ha,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ai.classNames.concat([ha.className])});class ua extends dr{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(ua,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisTick"});Object.defineProperty(ua,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:dr.classNames.concat([ua.className])});class us extends Ge{constructor(){super(...arguments),Object.defineProperty(this,"_axisLength",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"_start",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_end",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_inversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_minSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lc",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ls",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_thumbDownPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:new Si(vt.new({}),()=>ua._new(this._root,{themeTags:tt(this.ticks.template.get("themeTags",[]),this.get("themeTags",[]))},[this.ticks.template]))}),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:new Si(vt.new({}),()=>Es._new(this._root,{themeTags:tt(this.grid.template.get("themeTags",[]),this.get("themeTags",[]))},[this.grid.template]))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:new Si(vt.new({}),()=>Ge._new(this._root,{themeTags:tt(this.axisFills.template.get("themeTags",["axis","fill"]),this.get("themeTags",[]))},[this.axisFills.template]))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new Si(vt.new({}),()=>ha._new(this._root,{themeTags:tt(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template]))}),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}makeTick(e,t){const r=this.ticks.make();return r._setDataItem(e),e.setRaw("tick",r),r.set("themeTags",tt(r.get("themeTags"),t)),this.axis.labelsContainer.children.push(r),this.ticks.push(r),r}makeGrid(e,t){const r=this.grid.make();return r._setDataItem(e),e.setRaw("grid",r),r.set("themeTags",tt(r.get("themeTags"),t)),this.axis.gridContainer.children.push(r),this.grid.push(r),r}makeAxisFill(e,t){const r=this.axisFills.make();return r._setDataItem(e),r.set("themeTags",tt(r.get("themeTags"),t)),this.axis.gridContainer.children.push(r),e.setRaw("axisFill",r),this.axisFills.push(r),r}makeLabel(e,t){const r=this.labels.make();return r.set("themeTags",tt(r.get("themeTags"),t)),this.axis.labelsContainer.children.moveValue(r,0),r._setDataItem(e),e.setRaw("label",r),this.labels.push(r),r}axisLength(){return 0}gridCount(){return this.axisLength()/this.get("minGridDistance",50)}_updatePositions(){}_afterNew(){super._afterNew(),this.set("isMeasured",!1);const e=this.thumb;e&&(this._disposers.push(e.events.on("pointerdown",t=>{this._handleThumbDown(t)})),this._disposers.push(e.events.on("globalpointerup",t=>{this._handleThumbUp(t)})),this._disposers.push(e.events.on("globalpointermove",t=>{this._handleThumbMove(t)})))}_beforeChanged(){super._beforeChanged(),this.isDirty("minGridDistance")&&this.root.events.once("frameended",()=>{this.axis.markDirtySize()})}_changed(){if(super._changed(),this.isDirty("pan")){const e=this.thumb;if(e){const t=this.axis.labelsContainer,r=this.get("pan");r=="zoom"?t.children.push(e):r=="none"&&t.children.removeValue(e)}}}_handleThumbDown(e){this._thumbDownPoint=this.toLocal(e.point);const t=this.axis;this._downStart=t.get("start"),this._downEnd=t.get("end")}_handleThumbUp(e){this._thumbDownPoint=void 0}_handleThumbMove(e){const t=this._thumbDownPoint;if(t){const r=this.toLocal(e.point),o=this._downStart,u=this._downEnd,f=this._getPan(r,t)*Math.min(1,u-o)/2;this.axis.zoom(o-f,u+f,0)}}_getPan(e,t){return 0}positionToCoordinate(e){return this._inversed?(this._end-e)*this._axisLength:(e-this._start)*this._axisLength}updateTooltipBounds(e){}_updateSize(){this.markDirty(),this._clear=!0}toAxisPosition(e){const t=this._start||0,r=this._end||1;return e=e*(r-t),this.get("inversed")?e=r-e:e=t+e,e}toGlobalPosition(e){const t=this._start||0,r=this._end||1;return this.get("inversed")?e=r-e:e=e-t,e=e/(r-t),e}fixPosition(e){return this.get("inversed")?1-e:e}_updateLC(){}toggleVisibility(e,t,r,o){let u=this.axis;const f=u.get("start",0),m=u.get("end",1);let y=f+(m-f)*(r-1e-4),D=f+(m-f)*(o+1e-4);t<y||t>D?e.setPrivate("visible",!1):e.setPrivate("visible",!0)}_positionTooltip(e,t){const r=this.chart;r&&(e.set("pointTo",this._display.toGlobal(t)),r.inPlot(t)||e.hide())}processAxis(){}}Object.defineProperty(us,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRenderer"});Object.defineProperty(us,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ge.classNames.concat([us.className])});class ca extends us{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:jt.new(this._root,{width:fe,isMeasured:!1,themeTags:["axis","x","thumb"]})})}_afterNew(){this._settings.themeTags=tt(this._settings.themeTags,["renderer","x"]),super._afterNew(),this.setPrivateRaw("letter","X");const e=this.grid.template;e.set("height",fe),e.set("width",0),e.set("draw",(t,r)=>{t.moveTo(0,0),t.lineTo(0,r.height())}),this.set("draw",(t,r)=>{t.moveTo(0,0),t.lineTo(r.width(),0)})}_changed(){super._changed();const e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("x",-1e3);const t="opposite",r="inside";if(this.isDirty(t)||this.isDirty(r)){const o=this.chart,u=e.children;if(this.get(r)?e.addTag(r):e.removeTag(r),o){if(this.get(t)){const f=o.topAxesContainer.children;f.indexOf(e)==-1&&f.insertIndex(0,e),e.addTag(t),u.moveValue(this)}else{const f=o.bottomAxesContainer.children;f.indexOf(e)==-1&&f.moveValue(e),e.removeTag(t),u.moveValue(this,0)}e.ghostLabel._applyThemes(),this.labels.each(f=>{f._applyThemes()}),this.root._markDirtyRedraw()}e.markDirtySize()}this.thumb.setPrivate("height",e.labelsContainer.height())}_getPan(e,t){return(t.x-e.x)/this.width()}toAxisPosition(e){const t=this._start||0,r=this._end||1;return e-=this._ls,e=e*(r-t)/this._lc,this.get("inversed")?e=r-e:e=t+e,e}toGlobalPosition(e){const t=this._start||0,r=this._end||1;return this.get("inversed")?e=r-e:e=e-t,e=e/(r-t)*this._lc,e+=this._ls,e}_updateLC(){const e=this.axis,t=e.parent;if(t){const r=t.innerWidth();this._lc=this.axisLength()/r,this._ls=(e.x()-t.get("paddingLeft",0))/r}}_updatePositions(){const e=this.axis,t=e.x()-xt(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0);e.gridContainer.set("x",t),e.topGridContainer.set("x",t),e.bulletsContainer.set("y",this.y());const r=e.chart;if(r){const o=r.plotContainer,u=e.axisHeader;let f=e.get("marginLeft",0),m=e.x()-f;const y=e.parent;y&&(m-=y.get("paddingLeft",0)),u.children.length>0?(f=e.axisHeader.width(),e.set("marginLeft",f+1)):u.set("width",f),u.setAll({x:m,y:-1,height:o.height()+2})}}processAxis(){super.processAxis();const e=this.axis;e.get("width")==null&&e.set("width",fe);const t=this._root.verticalLayout;e.set("layout",t),e.labelsContainer.set("width",fe),e.axisHeader.setAll({layout:t})}axisLength(){return this.axis.width()}positionToPoint(e){return{x:this.positionToCoordinate(e),y:0}}updateTick(e,t,r,o){if(e){J(t)||(t=0);let u=.5;J(o)&&o>1?u=e.get("multiLocation",u):u=e.get("location",u),J(r)&&r!=t&&(t=t+(r-t)*u),e.set("x",this.positionToCoordinate(t));let f=e.get("length",0);const m=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("y",fe),m||(f*=-1)):(e.set("y",0),m&&(f*=-1)),e.set("draw",y=>{y.moveTo(0,0),y.lineTo(0,f)}),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateLabel(e,t,r,o){if(e){let u=.5;J(o)&&o>1?u=e.get("multiLocation",u):u=e.get("location",u),J(t)||(t=0);const f=e.get("inside",this.get("inside",!1));this.get("opposite")?f?(e.set("position","absolute"),e.set("y",0)):(e.set("position","relative"),e.set("y",fe)):f?(e.set("y",0),e.set("position","absolute")):(e.set("y",void 0),e.set("position","relative")),J(r)&&r!=t&&(t=t+(r-t)*u),e.set("x",this.positionToCoordinate(t)),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateGrid(e,t,r){if(e){J(t)||(t=0);let o=e.get("location",.5);J(r)&&r!=t&&(t=t+(r-t)*o),e.set("x",this.positionToCoordinate(t)),this.toggleVisibility(e,t,0,1)}}updateBullet(e,t,r){if(e){const o=e.get("sprite");if(o){J(t)||(t=0);let u=e.get("location",.5);J(r)&&r!=t&&(t=t+(r-t)*u);let f=this.axis.roundAxisPosition(t,u),m=this.axis._bullets[f],y=-1;if(this.get("opposite")&&(y=1),e.get("stacked"))if(m){let D=m.get("sprite");D&&o.set("y",D.y()+D.height()*y)}else o.set("y",0);this.axis._bullets[f]=e,o.set("x",this.positionToCoordinate(t)),this.toggleVisibility(o,t,0,1)}}}updateFill(e,t,r){if(e){J(t)||(t=0),J(r)||(r=1);let o=this.positionToCoordinate(t),u=this.positionToCoordinate(r);this.fillDrawMethod(e,o,u)}}fillDrawMethod(e,t,r){e.set("draw",o=>{const u=this.axis.gridContainer.height(),f=this.width();r<t&&([r,t]=[t,r]),!(t>f||r<0)&&(o.moveTo(t,0),o.lineTo(r,0),o.lineTo(r,u),o.lineTo(t,u),o.lineTo(t,0))})}positionTooltip(e,t){this._positionTooltip(e,{x:this.positionToCoordinate(t),y:0})}updateTooltipBounds(e){const t=this.get("inside"),r=1e5;let o=this._display.toGlobal({x:0,y:0}),u=o.x,f=0,m=this.axisLength(),y=r,D="up";this.get("opposite")?t?(D="up",f=o.y,y=r):(D="down",f=o.y-r,y=r):t?(D="down",f=o.y-r,y=r):(D="up",f=o.y,y=r);const T={left:u,right:u+m,top:f,bottom:f+y},C=e.get("bounds");Jl(T,C)||(e.set("bounds",T),e.set("pointerOrientation",D))}}Object.defineProperty(ca,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererX"});Object.defineProperty(ca,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:us.classNames.concat([ca.className])});class da extends us{constructor(){super(...arguments),Object.defineProperty(this,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:jt.new(this._root,{height:fe,isMeasured:!1,themeTags:["axis","y","thumb"]})})}_afterNew(){this._settings.themeTags=tt(this._settings.themeTags,["renderer","y"]),this._settings.opposite&&this._settings.themeTags.push("opposite"),super._afterNew(),this.setPrivateRaw("letter","Y");const e=this.grid.template;e.set("width",fe),e.set("height",0),e.set("draw",(t,r)=>{t.moveTo(0,0),t.lineTo(r.width(),0)}),this.set("draw",(t,r)=>{t.moveTo(0,0),t.lineTo(0,r.height())})}_getPan(e,t){return(e.y-t.y)/this.height()}_changed(){super._changed();const e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("y",-1e3);const t=this.thumb,r="opposite",o="inside",u=this.chart;if(this.isDirty(r)||this.isDirty(o)){const m=e.children;if(this.get(o)?e.addTag(o):e.removeTag(o),u){if(this.get(r)){const y=u.rightAxesContainer.children;y.indexOf(e)==-1&&y.moveValue(e,0),e.addTag(r),m.moveValue(this,0)}else{const y=u.leftAxesContainer.children;y.indexOf(e)==-1&&y.moveValue(e),e.removeTag(r),m.moveValue(this)}e.ghostLabel._applyThemes(),this.labels.each(y=>{y._applyThemes()}),this.root._markDirtyRedraw()}e.markDirtySize()}const f=e.labelsContainer.width();u&&(this.get(r)?t.set("centerX",0):t.set("centerX",f)),t.setPrivate("width",f)}processAxis(){super.processAxis();const e=this.axis;e.get("height")==null&&e.set("height",fe);const t=this._root.horizontalLayout;e.set("layout",t),e.labelsContainer.set("height",fe),e.axisHeader.set("layout",t)}_updatePositions(){const e=this.axis,t=e.y()-xt(e.get("centerY",0),e.height());e.gridContainer.set("y",t),e.topGridContainer.set("y",t),e.bulletsContainer.set("x",this.x());const r=e.chart;if(r){const o=r.plotContainer,u=e.axisHeader;let f=e.get("marginTop",0);u.children.length>0?(f=e.axisHeader.height(),e.set("marginTop",f+1)):u.set("height",f),u.setAll({y:e.y()-f,x:-1,width:o.width()+2})}}axisLength(){return this.axis.innerHeight()}positionToPoint(e){return{x:0,y:this.positionToCoordinate(e)}}updateLabel(e,t,r,o){if(e){J(t)||(t=0);let u=.5;J(o)&&o>1?u=e.get("multiLocation",u):u=e.get("location",u);const f=this.get("opposite"),m=e.get("inside",this.get("inside",!1));f?(e.set("x",0),m?e.set("position","absolute"):e.set("position","relative")):m?(e.set("x",0),e.set("position","absolute")):(e.set("x",void 0),e.set("position","relative")),J(r)&&r!=t&&(t=t+(r-t)*u),e.set("y",this.positionToCoordinate(t)),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateGrid(e,t,r){if(e){J(t)||(t=0);let o=e.get("location",.5);J(r)&&r!=t&&(t=t+(r-t)*o),e.set("y",this.positionToCoordinate(t)),this.toggleVisibility(e,t,0,1)}}updateTick(e,t,r,o){if(e){J(t)||(t=0);let u=.5;J(o)&&o>1?u=e.get("multiLocation",u):u=e.get("location",u),J(r)&&r!=t&&(t=t+(r-t)*u),e.set("y",this.positionToCoordinate(t));let f=e.get("length",0);const m=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("x",0),m&&(f*=-1)):m||(f*=-1),e.set("draw",y=>{y.moveTo(0,0),y.lineTo(f,0)}),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateBullet(e,t,r){if(e){const o=e.get("sprite");if(o){J(t)||(t=0);let u=e.get("location",.5);J(r)&&r!=t&&(t=t+(r-t)*u);let f=this.axis.roundAxisPosition(t,u),m=this.axis._bullets[f],y=1;if(this.get("opposite")&&(y=-1),e.get("stacked"))if(m){let D=m.get("sprite");D&&o.set("x",D.x()+D.width()*y)}else o.set("x",0);this.axis._bullets[f]=e,o.set("y",this.positionToCoordinate(t)),this.toggleVisibility(o,t,0,1)}}}updateFill(e,t,r){if(e){J(t)||(t=0),J(r)||(r=1);let o=this.positionToCoordinate(t),u=this.positionToCoordinate(r);this.fillDrawMethod(e,o,u)}}fillDrawMethod(e,t,r){e.set("draw",o=>{const u=this.axis.gridContainer.width(),f=this.height();r<t&&([r,t]=[t,r]),!(t>f||r<0)&&(o.moveTo(0,t),o.lineTo(u,t),o.lineTo(u,r),o.lineTo(0,r),o.lineTo(0,t))})}positionToCoordinate(e){return this._inversed?(e-this._start)*this._axisLength:(this._end-e)*this._axisLength}positionTooltip(e,t){this._positionTooltip(e,{x:0,y:this.positionToCoordinate(t)})}updateTooltipBounds(e){const t=this.get("inside"),r=1e5;let o=this._display.toGlobal({x:0,y:0}),u=o.y,f=0,m=this.axisLength(),y=r,D="right";this.get("opposite")?t?(D="right",f=o.x-r,y=r):(D="left",f=o.x,y=r):t?(D="left",f=o.x,y=r):(D="right",f=o.x-r,y=r);const T={left:f,right:f+y,top:u,bottom:u+m},C=e.get("bounds");Jl(T,C)||(e.set("bounds",T),e.set("pointerOrientation",D))}_updateLC(){const e=this.axis,t=e.parent;if(t){const r=t.innerHeight();this._lc=this.axisLength()/r,this._ls=e.y()/r}}toAxisPosition(e){const t=this._start||0,r=this._end||1;return e-=this._ls,e=e*(r-t)/this._lc,this.get("inversed")?e=t+e:e=r-e,e}toGlobalPosition(e){const t=this._start||0,r=this._end||1;return this.get("inversed")?e=e-t:e=r-e,e=e/(r-t)*this._lc,e+=this._ls,e}fixPosition(e){return this.get("inversed")?e:1-e}}Object.defineProperty(da,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererY"});Object.defineProperty(da,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:us.classNames.concat([da.className])});class fa extends gr{constructor(){super(...arguments),Object.defineProperty(this,"_endIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeGenerator",{enumerable:!0,configurable:!0,writable:!0,value:mh()}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:Lm()}),Object.defineProperty(this,"_legendStroke",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_legendFill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:new Si(vt.new({}),()=>Ge._new(this._root,{themeTags:tt(this.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template]))}),Object.defineProperty(this,"fills",{enumerable:!0,configurable:!0,writable:!0,value:new Si(vt.new({}),()=>Ge._new(this._root,{themeTags:tt(this.strokes.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template]))}),Object.defineProperty(this,"_fillTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_previousPoint",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(this,"_dindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_sindex",{enumerable:!0,configurable:!0,writable:!0,value:0})}_afterNew(){this._fillGenerator.y0(function(e){return e[3]}),this._fillGenerator.x0(function(e){return e[2]}),this._fillGenerator.y1(function(e){return e[1]}),this._fillGenerator.x1(function(e){return e[0]}),super._afterNew()}makeStroke(e){const t=this.mainContainer.children.push(e.make());return e.push(t),t}makeFill(e){const t=this.mainContainer.children.push(e.make());return e.push(t),t}_updateChildren(){this._strokeTemplate=void 0,this._fillTemplate=void 0;let e=this.get("xAxis"),t=this.get("yAxis");if(this.isDirty("stroke")){const r=this.get("stroke");this.strokes.template.set("stroke",r);const o=this._legendStroke;o&&o.states.lookup("default").set("stroke",r)}if(this.isDirty("fill")){const r=this.get("fill");this.fills.template.set("fill",r);const o=this._legendFill;o&&o.states.lookup("default").set("fill",r)}if(this.isDirty("curveFactory")){const r=this.get("curveFactory");r&&(this._strokeGenerator.curve(r),this._fillGenerator.curve(r))}if(e.inited&&t.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty||this.isDirty("connect")||this.isDirty("curveFactory")){this.fills.each(T=>{T.setPrivate("visible",!1)}),this.strokes.each(T=>{T.setPrivate("visible",!1)}),this.axisRanges.each(T=>{let C=T.fills;C&&C.each(S=>{S.setPrivate("visible",!1)});let M=T.strokes;M&&M.each(S=>{S.setPrivate("visible",!1)})});let r=this.startIndex(),o=this.strokes.template.get("templateField"),u=this.fills.template.get("templateField"),f=!0,m=!0;o&&(f=!1),u&&(m=!1);for(let T=r-1;T>=0;T--){let C=this.dataItems[T],M=!0,S=C.dataContext;if(o&&S[o]&&(f=!0),u&&S[u]&&(m=!0),K(this._valueFields,X=>{J(C.get(X))||(M=!1)}),M&&f&&m){r=T;break}}let y=this.dataItems.length,D=this.endIndex();if(D<y){D++;for(let T=D;T<y;T++){let C=this.dataItems[T],M=!0;if(K(this._valueFields,S=>{J(C.get(S))||(M=!1)}),M){D=T+1;break}}}if(r>0&&r--,this._endIndex=D,this._clearGraphics(),this._sindex=0,this._dindex=r,this.dataItems.length==1)this._startSegment(0);else for(;this._dindex<D-1;)this._startSegment(this._dindex),this._sindex++}}else this._skipped=!0;super._updateChildren()}_clearGraphics(){this.strokes.clear(),this.fills.clear()}_startSegment(e){let t=this._endIndex,r=t;const o=this.get("autoGapCount"),u=this.get("connect"),f=this.makeFill(this.fills),m=this._fillTemplate,y=this.fills.template;m&&m!=y&&(f.template=m),f.setPrivate("visible",!0);const D=this.makeStroke(this.strokes),T=this._strokeTemplate;T&&T!=this.strokes.template&&(D.template=T),D.setPrivate("visible",!0);let C=this.get("xAxis"),M=this.get("yAxis"),S=this.get("baseAxis"),X=this.get("vcx",1),O=this.get("vcy",1),z=this._xField,G=this._yField,R=this._xOpenField,U=this._yOpenField;const N=this.get("openValueXField"),V=this.get("openValueYField");N||(R=this._xField),V||(U=this._yField);const se=this.get("stacked"),re=C.basePosition(),ee=M.basePosition();let oe;S===M?oe=this._yField:oe=this._xField;const xe=[];let me=[];xe.push(me);const Pe=this.strokes.template.get("templateField"),ye=this.fills.template.get("templateField");let Ce=this.get("locationX",.5),Ae=this.get("locationY",.5),qe=this.get("openLocationX",Ce),Me=this.get("openLocationY",Ae);const $e=this.get("minDistance",0);let De,at=this.fills.template.get("visible");this.axisRanges.length>0&&(at=!0);let Tt=!1;(se||N||V)&&(Tt=!0);const je={points:me,segments:xe,stacked:se,getOpen:Tt,basePosX:re,basePosY:ee,fillVisible:at,xField:z,yField:G,xOpenField:R,yOpenField:U,vcx:X,vcy:O,baseAxis:S,xAxis:C,yAxis:M,locationX:Ce,locationY:Ae,openLocationX:qe,openLocationY:Me,minDistance:$e};for(De=e;De<r;De++){this._dindex=De;const We=this._dataItems[De];let yt=We.get(z),At=We.get(G);if(yt==null||At==null?u||(me=[],xe.push(me),je.points=me):this._getPoints(We,je),Pe){let Ee=We.dataContext[Pe];if(Ee)if(Ee instanceof vt||(Ee=vt.new(Ee)),this._strokeTemplate=Ee,De>e){r=De;break}else D.template=Ee}if(ye){let Ee=We.dataContext[ye];if(Ee)if(Ee instanceof vt||(Ee=vt.new(Ee)),this._fillTemplate=Ee,De>e){r=De;break}else f.template=Ee}if(!u){let Ee=this.dataItems[De+1];Ee&&S.shouldGap(We,Ee,o,oe)&&(me=[],xe.push(me),je.points=me)}}f.setRaw("userData",[e,De]),D.setRaw("userData",[e,De]),De===t&&this._endLine(me,xe[0][0]),D&&this._drawStroke(D,xe),f&&this._drawFill(f,xe),this.axisRanges.each(We=>{const yt=We.container,At=We.fills,Ee=this.makeFill(At);yt&&yt.children.push(Ee),Ee.setPrivate("visible",!0),this._drawFill(Ee,xe);const Gi=We.strokes,St=this.makeStroke(Gi);yt&&yt.children.push(St),St.setPrivate("visible",!0),this._drawStroke(St,xe),Ee.setRaw("userData",[e,De]),St.setRaw("userData",[e,De])})}_getPoints(e,t){let r=t.points,o=e.get("locationX",t.locationX),u=e.get("locationY",t.locationY),f=t.xAxis.getDataItemPositionX(e,t.xField,o,t.vcx),m=t.yAxis.getDataItemPositionY(e,t.yField,u,t.vcy);if(this._shouldInclude(f)){const y=this.getPoint(f,m),D=[y.x,y.y];if(y.x+=this._x,y.y+=this._y,e.set("point",y),t.fillVisible){let T=f,C=m;if(t.baseAxis===t.xAxis?C=t.basePosY:t.baseAxis===t.yAxis&&(T=t.basePosX),t.getOpen){let S=e.get(t.xOpenField),X=e.get(t.yOpenField);if(S!=null&&X!=null){let O=e.get("openLocationX",t.openLocationX),z=e.get("openLocationY",t.openLocationY);if(t.stacked){let G=e.get("stackToItemX"),R=e.get("stackToItemY");G?(T=t.xAxis.getDataItemPositionX(G,t.xField,O,G.component.get("vcx")),pi(T)&&(T=t.basePosX)):t.yAxis===t.baseAxis?T=t.basePosX:T=t.xAxis.getDataItemPositionX(e,t.xOpenField,O,t.vcx),R?(C=t.yAxis.getDataItemPositionY(R,t.yField,z,R.component.get("vcy")),pi(C)&&(C=t.basePosY)):t.xAxis===t.baseAxis?C=t.basePosY:C=t.yAxis.getDataItemPositionY(e,t.yOpenField,z,t.vcy)}else T=t.xAxis.getDataItemPositionX(e,t.xOpenField,O,t.vcx),C=t.yAxis.getDataItemPositionY(e,t.yOpenField,z,t.vcy)}}let M=this.getPoint(T,C);D[2]=M.x,D[3]=M.y}if(t.minDistance>0){const T=D[0],C=D[1],M=D[2],S=D[3],X=this._previousPoint,O=X[0],z=X[1],G=X[2],R=X[3];(Math.hypot(T-O,C-z)>t.minDistance||M&&S&&Math.hypot(M-G,S-R)>t.minDistance)&&(r.push(D),this._previousPoint=D)}else r.push(D)}}_endLine(e,t){}_drawStroke(e,t){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",r=>{K(t,o=>{this._strokeGenerator.context(r),this._strokeGenerator(o)})})}_drawFill(e,t){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",r=>{K(t,o=>{this._fillGenerator.context(r),this._fillGenerator(o)})})}_processAxisRange(e){super._processAxisRange(e),e.fills=new Si(vt.new({}),()=>Ge._new(this._root,{themeTags:tt(e.fills.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template,e.fills.template])),e.strokes=new Si(vt.new({}),()=>Ge._new(this._root,{themeTags:tt(e.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template,e.strokes.template]))}createLegendMarker(e){const t=this.get("legendDataItem");if(t){const r=t.get("marker"),o=t.get("markerRectangle");o&&o.setPrivate("visible",!1),r.set("background",jt.new(r._root,{fillOpacity:0,fill:vs(0)}));const u=r.children.push(Ge._new(r._root,{themeTags:["line","series","legend","marker","stroke"],interactive:!1},[this.strokes.template]));this._legendStroke=u;const f=r.children.push(Ge._new(r._root,{themeTags:["line","series","legend","marker","fill"]},[this.fills.template]));this._legendFill=f;const m=this._root.interfaceColors.get("disabled");if(u.states.create("disabled",{fill:m,stroke:m}),f.states.create("disabled",{fill:m,stroke:m}),this.bullets.length>0){const y=this.bullets.getIndex(0);if(y){const D=y(r._root,this,new ti(this,{legend:!0},{}));if(D){const T=D.get("sprite");T instanceof Ge&&T.states.create("disabled",{fill:m,stroke:m}),T&&(T.set("tooltipText",void 0),T.set("tooltipHTML",void 0),r.children.push(T),T.setAll({x:r.width()/2,y:r.height()/2}),r.events.on("boundschanged",()=>{T.setAll({x:r.width()/2,y:r.height()/2})}))}}}}}}Object.defineProperty(fa,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LineSeries"});Object.defineProperty(fa,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:gr.classNames.concat([fa.className])});function Xm(n){const{data:e}=n??{};return ui.useLayoutEffect(()=>{var r,o,u;const t=Ea.new("lineChartDiv");if(((r=e==null?void 0:e.labels)==null?void 0:r.length)>0){const f=new Array((o=e==null?void 0:e.labels)==null?void 0:o.length);for(let M=0;M<f.length;M+=1)f[M]={date:e==null?void 0:e.labels[M],value:(u=e==null?void 0:e.datasets[0])==null?void 0:u.data[M]};t.setThemes([bh.new(t)]),t.dateFormatter.setAll({dateFormat:"yyyy",dateFields:["valueX"]});const m=t.container.children.push(na.new(t,{focusable:!0,panX:!0,panY:!0,wheelX:"panX",wheelY:"zoomX",pinchZoomX:!0,paddingLeft:0})),y=m.xAxes.push(la.new(t,{maxDeviation:.1,groupData:!1,baseInterval:{timeUnit:"day",count:1},renderer:ca.new(t,{minorGridEnabled:!0,minGridDistance:70}),tooltip:os.new(t,{})}));y.children.push(ai.new(t,{text:"Date",textAlign:"center",x:Ie,fontWeight:"bold"}));const D=m.yAxes.push(Os.new(t,{maxDeviation:.2,renderer:da.new(t,{})}));D.children.unshift(ai.new(t,{text:"Messages",textAlign:"center",y:Ie,rotation:-90,fontWeight:"bold"}));const T=m.series.push(fa.new(t,{minBulletDistance:10,connect:!1,xAxis:y,yAxis:D,valueYField:"value",valueXField:"date",tooltip:os.new(t,{pointerOrientation:"horizontal",labelText:"{valueY}"})}));T.fills.template.setAll({fillOpacity:.2,visible:!0}),T.strokes.template.setAll({strokeWidth:2}),T.data.processor=Bm.new(t,{dateFormat:"yyyy-MM-dd",dateFields:["date"]}),T.data.setAll(f),T.bullets.push(()=>{const M=sa.new(t,{radius:4,fill:t.interfaceColors.get("background"),stroke:T.get("fill"),strokeWidth:2});return ia.new(t,{sprite:M})}),m.set("cursor",oa.new(t,{xAxis:y,behavior:"none"})).lineY.set("visible",!1),m.set("scrollbarX",ra.new(t,{orientation:"horizontal"})),m.appear(1e3,100)}return()=>{t.dispose()}},[e]),Re.jsx("div",{id:"lineChartDiv",style:{width:"100%",height:"500px"}})}function xh({share:n}){const{labels:e,datasets:t}=n,r=t?t[0].data:[],o={chart:{width:280,type:"pie"},labels:e,legend:{show:!1},fill:{type:"image",opacity:1,image:{src:["../../assets/images/Sahiti_pie.jpeg","../../assets/images/Vamshi_pie.jpeg"],width:25,imagedHeight:25}},stroke:{width:4},title:{text:"Total Messages",align:"center",offsetX:0,offsetY:0,style:{fontSize:"14px",fontWeight:"bold",color:"#263238"}},dataLabels:{enabled:!0,style:{colors:["#111"]},background:{enabled:!0,foreColor:"#fff",borderWidth:0}},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]};return Re.jsx("div",{id:"chart",children:Re.jsx(Aa,{options:o,series:r,type:"pie",width:280})})}xh.propTypes={share:Js.object.isRequired};function vh({weekData:n}){let e,t;const{datasets:r,labels:o}=n;if((r==null?void 0:r.length)>1)return e=[{name:r[0].label,data:r[0].data},{name:r[1].label,data:r[1].data}],t={chart:{type:"bar",height:350,stacked:!0,toolbar:{show:!0},zoom:{enabled:!0}},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],plotOptions:{bar:{horizontal:!1,borderRadius:10,dataLabels:{total:{enabled:!0,style:{fontSize:"13px",fontWeight:900}}}}},xaxis:{categories:o,title:{text:"Day of the week"}},yaxis:{title:{text:"Messages"}},legend:{position:"right",offsetY:40},fill:{opacity:1}},Re.jsx("div",{id:"chartWeek",children:Re.jsx(Aa,{options:t,series:e,type:"bar",height:350})})}vh.propTypes={weekData:Js.object.isRequired};const Hm="/hellooo/assets/WhatsApp Chat with Vamshi-c1c587ef.txt";function Nm(){const[n,e]=ui.useState([]),[t,r]=ui.useState([]),[o,u]=ui.useState([]),[f,m]=ui.useState({}),[y,D]=ui.useState({}),[T,C]=ui.useState({});return ui.useEffect(()=>{fetch(Hm).then(M=>M.text()).then(M=>{const S=new kt(Uh(M));S.getAllWords().then(X=>{e(X)}),S.getLineGraphData().then(X=>{r(X)}),S.getFunFacts().then(X=>{u(X)}),S.getShareOfSpeech().then(X=>{m(X)}),S.getHourlyData().then(X=>D(X)),S.getDailyData().then(X=>C(X))})},[]),Re.jsxs(Th,{maxWidth:"xl",children:[Re.jsxs(Ha,{container:!0,spacing:2,children:[Re.jsx(Ha,{xs:3,children:Re.jsx(xh,{share:f})}),o.map((M,S)=>Re.jsx(Ha,{xs:4.5,children:Re.jsx(Yl,{facts:M,index:0})},S))]}),Re.jsx(Rm,{data:n,id:"wordCloud"}),Re.jsx(Xm,{data:t}),Re.jsx(Hl,{hourlyData:y}),Re.jsx(vh,{weekData:T})]})}function $m(){return Re.jsxs(Re.Fragment,{children:[Re.jsx(Ph,{children:Re.jsx("title",{children:" Hellooo "})}),Re.jsx(Nm,{})]})}export{$m as default};
